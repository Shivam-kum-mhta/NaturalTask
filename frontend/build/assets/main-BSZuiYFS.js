(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function wE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var vf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function RE(){if(Bp)return kl;Bp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var Pp;function DE(){return Pp||(Pp=1,vf.exports=RE()),vf.exports}var M=DE(),_f={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function CE(){if(qp)return wt;qp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function T(I){return I===null||typeof I!="object"?null:(I=R&&I[R]||I["@@iterator"],typeof I=="function"?I:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function j(I,nt,ht){this.props=I,this.context=nt,this.refs=U,this.updater=ht||A}j.prototype.isReactComponent={},j.prototype.setState=function(I,nt){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,nt,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function G(I,nt,ht){this.props=I,this.context=nt,this.refs=U,this.updater=ht||A}var q=G.prototype=new Y;q.constructor=G,O(q,j.prototype),q.isPureReactComponent=!0;var it=Array.isArray,$={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function N(I,nt,ht,lt,ot,bt){return ht=bt.ref,{$$typeof:s,type:I,key:nt,ref:ht!==void 0?ht:null,props:bt}}function D(I,nt){return N(I.type,nt,void 0,void 0,void 0,I.props)}function w(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function x(I){var nt={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ht){return nt[ht]})}var k=/\/+/g;function B(I,nt){return typeof I=="object"&&I!==null&&I.key!=null?x(""+I.key):nt.toString(36)}function V(){}function Zt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(V,V):(I.status="pending",I.then(function(nt){I.status==="pending"&&(I.status="fulfilled",I.value=nt)},function(nt){I.status==="pending"&&(I.status="rejected",I.reason=nt)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Jt(I,nt,ht,lt,ot){var bt=typeof I;(bt==="undefined"||bt==="boolean")&&(I=null);var Tt=!1;if(I===null)Tt=!0;else switch(bt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(I.$$typeof){case s:case e:Tt=!0;break;case E:return Tt=I._init,Jt(Tt(I._payload),nt,ht,lt,ot)}}if(Tt)return ot=ot(I),Tt=lt===""?"."+B(I,0):lt,it(ot)?(ht="",Tt!=null&&(ht=Tt.replace(k,"$&/")+"/"),Jt(ot,nt,ht,"",function(ae){return ae})):ot!=null&&(w(ot)&&(ot=D(ot,ht+(ot.key==null||I&&I.key===ot.key?"":(""+ot.key).replace(k,"$&/")+"/")+Tt)),nt.push(ot)),1;Tt=0;var te=lt===""?".":lt+":";if(it(I))for(var Vt=0;Vt<I.length;Vt++)lt=I[Vt],bt=te+B(lt,Vt),Tt+=Jt(lt,nt,ht,bt,ot);else if(Vt=T(I),typeof Vt=="function")for(I=Vt.call(I),Vt=0;!(lt=I.next()).done;)lt=lt.value,bt=te+B(lt,Vt++),Tt+=Jt(lt,nt,ht,bt,ot);else if(bt==="object"){if(typeof I.then=="function")return Jt(Zt(I),nt,ht,lt,ot);throw nt=String(I),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function st(I,nt,ht){if(I==null)return I;var lt=[],ot=0;return Jt(I,lt,"","",function(bt){return nt.call(ht,bt,ot++)}),lt}function yt(I){if(I._status===-1){var nt=I._result;nt=nt(),nt.then(function(ht){(I._status===0||I._status===-1)&&(I._status=1,I._result=ht)},function(ht){(I._status===0||I._status===-1)&&(I._status=2,I._result=ht)}),I._status===-1&&(I._status=0,I._result=nt)}if(I._status===1)return I._result.default;throw I._result}var dt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function zt(){}return wt.Children={map:st,forEach:function(I,nt,ht){st(I,function(){nt.apply(this,arguments)},ht)},count:function(I){var nt=0;return st(I,function(){nt++}),nt},toArray:function(I){return st(I,function(nt){return nt})||[]},only:function(I){if(!w(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},wt.Component=j,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=G,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(I){return function(){return I.apply(null,arguments)}},wt.cloneElement=function(I,nt,ht){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var lt=O({},I.props),ot=I.key,bt=void 0;if(nt!=null)for(Tt in nt.ref!==void 0&&(bt=void 0),nt.key!==void 0&&(ot=""+nt.key),nt)!rt.call(nt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&nt.ref===void 0||(lt[Tt]=nt[Tt]);var Tt=arguments.length-2;if(Tt===1)lt.children=ht;else if(1<Tt){for(var te=Array(Tt),Vt=0;Vt<Tt;Vt++)te[Vt]=arguments[Vt+2];lt.children=te}return N(I.type,ot,void 0,void 0,bt,lt)},wt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},wt.createElement=function(I,nt,ht){var lt,ot={},bt=null;if(nt!=null)for(lt in nt.key!==void 0&&(bt=""+nt.key),nt)rt.call(nt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ot[lt]=nt[lt]);var Tt=arguments.length-2;if(Tt===1)ot.children=ht;else if(1<Tt){for(var te=Array(Tt),Vt=0;Vt<Tt;Vt++)te[Vt]=arguments[Vt+2];ot.children=te}if(I&&I.defaultProps)for(lt in Tt=I.defaultProps,Tt)ot[lt]===void 0&&(ot[lt]=Tt[lt]);return N(I,bt,void 0,void 0,null,ot)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(I){return{$$typeof:p,render:I}},wt.isValidElement=w,wt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:yt}},wt.memo=function(I,nt){return{$$typeof:g,type:I,compare:nt===void 0?null:nt}},wt.startTransition=function(I){var nt=$.T,ht={};$.T=ht;try{var lt=I(),ot=$.S;ot!==null&&ot(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(zt,dt)}catch(bt){dt(bt)}finally{$.T=nt}},wt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},wt.use=function(I){return $.H.use(I)},wt.useActionState=function(I,nt,ht){return $.H.useActionState(I,nt,ht)},wt.useCallback=function(I,nt){return $.H.useCallback(I,nt)},wt.useContext=function(I){return $.H.useContext(I)},wt.useDebugValue=function(){},wt.useDeferredValue=function(I,nt){return $.H.useDeferredValue(I,nt)},wt.useEffect=function(I,nt){return $.H.useEffect(I,nt)},wt.useId=function(){return $.H.useId()},wt.useImperativeHandle=function(I,nt,ht){return $.H.useImperativeHandle(I,nt,ht)},wt.useInsertionEffect=function(I,nt){return $.H.useInsertionEffect(I,nt)},wt.useLayoutEffect=function(I,nt){return $.H.useLayoutEffect(I,nt)},wt.useMemo=function(I,nt){return $.H.useMemo(I,nt)},wt.useOptimistic=function(I,nt){return $.H.useOptimistic(I,nt)},wt.useReducer=function(I,nt,ht){return $.H.useReducer(I,nt,ht)},wt.useRef=function(I){return $.H.useRef(I)},wt.useState=function(I){return $.H.useState(I)},wt.useSyncExternalStore=function(I,nt,ht){return $.H.useSyncExternalStore(I,nt,ht)},wt.useTransition=function(){return $.H.useTransition()},wt.version="19.0.0",wt}var Hp;function rd(){return Hp||(Hp=1,_f.exports=CE()),_f.exports}var qt=rd();const pa=wE(qt);var Ef={exports:{}},Ll={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function OE(){return Gp||(Gp=1,function(s){function e(st,yt){var dt=st.length;st.push(yt);t:for(;0<dt;){var zt=dt-1>>>1,I=st[zt];if(0<o(I,yt))st[zt]=yt,st[dt]=I,dt=zt;else break t}}function i(st){return st.length===0?null:st[0]}function a(st){if(st.length===0)return null;var yt=st[0],dt=st.pop();if(dt!==yt){st[0]=dt;t:for(var zt=0,I=st.length,nt=I>>>1;zt<nt;){var ht=2*(zt+1)-1,lt=st[ht],ot=ht+1,bt=st[ot];if(0>o(lt,dt))ot<I&&0>o(bt,lt)?(st[zt]=bt,st[ot]=dt,zt=ot):(st[zt]=lt,st[ht]=dt,zt=ht);else if(ot<I&&0>o(bt,dt))st[zt]=bt,st[ot]=dt,zt=ot;else break t}}return yt}function o(st,yt){var dt=st.sortIndex-yt.sortIndex;return dt!==0?dt:st.id-yt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],g=[],E=1,R=null,T=3,A=!1,O=!1,U=!1,j=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function q(st){for(var yt=i(g);yt!==null;){if(yt.callback===null)a(g);else if(yt.startTime<=st)a(g),yt.sortIndex=yt.expirationTime,e(y,yt);else break;yt=i(g)}}function it(st){if(U=!1,q(st),!O)if(i(y)!==null)O=!0,Zt();else{var yt=i(g);yt!==null&&Jt(it,yt.startTime-st)}}var $=!1,rt=-1,N=5,D=-1;function w(){return!(s.unstable_now()-D<N)}function x(){if($){var st=s.unstable_now();D=st;var yt=!0;try{t:{O=!1,U&&(U=!1,Y(rt),rt=-1),A=!0;var dt=T;try{e:{for(q(st),R=i(y);R!==null&&!(R.expirationTime>st&&w());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,T=R.priorityLevel;var I=zt(R.expirationTime<=st);if(st=s.unstable_now(),typeof I=="function"){R.callback=I,q(st),yt=!0;break e}R===i(y)&&a(y),q(st)}else a(y);R=i(y)}if(R!==null)yt=!0;else{var nt=i(g);nt!==null&&Jt(it,nt.startTime-st),yt=!1}}break t}finally{R=null,T=dt,A=!1}yt=void 0}}finally{yt?k():$=!1}}}var k;if(typeof G=="function")k=function(){G(x)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,V=B.port2;B.port1.onmessage=x,k=function(){V.postMessage(null)}}else k=function(){j(x,0)};function Zt(){$||($=!0,k())}function Jt(st,yt){rt=j(function(){st(s.unstable_now())},yt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(st){st.callback=null},s.unstable_continueExecution=function(){O||A||(O=!0,Zt())},s.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<st?Math.floor(1e3/st):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_getFirstCallbackNode=function(){return i(y)},s.unstable_next=function(st){switch(T){case 1:case 2:case 3:var yt=3;break;default:yt=T}var dt=T;T=yt;try{return st()}finally{T=dt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(st,yt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var dt=T;T=st;try{return yt()}finally{T=dt}},s.unstable_scheduleCallback=function(st,yt,dt){var zt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,st){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=dt+I,st={id:E++,callback:yt,priorityLevel:st,startTime:dt,expirationTime:I,sortIndex:-1},dt>zt?(st.sortIndex=dt,e(g,st),i(y)===null&&st===i(g)&&(U?(Y(rt),rt=-1):U=!0,Jt(it,dt-zt))):(st.sortIndex=I,e(y,st),O||A||(O=!0,Zt())),st},s.unstable_shouldYield=w,s.unstable_wrapCallback=function(st){var yt=T;return function(){var dt=T;T=yt;try{return st.apply(this,arguments)}finally{T=dt}}}}(Af)),Af}var Fp;function NE(){return Fp||(Fp=1,Tf.exports=OE()),Tf.exports}var Sf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function VE(){if(Xp)return He;Xp=1;var s=rd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,g,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:g,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return h(y,g,null,E)},He.flushSync=function(y){var g=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=g,a.p=E,a.d.f()}},He.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},He.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},He.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,R=p(E,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:R,integrity:T,fetchPriority:A}):E==="script"&&a.d.X(y,{crossOrigin:R,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},He.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},He.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,R=p(E,g.crossOrigin);a.d.L(y,E,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},He.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=p(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},He.requestFormReset=function(y){a.d.r(y)},He.unstable_batchedUpdates=function(y,g){return y(g)},He.useFormState=function(y,g,E){return d.H.useFormState(y,g,E)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Qp;function xE(){if(Qp)return Sf.exports;Qp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sf.exports=VE(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function ME(){if(Yp)return Ll;Yp=1;var s=NE(),e=rd(),i=xE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),it=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function rt(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case y:return"Fragment";case p:return"Portal";case E:return"Profiler";case g:return"StrictMode";case U:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A:return(t.displayName||"Context")+".Provider";case T:return(t._context.displayName||"Context")+".Consumer";case O:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:D(t.type)||"Memo";case G:n=t._payload,t=t._init;try{return D(t(n))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,k,B;function V(t){if(k===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);k=n&&n[1]||"",B=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+B}var Zt=!1;function Jt(t,n){if(!t||Zt)return"";Zt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var X=K}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(K){X=K}t.call(tt.prototype)}}else{try{throw Error()}catch(K){X=K}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&X&&typeof K.stack=="string")return[K.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var C=_.split(`
`),z=S.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===z.length)for(l=C.length-1,c=z.length-1;1<=l&&0<=c&&C[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==z[c]){var Z=`
`+C[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=c);break}}}finally{Zt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?V(r):""}function st(t){switch(t.tag){case 26:case 27:case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return t=Jt(t.type,!1),t;case 11:return t=Jt(t.type.render,!1),t;case 1:return t=Jt(t.type,!0),t;default:return""}}function yt(t){try{var n="";do n+=st(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function dt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function zt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function I(t){if(dt(t)!==t)throw Error(a(188))}function nt(t){var n=t.alternate;if(!n){if(n=dt(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return I(c),t;if(f===l)return I(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,S=c.child;S;){if(S===r){_=!0,r=c,l=f;break}if(S===l){_=!0,l=c,r=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===r){_=!0,r=f,l=c;break}if(S===l){_=!0,l=f,r=c;break}S=S.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function ht(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ht(t),n!==null)return n;t=t.sibling}return null}var lt=Array.isArray,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},Tt=[],te=-1;function Vt(t){return{current:t}}function ae(t){0>te||(t.current=Tt[te],Tt[te]=null,te--)}function Ft(t,n){te++,Tt[te]=t.current,t.current=n}var Qe=Vt(null),ai=Vt(null),dn=Vt(null),ki=Vt(null);function Li(t,n){switch(Ft(dn,n),Ft(ai,t),Ft(Qe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?gp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=gp(t),n=pp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(Qe),Ft(Qe,n)}function si(){ae(Qe),ae(ai),ae(dn)}function Vs(t){t.memoizedState!==null&&Ft(ki,t);var n=Qe.current,r=pp(n,t.type);n!==r&&(Ft(ai,t),Ft(Qe,r))}function Ta(t){ai.current===t&&(ae(Qe),ae(ai)),ki.current===t&&(ae(ki),Vl._currentValue=bt)}var Aa=Object.prototype.hasOwnProperty,Ir=s.unstable_scheduleCallback,Sa=s.unstable_cancelCallback,_c=s.unstable_shouldYield,xs=s.unstable_requestPaint,Je=s.unstable_now,io=s.unstable_getCurrentPriorityLevel,ye=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,ro=s.unstable_LowPriority,Ms=s.unstable_IdlePriority,Ec=s.log,Ur=s.unstable_setDisableYieldValue,zi=null,Pe=null;function Is(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof Ec=="function"&&Ur(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zi,t)}catch{}}var Ye=Math.clz32?Math.clz32:so,Us=Math.log,ao=Math.LN2;function so(t){return t>>>=0,t===0?32:31-(Us(t)/ao|0)|0}var zn=128,ji=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var S=r&134217727;return S!==0?(r=S&~c,r!==0?l=Vn(r):(f&=S,f!==0?l=Vn(f):t||(_=S&~_,_!==0&&(l=Vn(_))))):(S=r&~c,S!==0?l=Vn(S):f!==0?l=Vn(f):t||(_=r&~_,_!==0&&(l=Vn(_)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,_=n&-n,c>=_||c===32&&(_&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ba(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var t=zn;return zn<<=1,(zn&4194176)===0&&(zn=128),t}function Pi(){var t=ji;return ji<<=1,(ji&62914560)===0&&(ji=4194304),t}function wa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ce(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lo(t,n,r,l,c,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(r=_&~r;0<r;){var Z=31-Ye(r),tt=1<<Z;S[Z]=0,C[Z]=-1;var X=z[Z];if(X!==null)for(z[Z]=null,Z=0;Z<X.length;Z++){var K=X[Z];K!==null&&(K.lane&=-536870913)}r&=~tt}l!==0&&qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Hi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function oo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uo(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:Ip(t.type))}function Gi(t,n){var r=ot.p;try{return ot.p=t,n()}finally{ot.p=r}}var jn=Math.random().toString(36).slice(2),De="__reactFiber$"+jn,ve="__reactProps$"+jn,oi="__reactContainer$"+jn,kr="__reactEvents$"+jn,Ra="__reactListeners$"+jn,Bn="__reactHandles$"+jn,Ls="__reactResources$"+jn,Fi="__reactMarker$"+jn;function Lr(t){delete t[De],delete t[ve],delete t[kr],delete t[Ra],delete t[Bn]}function xn(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[oi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_p(t);t!==null;){if(r=t[De])return r;t=_p(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[De]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Xi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Qi(t){var n=t[Ls];return n||(n=t[Ls]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ee(t){t[Fi]=!0}var zs=new Set,Da={};function an(t,n){tn(t,n),tn(t+"Capture",n)}function tn(t,n){for(Da[t]=n,t=0;t<n.length;t++)zs.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),js={},Bs={};function co(t){return Aa.call(Bs,t)?!0:Aa.call(js,t)?!1:Tc.test(t)?Bs[t]=!0:(js[t]=!0,!1)}function Yi(t,n,r){if(co(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ki(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ho(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ac(t){var n=ho(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function zr(t){t._valueTracker||(t._valueTracker=Ac(t))}function Ps(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ho(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function se(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $i(t,n,r,l,c,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Oa(t,_,Ke(n)):r!=null?Oa(t,_,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ke(S):t.removeAttribute("name")}function jr(t,n,r,l,c,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Oa(t,n,r){n==="number"&&Ca(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function jt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Br(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(lt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Sc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function fo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&qs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&qs(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(t){return wc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function Na(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if($i(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ve]||null;if(!c)throw Error(a(90));$i(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ps(l)}break t;case"textarea":Br(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&jt(t,!!r.multiple,n,!1)}}}var Gs=!1;function mo(t,n,r){if(Gs)return t(n,r);Gs=!0;try{var l=t(n);return l}finally{if(Gs=!1,(hi!==null||fi!==null)&&(au(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ve]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var vn=!1;if(sn)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{vn=!1}var qn=null,Wi=null,mi=null;function Fs(){if(mi)return mi;var t,n=Wi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Xs(){return!1}function Ce(t){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Xs,this.isPropagationStopped=Xs,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Ce(Ht),Hr=x({},Ht,{view:0,detail:0}),go=Ce(Hr),xa,Ma,Fn,Gr=x({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(xa=t.screenX-Fn.screenX,Ma=t.screenY-Fn.screenY):Ma=xa=0,Fn=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),_n=Ce(Gr),po=x({},Gr,{dataTransfer:0}),Rc=Ce(po),Fr=x({},Hr,{relatedTarget:0}),Ia=Ce(Fr),Qs=x({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Ce(Qs),yo=x({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=Ce(yo),Dc=x({},Ht,{data:0}),Ys=Ce(Dc),Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_o[t])?!!n[t]:!1}function Qr(){return Ks}var Eo=x({},Hr,{key:function(t){if(t.key){var n=Xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),La=Ce(Eo),To=x({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Ce(To),gi=x({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Ao=Ce(gi),So=x({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),bo=Ce(So),wo=x({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),za=Ce(wo),$e=x({},Ht,{newState:0,oldState:0}),Ro=Ce($e),Do=[9,13,27,32],Xn=sn&&"CompositionEvent"in window,u=null;sn&&"documentMode"in document&&(u=document.documentMode);var m=sn&&"TextEvent"in window&&!u,v=sn&&(!Xn||u&&8<u&&11>=u),b=" ",H=!1;function Q(t,n){switch(t){case"keyup":return Do.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function _e(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(H=!0,b);case"textInput":return t=n.data,t===b&&H?null:t;default:return null}}function It(t,n){if(Mt)return t==="compositionend"||!Xn&&Q(t,n)?(t=Fs(),mi=Wi=qn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Oe[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=cu(n,"onChange"),0<n.length&&(r=new Va("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ie=null,Qn=null;function Zs(t){cp(t,0)}function Co(t){var n=Xi(t);if(Ps(n))return t}function jd(t,n){if(t==="change")return n}var Bd=!1;if(sn){var Cc;if(sn){var Oc="oninput"in document;if(!Oc){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),Oc=typeof Pd.oninput=="function"}Cc=Oc}else Cc=!1;Bd=Cc&&(!document.documentMode||9<document.documentMode)}function qd(){Ie&&(Ie.detachEvent("onpropertychange",Hd),Qn=Ie=null)}function Hd(t){if(t.propertyName==="value"&&Co(Qn)){var n=[];pi(n,Qn,t,Na(t)),mo(Zs,n)}}function e0(t,n,r){t==="focusin"?(qd(),Ie=n,Qn=r,Ie.attachEvent("onpropertychange",Hd)):t==="focusout"&&qd()}function n0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(Qn)}function i0(t,n){if(t==="click")return Co(n)}function r0(t,n){if(t==="input"||t==="change")return Co(n)}function a0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:a0;function Ws(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Aa.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,n){var r=Gd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Gd(r)}}function Xd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ca(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ca(t.document)}return n}function Nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function s0(t,n){var r=Qd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Xd(n.ownerDocument.documentElement,n)){if(l!==null&&Nc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Fd(n,f);var _=Fd(n,l);c&&_&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var l0=sn&&"documentMode"in document&&11>=document.documentMode,ja=null,Vc=null,Js=null,xc=!1;function Yd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xc||ja==null||ja!==Ca(l)||(l=ja,"selectionStart"in l&&Nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&Ws(Js,l)||(Js=l,l=cu(Vc,"onSelect"),0<l.length&&(n=new Va("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ja)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ba={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Mc={},Kd={};sn&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Kr(t){if(Mc[t])return Mc[t];if(!Ba[t])return t;var n=Ba[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Kd)return Mc[t]=n[r];return t}var $d=Kr("animationend"),Zd=Kr("animationiteration"),Wd=Kr("animationstart"),o0=Kr("transitionrun"),u0=Kr("transitionstart"),c0=Kr("transitioncancel"),Jd=Kr("transitionend"),tm=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(t,n){tm.set(t,n),an(n,[t])}var En=[],Pa=0,Ic=0;function Oo(){for(var t=Pa,n=Ic=Pa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&nm(r,c,f)}}function No(t,n,r,l){En[Pa++]=t,En[Pa++]=n,En[Pa++]=r,En[Pa++]=l,Ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,r,l){return No(t,n,r,l),Vo(t)}function Ji(t,n){return No(t,null,null,n),Vo(t)}function nm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Vo(t){if(50<bl)throw bl=0,Ph=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qa={},im=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=im.get(t);return r!==void 0?r:(n={value:t,source:n,stack:yt(n)},im.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var Ha=[],Ga=0,xo=null,Mo=0,An=[],Sn=0,$r=null,yi=1,vi="";function Zr(t,n){Ha[Ga++]=Mo,Ha[Ga++]=xo,xo=t,Mo=n}function rm(t,n,r){An[Sn++]=yi,An[Sn++]=vi,An[Sn++]=$r,$r=t;var l=yi;t=vi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,yi=1<<32-Ye(n)+c|r<<c|l,vi=f+t}else yi=1<<f|r<<c|l,vi=t}function kc(t){t.return!==null&&(Zr(t,1),rm(t,1,0))}function Lc(t){for(;t===xo;)xo=Ha[--Ga],Ha[Ga]=null,Mo=Ha[--Ga],Ha[Ga]=null;for(;t===$r;)$r=An[--Sn],An[Sn]=null,vi=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null}var Ze=null,Ue=null,Bt=!1,In=null,Yn=!1,zc=Error(a(519));function Wr(t){var n=Error(a(418,""));throw nl(Tn(n,t)),zc}function am(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)xt(Rl[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),jr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zr(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Zi(n,l.value,l.defaultValue,l.children),zr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||mp(n.textContent,r)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=hu),n=!0):n=!1,n||Wr(t)}function sm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Yn=!0;return;case 5:case 13:Yn=!1;return;default:Ze=Ze.return}}function tl(t){if(t!==Ze)return!1;if(!Bt)return sm(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||af(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Wr(t),sm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=kn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?kn(t.stateNode.nextSibling):null;return!0}function el(){Ue=Ze=null,Bt=!1}function nl(t){In===null?In=[t]:In.push(t)}var il=Error(a(460)),lm=Error(a(474)),jc={then:function(){}};function om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Io(){}function um(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Io,Io),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===il?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Io,Io);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===il?Error(a(483)):t}throw rl=n,il}}var rl=null;function cm(){if(rl===null)throw Error(a(459));var t=rl;return rl=null,t}var Fa=null,al=0;function Uo(t){var n=al;return al+=1,Fa===null&&(Fa=[]),um(Fa,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ko(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hm(t){var n=t._init;return n(t._payload)}function fm(t){function n(P,L){if(t){var F=P.deletions;F===null?(P.deletions=[L],P.flags|=16):F.push(L)}}function r(P,L){if(!t)return null;for(;L!==null;)n(P,L),L=L.sibling;return null}function l(P){for(var L=new Map;P!==null;)P.key!==null?L.set(P.key,P):L.set(P.index,P),P=P.sibling;return L}function c(P,L){return P=hr(P,L),P.index=0,P.sibling=null,P}function f(P,L,F){return P.index=F,t?(F=P.alternate,F!==null?(F=F.index,F<L?(P.flags|=33554434,L):F):(P.flags|=33554434,L)):(P.flags|=1048576,L)}function _(P){return t&&P.alternate===null&&(P.flags|=33554434),P}function S(P,L,F,W){return L===null||L.tag!==6?(L=Mh(F,P.mode,W),L.return=P,L):(L=c(L,F),L.return=P,L)}function C(P,L,F,W){var ct=F.type;return ct===y?Z(P,L,F.props.children,W,F.key):L!==null&&(L.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===G&&hm(ct)===L.type)?(L=c(L,F.props),sl(L,F),L.return=P,L):(L=tu(F.type,F.key,F.props,null,P.mode,W),sl(L,F),L.return=P,L)}function z(P,L,F,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Ih(F,P.mode,W),L.return=P,L):(L=c(L,F.children||[]),L.return=P,L)}function Z(P,L,F,W,ct){return L===null||L.tag!==7?(L=oa(F,P.mode,W,ct),L.return=P,L):(L=c(L,F),L.return=P,L)}function tt(P,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Mh(""+L,P.mode,F),L.return=P,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return F=tu(L.type,L.key,L.props,null,P.mode,F),sl(F,L),F.return=P,F;case p:return L=Ih(L,P.mode,F),L.return=P,L;case G:var W=L._init;return L=W(L._payload),tt(P,L,F)}if(lt(L)||rt(L))return L=oa(L,P.mode,F,null),L.return=P,L;if(typeof L.then=="function")return tt(P,Uo(L),F);if(L.$$typeof===A)return tt(P,Zo(P,L),F);ko(P,L)}return null}function X(P,L,F,W){var ct=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ct!==null?null:S(P,L,""+F,W);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case d:return F.key===ct?C(P,L,F,W):null;case p:return F.key===ct?z(P,L,F,W):null;case G:return ct=F._init,F=ct(F._payload),X(P,L,F,W)}if(lt(F)||rt(F))return ct!==null?null:Z(P,L,F,W,null);if(typeof F.then=="function")return X(P,L,Uo(F),W);if(F.$$typeof===A)return X(P,L,Zo(P,F),W);ko(P,F)}return null}function K(P,L,F,W,ct){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(F)||null,S(L,P,""+W,ct);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case d:return P=P.get(W.key===null?F:W.key)||null,C(L,P,W,ct);case p:return P=P.get(W.key===null?F:W.key)||null,z(L,P,W,ct);case G:var Ct=W._init;return W=Ct(W._payload),K(P,L,F,W,ct)}if(lt(W)||rt(W))return P=P.get(F)||null,Z(L,P,W,ct,null);if(typeof W.then=="function")return K(P,L,F,Uo(W),ct);if(W.$$typeof===A)return K(P,L,F,Zo(L,W),ct);ko(L,W)}return null}function ft(P,L,F,W){for(var ct=null,Ct=null,mt=L,vt=L=0,xe=null;mt!==null&&vt<F.length;vt++){mt.index>vt?(xe=mt,mt=null):xe=mt.sibling;var Pt=X(P,mt,F[vt],W);if(Pt===null){mt===null&&(mt=xe);break}t&&mt&&Pt.alternate===null&&n(P,mt),L=f(Pt,L,vt),Ct===null?ct=Pt:Ct.sibling=Pt,Ct=Pt,mt=xe}if(vt===F.length)return r(P,mt),Bt&&Zr(P,vt),ct;if(mt===null){for(;vt<F.length;vt++)mt=tt(P,F[vt],W),mt!==null&&(L=f(mt,L,vt),Ct===null?ct=mt:Ct.sibling=mt,Ct=mt);return Bt&&Zr(P,vt),ct}for(mt=l(mt);vt<F.length;vt++)xe=K(mt,P,vt,F[vt],W),xe!==null&&(t&&xe.alternate!==null&&mt.delete(xe.key===null?vt:xe.key),L=f(xe,L,vt),Ct===null?ct=xe:Ct.sibling=xe,Ct=xe);return t&&mt.forEach(function(vr){return n(P,vr)}),Bt&&Zr(P,vt),ct}function At(P,L,F,W){if(F==null)throw Error(a(151));for(var ct=null,Ct=null,mt=L,vt=L=0,xe=null,Pt=F.next();mt!==null&&!Pt.done;vt++,Pt=F.next()){mt.index>vt?(xe=mt,mt=null):xe=mt.sibling;var vr=X(P,mt,Pt.value,W);if(vr===null){mt===null&&(mt=xe);break}t&&mt&&vr.alternate===null&&n(P,mt),L=f(vr,L,vt),Ct===null?ct=vr:Ct.sibling=vr,Ct=vr,mt=xe}if(Pt.done)return r(P,mt),Bt&&Zr(P,vt),ct;if(mt===null){for(;!Pt.done;vt++,Pt=F.next())Pt=tt(P,Pt.value,W),Pt!==null&&(L=f(Pt,L,vt),Ct===null?ct=Pt:Ct.sibling=Pt,Ct=Pt);return Bt&&Zr(P,vt),ct}for(mt=l(mt);!Pt.done;vt++,Pt=F.next())Pt=K(mt,P,vt,Pt.value,W),Pt!==null&&(t&&Pt.alternate!==null&&mt.delete(Pt.key===null?vt:Pt.key),L=f(Pt,L,vt),Ct===null?ct=Pt:Ct.sibling=Pt,Ct=Pt);return t&&mt.forEach(function(bE){return n(P,bE)}),Bt&&Zr(P,vt),ct}function ue(P,L,F,W){if(typeof F=="object"&&F!==null&&F.type===y&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case d:t:{for(var ct=F.key;L!==null;){if(L.key===ct){if(ct=F.type,ct===y){if(L.tag===7){r(P,L.sibling),W=c(L,F.props.children),W.return=P,P=W;break t}}else if(L.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===G&&hm(ct)===L.type){r(P,L.sibling),W=c(L,F.props),sl(W,F),W.return=P,P=W;break t}r(P,L);break}else n(P,L);L=L.sibling}F.type===y?(W=oa(F.props.children,P.mode,W,F.key),W.return=P,P=W):(W=tu(F.type,F.key,F.props,null,P.mode,W),sl(W,F),W.return=P,P=W)}return _(P);case p:t:{for(ct=F.key;L!==null;){if(L.key===ct)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){r(P,L.sibling),W=c(L,F.children||[]),W.return=P,P=W;break t}else{r(P,L);break}else n(P,L);L=L.sibling}W=Ih(F,P.mode,W),W.return=P,P=W}return _(P);case G:return ct=F._init,F=ct(F._payload),ue(P,L,F,W)}if(lt(F))return ft(P,L,F,W);if(rt(F)){if(ct=rt(F),typeof ct!="function")throw Error(a(150));return F=ct.call(F),At(P,L,F,W)}if(typeof F.then=="function")return ue(P,L,Uo(F),W);if(F.$$typeof===A)return ue(P,L,Zo(P,F),W);ko(P,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(r(P,L.sibling),W=c(L,F),W.return=P,P=W):(r(P,L),W=Mh(F,P.mode,W),W.return=P,P=W),_(P)):r(P,L)}return function(P,L,F,W){try{al=0;var ct=ue(P,L,F,W);return Fa=null,ct}catch(mt){if(mt===il)throw mt;var Ct=Dn(29,mt,null,P.mode);return Ct.lanes=W,Ct.return=P,Ct}finally{}}}var Jr=fm(!0),dm=fm(!1),Xa=Vt(null),Lo=Vt(0);function mm(t,n){t=Oi,Ft(Lo,t),Ft(Xa,n),Oi=t|n.baseLanes}function Bc(){Ft(Lo,Oi),Ft(Xa,Xa.current)}function Pc(){Oi=Lo.current,ae(Xa),ae(Lo)}var bn=Vt(null),Kn=null;function tr(t){var n=t.alternate;Ft(Te,Te.current&1),Ft(bn,t),Kn===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(Kn=t)}function gm(t){if(t.tag===22){if(Ft(Te,Te.current),Ft(bn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else er()}function er(){Ft(Te,Te.current),Ft(bn,bn.current)}function _i(t){ae(bn),Kn===t&&(Kn=null),ae(Te)}var Te=Vt(0);function zo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var h0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},f0=s.unstable_scheduleCallback,d0=s.unstable_NormalPriority,Ae={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new h0,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&f0(d0,function(){t.controller.abort()})}var ol=null,Hc=0,Qa=0,Ya=null;function m0(t,n){if(ol===null){var r=ol=[];Hc=0,Qa=Kh(),Ya={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Hc++,n.then(pm,pm),n}function pm(){if(--Hc===0&&ol!==null){Ya!==null&&(Ya.status="fulfilled");var t=ol;ol=null,Qa=0,Ya=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function g0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var ym=w.S;w.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&m0(t,n),ym!==null&&ym(t,n)};var ta=Vt(null);function Gc(){var t=ta.current;return t!==null?t:Kt.pooledCache}function jo(t,n){n===null?Ft(ta,ta.current):Ft(ta,n.pool)}function vm(){var t=Gc();return t===null?null:{parent:Ae._currentValue,pool:t}}var nr=0,Rt=null,Xt=null,de=null,Bo=!1,Ka=!1,ea=!1,Po=0,ul=0,$a=null,p0=0;function he(){throw Error(a(321))}function Fc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Xc(t,n,r,l,c,f){return nr=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,w.H=t===null||t.memoizedState===null?na:ir,ea=!1,f=r(l,c),ea=!1,Ka&&(f=Em(n,r,l,c)),_m(t),f}function _m(t){w.H=$n;var n=Xt!==null&&Xt.next!==null;if(nr=0,de=Xt=Rt=null,Bo=!1,ul=0,$a=null,n)throw Error(a(300));t===null||Ne||(t=t.dependencies,t!==null&&$o(t)&&(Ne=!0))}function Em(t,n,r,l){Rt=t;var c=0;do{if(Ka&&($a=null),ul=0,Ka=!1,25<=c)throw Error(a(301));if(c+=1,de=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}w.H=ia,f=n(r,l)}while(Ka);return f}function y0(){var t=w.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Qc(){var t=Po!==0;return Po=0,t}function Yc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Kc(t){if(Bo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bo=!1}nr=0,de=Xt=Rt=null,Ka=!1,ul=Po=0,$a=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Rt.memoizedState=de=t:de=de.next=t,de}function me(){if(Xt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=de===null?Rt.memoizedState:de.next;if(n!==null)de=n,Xt=t;else{if(t===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},de===null?Rt.memoizedState=de=t:de=de.next=t}return de}var qo;qo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(t){var n=ul;return ul+=1,$a===null&&($a=[]),t=um($a,t,n),n=Rt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,w.H=n===null||n.memoizedState===null?na:ir),t}function Ho(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===A)return qe(t)}throw Error(a(438,String(t)))}function $c(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qo(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=it;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Go(t){var n=me();return Zc(n,Xt,t)}function Zc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var S=_=null,C=null,z=n,Z=!1;do{var tt=z.lane&-536870913;if(tt!==z.lane?(Ut&tt)===tt:(nr&tt)===tt){var X=z.revertLane;if(X===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),tt===Qa&&(Z=!0);else if((nr&X)===X){z=z.next,X===Qa&&(Z=!0);continue}else tt={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=tt,_=f):C=C.next=tt,Rt.lanes|=X,fr|=X;tt=z.action,ea&&r(f,tt),f=z.hasEagerState?z.eagerState:r(f,tt)}else X={lane:tt,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=X,_=f):C=C.next=X,Rt.lanes|=tt,fr|=tt;z=z.next}while(z!==null&&z!==n);if(C===null?_=f:C.next=S,!ln(f,t.memoizedState)&&(Ne=!0,Z&&(r=Ya,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wc(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=t(f,_.action),_=_.next;while(_!==c);ln(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Tm(t,n,r){var l=Rt,c=me(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var _=!ln((Xt||c).memoizedState,r);if(_&&(c.memoizedState=r,Ne=!0),c=c.queue,eh(bm.bind(null,l,c,t),[t]),c.getSnapshot!==n||_||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Za(9,Sm.bind(null,l,c,r,n),{destroy:void 0},null),Kt===null)throw Error(a(349));f||(nr&60)!==0||Am(l,n,r)}return r}function Am(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=qo(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Sm(t,n,r,l){n.value=r,n.getSnapshot=l,wm(n)&&Rm(t)}function bm(t,n,r){return r(function(){wm(n)&&Rm(t)})}function wm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Rm(t){var n=Ji(t,2);n!==null&&We(n,t,2)}function Jc(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),ea){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Dm(t,n,r,l){return t.baseState=r,Zc(t,Xt,typeof l=="function"?l:Ei)}function v0(t,n,r,l,c){if(Qo(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};w.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Cm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Cm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=w.T,_={};w.T=_;try{var S=r(c,l),C=w.S;C!==null&&C(_,S),Om(t,n,S)}catch(z){th(t,n,z)}finally{w.T=f}}else try{f=r(c,l),Om(t,n,f)}catch(z){th(t,n,z)}}function Om(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Nm(t,n,l)},function(l){return th(t,n,l)}):Nm(t,n,r)}function Nm(t,n,r){n.status="fulfilled",n.value=r,Vm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Cm(t,r)))}function th(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Vm(n),n=n.next;while(n!==l)}t.action=null}function Vm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xm(t,n){return n}function Mm(t,n){if(Bt){var r=Kt.formState;if(r!==null){t:{var l=Rt;if(Bt){if(Ue){e:{for(var c=Ue,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=kn(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:n},r.queue=l,r=Zm.bind(null,Rt,l),l.dispatch=r,l=Jc(!1),f=sh.bind(null,Rt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=v0.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Im(t){var n=me();return Um(n,Xt,t)}function Um(t,n,r){n=Zc(t,n,xm)[0],t=Go(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?cl(n):n;var l=me(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Rt.flags|=2048,Za(9,_0.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function _0(t,n){t.action=n}function km(t){var n=me(),r=Xt;if(r!==null)return Um(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Za(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Rt.updateQueue,n===null&&(n=qo(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Lm(){return me().memoizedState}function Fo(t,n,r,l){var c=en();Rt.flags|=t,c.memoizedState=Za(1|n,r,{destroy:void 0},l===void 0?null:l)}function Xo(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&Fc(l,Xt.memoizedState.deps)?c.memoizedState=Za(n,r,f,l):(Rt.flags|=t,c.memoizedState=Za(1|n,r,f,l))}function zm(t,n){Fo(8390656,8,t,n)}function eh(t,n){Xo(2048,8,t,n)}function jm(t,n){return Xo(4,2,t,n)}function Bm(t,n){return Xo(4,4,t,n)}function Pm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qm(t,n,r){r=r!=null?r.concat([t]):null,Xo(4,4,Pm.bind(null,n,t),r)}function nh(){}function Hm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Fc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Gm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Fc(n,l[1]))return l[0];if(l=t(),ea){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l}function ih(t,n,r){return r===void 0||(nr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Xg(),Rt.lanes|=t,fr|=t,r)}function Fm(t,n,r,l){return ln(r,n)?r:Xa.current!==null?(t=ih(t,r,l),ln(t,n)||(Ne=!0),t):(nr&42)===0?(Ne=!0,t.memoizedState=r):(t=Xg(),Rt.lanes|=t,fr|=t,n)}function Xm(t,n,r,l,c){var f=ot.p;ot.p=f!==0&&8>f?f:8;var _=w.T,S={};w.T=S,sh(t,!1,n,r);try{var C=c(),z=w.S;if(z!==null&&z(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=g0(C,l);hl(t,n,Z,hn(t))}else hl(t,n,l,hn(t))}catch(tt){hl(t,n,{then:function(){},status:"rejected",reason:tt},hn())}finally{ot.p=f,w.T=_}}function E0(){}function rh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Qm(t).queue;Xm(t,c,n,bt,r===null?E0:function(){return Ym(t),r(l)})}function Qm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:bt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ym(t){var n=Qm(t).next.queue;hl(t,n,{},hn())}function ah(){return qe(Vl)}function Km(){return me().memoizedState}function $m(){return me().memoizedState}function T0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=sr(r);var l=lr(n,t,r);l!==null&&(We(l,n,r),ml(l,n,r)),n={cache:qc()},t.payload=n;return}n=n.return}}function A0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Qo(t)?Wm(n,r):(r=Uc(t,n,r,l),r!==null&&(We(r,t,l),Jm(r,n,l)))}function Zm(t,n,r){var l=hn();hl(t,n,r,l)}function hl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qo(t))Wm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,S=f(_,r);if(c.hasEagerState=!0,c.eagerState=S,ln(S,_))return No(t,n,c,0),Kt===null&&Oo(),!1}catch{}finally{}if(r=Uc(t,n,c,l),r!==null)return We(r,t,l),Jm(r,n,l),!0}return!1}function sh(t,n,r,l){if(l={lane:2,revertLane:Kh(),action:l,hasEagerState:!1,eagerState:null,next:null},Qo(t)){if(n)throw Error(a(479))}else n=Uc(t,r,l,2),n!==null&&We(n,t,2)}function Qo(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Wm(t,n){Ka=Bo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Jm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}var $n={readContext:qe,use:Ho,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he};$n.useCacheRefresh=he,$n.useMemoCache=he,$n.useHostTransitionStatus=he,$n.useFormState=he,$n.useActionState=he,$n.useOptimistic=he;var na={readContext:qe,use:Ho,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:zm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fo(4194308,4,Pm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fo(4194308,4,t,n)},useInsertionEffect:function(t,n){Fo(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(ea){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(ea){Ln(!0);try{r(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=A0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Jc(t);var n=t.queue,r=Zm.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:nh,useDeferredValue:function(t,n){var r=en();return ih(r,t,n)},useTransition:function(){var t=Jc(!1);return t=Xm.bind(null,Rt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=en();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Kt===null)throw Error(a(349));(Ut&60)!==0||Am(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,zm(bm.bind(null,l,f,t),[t]),l.flags|=2048,Za(9,Sm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=en(),n=Kt.identifierPrefix;if(Bt){var r=vi,l=yi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Po++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=p0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return en().memoizedState=T0.bind(null,Rt)}};na.useMemoCache=$c,na.useHostTransitionStatus=ah,na.useFormState=Mm,na.useActionState=Mm,na.useOptimistic=function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=sh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]};var ir={readContext:qe,use:Ho,useCallback:Hm,useContext:qe,useEffect:eh,useImperativeHandle:qm,useInsertionEffect:jm,useLayoutEffect:Bm,useMemo:Gm,useReducer:Go,useRef:Lm,useState:function(){return Go(Ei)},useDebugValue:nh,useDeferredValue:function(t,n){var r=me();return Fm(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Go(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Tm,useId:Km};ir.useCacheRefresh=$m,ir.useMemoCache=$c,ir.useHostTransitionStatus=ah,ir.useFormState=Im,ir.useActionState=Im,ir.useOptimistic=function(t,n){var r=me();return Dm(r,Xt,t,n)};var ia={readContext:qe,use:Ho,useCallback:Hm,useContext:qe,useEffect:eh,useImperativeHandle:qm,useInsertionEffect:jm,useLayoutEffect:Bm,useMemo:Gm,useReducer:Wc,useRef:Lm,useState:function(){return Wc(Ei)},useDebugValue:nh,useDeferredValue:function(t,n){var r=me();return Xt===null?ih(r,t,n):Fm(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Wc(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Tm,useId:Km};ia.useCacheRefresh=$m,ia.useMemoCache=$c,ia.useHostTransitionStatus=ah,ia.useFormState=km,ia.useActionState=km,ia.useOptimistic=function(t,n){var r=me();return Xt!==null?Dm(r,Xt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function lh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var oh={isMounted:function(t){return(t=t._reactInternals)?dt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=sr(l);c.payload=n,r!=null&&(c.callback=r),n=lr(t,c,l),n!==null&&(We(n,t,l),ml(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=sr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=lr(t,c,l),n!==null&&(We(n,t,l),ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=sr(r);l.tag=2,n!=null&&(l.callback=n),n=lr(t,l,r),n!==null&&(We(n,t,r),ml(n,t,r))}};function tg(t,n,r,l,c,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Ws(r,l)||!Ws(c,f):!0}function eg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&oh.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ng(t){Yo(t)}function ig(t){console.error(t)}function rg(t){Yo(t)}function Ko(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ag(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function uh(t,n,r){return r=sr(r),r.tag=3,r.payload={element:null},r.callback=function(){Ko(t,n)},r}function sg(t){return t=sr(t),t.tag=3,t}function lg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ag(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ag(n,r,l),typeof c!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function S0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&dl(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Kn===null?Gh():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===jc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Xh(t,l,c)),!1;case 22:return r.flags|=65536,l===jc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Xh(t,l,c)),!1}throw Error(a(435,r.tag))}return Xh(t,l,c),Gh(),!1}if(Bt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==zc&&(t=Error(a(422),{cause:l}),nl(Tn(t,r)))):(l!==zc&&(n=Error(a(423),{cause:l}),nl(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=uh(t.stateNode,l,c),bh(t,c),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:l});if(f=Tn(f,r),Al===null?Al=[f]:Al.push(f),oe!==4&&(oe=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=uh(r.stateNode,l,t),bh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(dr===null||!dr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=sg(c),lg(c,t,r,l),bh(r,c),!1}r=r.return}while(r!==null);return!1}var og=Error(a(461)),Ne=!1;function ke(t,n,r,l){n.child=t===null?dm(n,null,r,l):Jr(n,t.child,r,l)}function ug(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return sa(n),l=Xc(t,n,r,_,f,c),S=Qc(),t!==null&&!Ne?(Yc(t,n,c),Ti(t,n,c)):(Bt&&S&&kc(n),n.flags|=1,ke(t,n,l,c),n.child)}function cg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,hg(t,n,f,l,c)):(t=tu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!vh(t,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(_,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=hr(f,l),t.ref=n.ref,t.return=n,n.child=t}function hg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,vh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return ch(t,n,r,l,c)}function fg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(fl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=_!==null?_.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return dg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&jo(n,_!==null?_.cachePool:null),_!==null?mm(n,_):Bc(),gm(n);else return n.lanes=n.childLanes=536870912,dg(t,n,_!==null?_.baseLanes|r:r,r)}else _!==null?(jo(n,_.cachePool),mm(n,_),er(),n.memoizedState=null):(t!==null&&jo(n,null),Bc(),er());return ke(t,n,c,r),n.child}function dg(t,n,r,l){var c=Gc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&jo(n,null),Bc(),gm(n),t!==null&&dl(t,n,l,!0),null}function fl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function ch(t,n,r,l,c){return sa(n),r=Xc(t,n,r,l,void 0,c),l=Qc(),t!==null&&!Ne?(Yc(t,n,c),Ti(t,n,c)):(Bt&&l&&kc(n),n.flags|=1,ke(t,n,r,c),n.child)}function mg(t,n,r,l,c,f){return sa(n),n.updateQueue=null,r=Em(n,l,r,c),_m(t),l=Qc(),t!==null&&!Ne?(Yc(t,n,f),Ti(t,n,f)):(Bt&&l&&kc(n),n.flags|=1,ke(t,n,r,f),n.child)}function gg(t,n,r,l,c){if(sa(n),n.stateNode===null){var f=qa,_=r.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ah(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?qe(_):qa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(lh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&oh.enqueueReplaceState(f,f.state,null),pl(n,l,f,c),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,C=ra(r,S);f.props=C;var z=f.context,Z=r.contextType;_=qa,typeof Z=="object"&&Z!==null&&(_=qe(Z));var tt=r.getDerivedStateFromProps;Z=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||z!==_)&&eg(n,f,l,_),ar=!1;var X=n.memoizedState;f.state=X,pl(n,l,f,c),gl(),z=n.memoizedState,S||X!==z||ar?(typeof tt=="function"&&(lh(n,r,tt,l),z=n.memoizedState),(C=ar||tg(n,r,C,l,X,z,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Sh(t,n),_=n.memoizedProps,Z=ra(r,_),f.props=Z,tt=n.pendingProps,X=f.context,z=r.contextType,C=qa,typeof z=="object"&&z!==null&&(C=qe(z)),S=r.getDerivedStateFromProps,(z=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==tt||X!==C)&&eg(n,f,l,C),ar=!1,X=n.memoizedState,f.state=X,pl(n,l,f,c),gl();var K=n.memoizedState;_!==tt||X!==K||ar||t!==null&&t.dependencies!==null&&$o(t.dependencies)?(typeof S=="function"&&(lh(n,r,S,l),K=n.memoizedState),(Z=ar||tg(n,r,Z,l,X,K,C)||t!==null&&t.dependencies!==null&&$o(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=C,l=Z):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,c),n.child=Jr(n,null,r,c)):ke(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function pg(t,n,r,l){return el(),n.flags|=256,ke(t,n,r,l),n.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function fh(t){return{baseLanes:t,cachePool:vm()}}function dh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function yg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?tr(n):er(),Bt){var S=Ue,C;if(C=S){t:{for(C=S,S=Yn;C.nodeType!==8;){if(!S){S=null;break t}if(C=kn(C.nextSibling),C===null){S=null;break t}}S=C}S!==null?(n.memoizedState={dehydrated:S,treeContext:$r!==null?{id:yi,overflow:vi}:null,retryLane:536870912},C=Dn(18,null,null,0),C.stateNode=S,C.return=n,n.child=C,Ze=n,Ue=null,C=!0):C=!1}C||Wr(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return S=l.children,l=l.fallback,c?(er(),c=n.mode,S=gh({mode:"hidden",children:S},c),l=oa(l,c,r,null),S.return=n,l.return=n,S.sibling=l,n.child=S,c=n.child,c.memoizedState=fh(r),c.childLanes=dh(t,_,r),n.memoizedState=hh,l):(tr(n),mh(n,S))}if(C=t.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(f)n.flags&256?(tr(n),n.flags&=-257,n=ph(t,n,r)):n.memoizedState!==null?(er(),n.child=t.child,n.flags|=128,n=null):(er(),c=l.fallback,S=n.mode,l=gh({mode:"visible",children:l.children},S),c=oa(c,S,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Jr(n,t.child,null,r),l=n.child,l.memoizedState=fh(r),l.childLanes=dh(t,_,r),n.memoizedState=hh,n=c);else if(tr(n),S.data==="$!"){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(a(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),n=ph(t,n,r)}else if(Ne||dl(t,n,r,!1),_=(r&t.childLanes)!==0,Ne||_){if(_=Kt,_!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Ji(t,l),We(_,t,l),og}S.data==="$?"||Gh(),n=ph(t,n,r)}else S.data==="$?"?(n.flags|=128,n.child=t.child,n=z0.bind(null,t),S._reactRetry=n,n=null):(t=C.treeContext,Ue=kn(S.nextSibling),Ze=n,Bt=!0,In=null,Yn=!1,t!==null&&(An[Sn++]=yi,An[Sn++]=vi,An[Sn++]=$r,yi=t.id,vi=t.overflow,$r=n),n=mh(n,l.children),n.flags|=4096);return n}return c?(er(),c=l.fallback,S=n.mode,C=t.child,z=C.sibling,l=hr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,z!==null?c=hr(z,c):(c=oa(c,S,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,S=t.child.memoizedState,S===null?S=fh(r):(C=S.cachePool,C!==null?(z=Ae._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=vm(),S={baseLanes:S.baseLanes|r,cachePool:C}),c.memoizedState=S,c.childLanes=dh(t,_,r),n.memoizedState=hh,l):(tr(n),r=t.child,t=r.sibling,r=hr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function mh(t,n){return n=gh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gh(t,n){return Hg(t,n,0,null)}function ph(t,n,r){return Jr(n,t.child,null,r),t=mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Eh(t.return,n,r)}function yh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function _g(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ke(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,r,n);else if(t.tag===19)vg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&zo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),yh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&zo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}yh(n,!0,r,null,f);break;case"together":yh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),fr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(dl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=hr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=hr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function vh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&$o(t)))}function b0(t,n,r){switch(n.tag){case 3:Li(n,n.stateNode.containerInfo),rr(n,Ae,t.memoizedState.cache),el();break;case 27:case 5:Vs(n);break;case 4:Li(n,n.stateNode.containerInfo);break;case 10:rr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yg(t,n,r):(tr(n),t=Ti(t,n,r),t!==null?t.sibling:null);tr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(dl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return _g(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,fg(t,n,r);case 24:rr(n,Ae,t.memoizedState.cache)}return Ti(t,n,r)}function Eg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!vh(t,r)&&(n.flags&128)===0)return Ne=!1,b0(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&rm(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")xh(l)?(t=ra(l,t),n.tag=1,n=gg(null,n,l,t,r)):(n.tag=0,n=ch(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===O){n.tag=11,n=ug(null,n,l,t,r);break t}else if(c===Y){n.tag=14,n=cg(null,n,l,t,r);break t}}throw n=D(l)||l,Error(a(306,n,""))}}return n;case 0:return ch(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),gg(t,n,l,c,r);case 3:t:{if(Li(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Sh(t,n),pl(n,f,null,r);var _=n.memoizedState;if(f=_.cache,rr(n,Ae,f),f!==c.cache&&Th(n,[Ae],r,!0),gl(),f=_.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=pg(t,n,f,r);break t}else if(f!==l){l=Tn(Error(a(424)),n),nl(l),n=pg(t,n,f,r);break t}else for(Ue=kn(n.stateNode.containerInfo.firstChild),Ze=n,Bt=!0,In=null,Yn=!0,r=dm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(el(),f===l){n=Ti(t,n,r);break t}ke(t,n,f,r)}n=n.child}return n;case 26:return fl(t,n),t===null?(r=Sp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=fu(dn.current).createElement(r),l[De]=n,l[ve]=t,Le(l,r,t),ee(l),n.stateNode=l):n.memoizedState=Sp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Vs(n),t===null&&Bt&&(l=n.stateNode=Ep(n.type,n.pendingProps,dn.current),Ze=n,Yn=!0,Ue=kn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?ke(t,n,l,r):n.child=Jr(n,null,l,r),fl(t,n),n.child;case 5:return t===null&&Bt&&((c=l=Ue)&&(l=tE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,Ue=kn(l.firstChild),Yn=!1,c=!0):c=!1),c||Wr(n)),Vs(n),c=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,af(c,f)?l=null:_!==null&&af(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=Xc(t,n,y0,null,null,r),Vl._currentValue=c),fl(t,n),ke(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Ue)&&(r=eE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Wr(n)),null;case 13:return yg(t,n,r);case 4:return Li(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,r):ke(t,n,l,r),n.child;case 11:return ug(t,n,n.type,n.pendingProps,r);case 7:return ke(t,n,n.pendingProps,r),n.child;case 8:return ke(t,n,n.pendingProps.children,r),n.child;case 12:return ke(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,rr(n,n.type,l.value),ke(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,sa(n),c=qe(c),l=l(c),n.flags|=1,ke(t,n,l,r),n.child;case 14:return cg(t,n,n.type,n.pendingProps,r);case 15:return hg(t,n,n.type,n.pendingProps,r);case 19:return _g(t,n,r);case 22:return fg(t,n,r);case 24:return sa(n),l=qe(Ae),t===null?(c=Gc(),c===null&&(c=Kt,f=qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Ah(n),rr(n,Ae,c)):((t.lanes&r)!==0&&(Sh(t,n),pl(n,null,null,r),gl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),rr(n,Ae,l)):(l=f.cache,rr(n,Ae,l),l!==c.cache&&Th(n,[Ae],r,!0))),ke(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var _h=Vt(null),aa=null,Ai=null;function rr(t,n,r){Ft(_h,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=_h.current,ae(_h)}function Eh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Th(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=c;for(var C=0;C<n.length;C++)if(S.context===n[C]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),Eh(f.return,r,t),l||(_=null);break t}f=S.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(a(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Eh(_,r,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function dl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var S=c.type;ln(c.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(c===ki.current){if(_=c.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}c=c.return}t!==null&&Th(n,t,r,l),n.flags|=262144}function $o(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){aa=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Tg(aa,t)}function Zo(t,n){return aa===null&&sa(t),Tg(t,n)}function Tg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var ar=!1;function Ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function lr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Vo(t),nm(t,null,r),n}return No(t,l,n,r),Vo(t)}function ml(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}function bh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var wh=!1;function gl(){if(wh){var t=Ya;if(t!==null)throw t}}function pl(t,n,r,l){wh=!1;var c=t.updateQueue;ar=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var C=S,z=C.next;C.next=null,_===null?f=z:_.next=z,_=C;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=z:S.next=z,Z.lastBaseUpdate=C))}if(f!==null){var tt=c.baseState;_=0,Z=z=C=null,S=f;do{var X=S.lane&-536870913,K=X!==S.lane;if(K?(Ut&X)===X:(l&X)===X){X!==0&&X===Qa&&(wh=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=t,At=S;X=n;var ue=r;switch(At.tag){case 1:if(ft=At.payload,typeof ft=="function"){tt=ft.call(ue,tt,X);break t}tt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=At.payload,X=typeof ft=="function"?ft.call(ue,tt,X):ft,X==null)break t;tt=x({},tt,X);break t;case 2:ar=!0}}X=S.callback,X!==null&&(t.flags|=64,K&&(t.flags|=8192),K=c.callbacks,K===null?c.callbacks=[X]:K.push(X))}else K={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(z=Z=K,C=tt):Z=Z.next=K,_|=X;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;K=S,S=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);Z===null&&(C=tt),c.baseState=C,c.firstBaseUpdate=z,c.lastBaseUpdate=Z,f===null&&(c.shared.lanes=0),fr|=_,t.lanes=_,t.memoizedState=tt}}function Ag(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Sg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Ag(r[t],n)}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(S){Yt(n,n.return,S)}}function or(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,c=n;var C=r;try{S()}catch(z){Yt(c,C,z)}}}l=l.next}while(l!==f)}}catch(z){Yt(n,n.return,z)}}function bg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Sg(n,r)}catch(l){Yt(t,t.return,l)}}}function wg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function la(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Yt(t,n,f)}}function on(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function Rg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function Dg(t,n,r){try{var l=t.stateNode;K0(l,t.type,r,n),l[ve]=n}catch(c){Yt(t,t.return,c)}}function Cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Rh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=hu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Dh(t,n,r),t=t.sibling;t!==null;)Dh(t,n,r),t=t.sibling}function Wo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Wo(t,n,r),t=t.sibling;t!==null;)Wo(t,n,r),t=t.sibling}var bi=!1,le=!1,Ch=!1,Og=typeof WeakSet=="function"?WeakSet:Set,Ve=null,Ng=!1;function w0(t,n){if(t=t.containerInfo,nf=vu,t=Qd(t),Nc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,S=-1,C=-1,z=0,Z=0,tt=t,X=null;e:for(;;){for(var K;tt!==r||c!==0&&tt.nodeType!==3||(S=_+c),tt!==f||l!==0&&tt.nodeType!==3||(C=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(K=tt.firstChild)!==null;)X=tt,tt=K;for(;;){if(tt===t)break e;if(X===r&&++z===c&&(S=_),X===f&&++Z===l&&(C=_),(K=tt.nextSibling)!==null)break;tt=X,X=tt.parentNode}tt=K}r=S===-1||C===-1?null:{start:S,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:t,selectionRange:r},vu=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ft=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){Yt(r,r.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)of(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return ft=Ng,Ng=!1,ft}function Vg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(t,r),l&4&&yl(5,r);break;case 1:if(Ri(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(S){Yt(r,r.return,S)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Yt(r,r.return,S)}}l&64&&bg(r),l&512&&la(r,r.return);break;case 3:if(Ri(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Sg(l,t)}catch(S){Yt(r,r.return,S)}}break;case 26:Ri(t,r),l&512&&la(r,r.return);break;case 27:case 5:Ri(t,r),n===null&&l&4&&Rg(r),l&512&&la(r,r.return);break;case 12:Ri(t,r);break;case 13:Ri(t,r),l&4&&Ig(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||le;var f=bi,_=le;bi=c,(le=n)&&!_?ur(t,r,(r.subtreeFlags&8772)!==0):Ri(t,r),bi=f,le=_}l&512&&(r.memoizedProps.mode==="manual"?la(r,r.return):on(r,r.return));break;default:Ri(t,r)}}function xg(t){var n=t.alternate;n!==null&&(t.alternate=null,xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Lr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,un=!1;function wi(t,n,r){for(r=r.child;r!==null;)Mg(t,n,r),r=r.sibling}function Mg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:le||on(r,n),wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:le||on(r,n);var l=ge,c=un;for(ge=r.stateNode,wi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Lr(r),ge=l,un=c;break;case 5:le||on(r,n);case 6:c=ge;var f=un;if(ge=null,wi(t,n,r),ge=c,un=f,ge!==null)if(un)try{t=ge,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Yt(r,n,_)}else try{ge.removeChild(r.stateNode)}catch(_){Yt(r,n,_)}break;case 18:ge!==null&&(un?(n=ge,r=r.stateNode,n.nodeType===8?lf(n.parentNode,r):n.nodeType===1&&lf(n,r),Ul(n)):lf(ge,r.stateNode));break;case 4:l=ge,c=un,ge=r.stateNode.containerInfo,un=!0,wi(t,n,r),ge=l,un=c;break;case 0:case 11:case 14:case 15:le||or(2,r,n),le||or(4,r,n),wi(t,n,r);break;case 1:le||(on(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&wg(r,n,l)),wi(t,n,r);break;case 21:wi(t,n,r);break;case 22:le||on(r,n),le=(l=le)||r.memoizedState!==null,wi(t,n,r),le=l;break;default:wi(t,n,r)}}function Ig(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){Yt(n,n.return,r)}}function R0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Og),n;default:throw Error(a(435,t.tag))}}function Oh(t,n){var r=R0(t);n.forEach(function(l){var c=j0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,_=n,S=_;t:for(;S!==null;){switch(S.tag){case 27:case 5:ge=S.stateNode,un=!1;break t;case 3:ge=S.stateNode.containerInfo,un=!0;break t;case 4:ge=S.stateNode.containerInfo,un=!0;break t}S=S.return}if(ge===null)throw Error(a(160));Mg(f,_,c),ge=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ug(n,t),n=n.sibling}var Un=null;function Ug(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Rn(t),l&4&&(or(3,t,t.return),yl(3,t),or(5,t,t.return));break;case 1:wn(n,t),Rn(t),l&512&&(le||r===null||on(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(wn(n,t),Rn(t),l&512&&(le||r===null||on(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[De]=t,ee(f),l=f;break t;case"link":var _=Rp("link","href",c).get(l+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(_=Rp("meta","content",c).get(l+(r.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[De]=t,ee(f),l=f}t.stateNode=l}else Dp(c,t.type,t.stateNode);else t.stateNode=wp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Dp(c,t.type,t.stateNode):wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var C=c.firstChild;C;){var z=C.nextSibling,Z=C.nodeName;C[Fi]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=z}for(var tt=t.type,X=c.attributes;X.length;)c.removeAttributeNode(X[0]);Le(c,tt,f),c[De]=t,c[ve]=f}catch(ft){Yt(t,t.return,ft)}}case 5:if(wn(n,t),Rn(t),l&512&&(le||r===null||on(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(ft){Yt(t,t.return,ft)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Dg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ch=!0);break;case 6:if(wn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ft){Yt(t,t.return,ft)}}break;case 3:if(gu=null,c=Un,Un=du(n.containerInfo),wn(n,t),Un=c,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(ft){Yt(t,t.return,ft)}Ch&&(Ch=!1,kg(t));break;case 4:l=Un,Un=du(t.stateNode.containerInfo),wn(n,t),Rn(t),Un=l;break;case 12:wn(n,t),Rn(t);break;case 13:wn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 22:if(l&512&&(le||r===null||on(r,r.return)),C=t.memoizedState!==null,z=r!==null&&r.memoizedState!==null,Z=bi,tt=le,bi=Z||C,le=tt||z,wn(n,t),le=tt,bi=Z,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=C?n._visibility&-2:n._visibility|1,C&&(n=bi||le,r===null||z||n||Wa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){z=r=n;try{if(c=z.stateNode,C)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{_=z.stateNode,S=z.memoizedProps.style;var K=S!=null&&S.hasOwnProperty("display")?S.display:null;_.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ft){Yt(z,z.return,ft)}}}else if(n.tag===6){if(r===null){z=n;try{z.stateNode.nodeValue=C?"":z.memoizedProps}catch(ft){Yt(z,z.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Oh(t,r))));break;case 19:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 21:break;default:wn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Cg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=Rh(t);Wo(t,f,c);break;case 5:var _=l.stateNode;l.flags&32&&(pn(_,""),l.flags&=-33);var S=Rh(t);Wo(t,S,_);break;case 3:case 4:var C=l.stateNode.containerInfo,z=Rh(t);Dh(t,z,C);break;default:throw Error(a(161))}}}catch(Z){Yt(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vg(t,n.alternate,n),n=n.sibling}function Wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),Wa(n);break;case 1:on(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&wg(n,n.return,r),Wa(n);break;case 26:case 27:case 5:on(n,n.return),Wa(n);break;case 22:on(n,n.return),n.memoizedState===null&&Wa(n);break;default:Wa(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),yl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var S=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Ag(C[c],S)}catch(z){Yt(l,l.return,z)}}r&&_&64&&bg(f),la(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&_&4&&Rg(f),la(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&_&4&&Ig(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),la(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function Nh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ll(r))}function Vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function cr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lg(t,n,r,l),n=n.sibling}function Lg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:cr(t,n,r,l),c&2048&&yl(9,n);break;case 3:cr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){cr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else cr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?cr(t,n,r,l):vl(t,n):f._visibility&4?cr(t,n,r,l):(f._visibility|=4,Ja(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Nh(n.alternate,n);break;case 24:cr(t,n,r,l),c&2048&&Vh(n.alternate,n);break;default:cr(t,n,r,l)}}function Ja(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,S=r,C=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(f,_,S,C,c),yl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&4?Ja(f,_,S,C,c):vl(f,_):(Z._visibility|=4,Ja(f,_,S,C,c)),c&&z&2048&&Nh(_.alternate,_);break;case 24:Ja(f,_,S,C,c),c&&z&2048&&Vh(_.alternate,_);break;default:Ja(f,_,S,C,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&Nh(l.alternate,l);break;case 24:vl(r,l),c&2048&&Vh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var _l=8192;function ts(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)zg(t),t=t.sibling}function zg(t){switch(t.tag){case 26:ts(t),t.flags&_l&&t.memoizedState!==null&&mE(Un,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var n=Un;Un=du(t.stateNode.containerInfo),ts(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=_l,_l=16777216,ts(t),_l=n):ts(t));break;default:ts(t)}}function jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Pg(l,t)}jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&or(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Jo(t)):El(t);break;default:El(t)}}function Jo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Pg(l,t)}jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:or(8,n,n.return),Jo(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Jo(n));break;default:Jo(n)}t=t.sibling}}function Pg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:or(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(xg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}function D0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,l){return new D0(t,n,r,l)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hr(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function qg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function tu(t,n,r,l,c,f){var _=0;if(l=t,typeof t=="function")xh(t)&&(_=1);else if(typeof t=="string")_=fE(t,r,Qe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case y:return oa(r.children,c,f,n);case g:_=8,c|=24;break;case E:return t=Dn(12,r,n,c|2),t.elementType=E,t.lanes=f,t;case U:return t=Dn(13,r,n,c),t.elementType=U,t.lanes=f,t;case j:return t=Dn(19,r,n,c),t.elementType=j,t.lanes=f,t;case q:return Hg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case A:_=10;break t;case T:_=9;break t;case O:_=11;break t;case Y:_=14;break t;case G:_=16,l=null;break t}_=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Dn(_,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function oa(t,n,r,l){return t=Dn(7,t,l,n),t.lanes=r,t}function Hg(t,n,r,l){t=Dn(22,t,l,n),t.elementType=q,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var _=Ji(f,2);_!==null&&(c._pendingVisibility|=2,We(_,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var _=Ji(f,2);_!==null&&(c._pendingVisibility&=-3,We(_,f,2))}}};return t.stateNode=c,t}function Mh(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function Ih(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Gg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(n)){if(n=bn.current,n!==null&&((Ut&4194176)===Ut?Kn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Kn))throw rl=jc,lm;t.flags|=8192}}function eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pi():536870912,t.lanes|=n,ns|=n)}function Tl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function C0(t,n,r){var l=n.pendingProps;switch(Lc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ae),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,In!==null&&(qh(In),In=null))),ne(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ne(n),Gg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ne(n),Gg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ne(n),n.flags&=-16777217),null;case 27:Ta(n),r=dn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=Qe.current,tl(n)?am(n):(t=Ep(c,l,r),n.stateNode=t,Di(n))}return ne(n),null;case 5:if(Ta(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(t=Qe.current,tl(n))am(n);else{switch(c=fu(dn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[ve]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=dn.current,tl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||mp(t.nodeValue,r)),t||Wr(n)}else t=fu(t).createTextNode(l),t[De]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[De]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else In!==null&&(qh(In),In=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),eu(n,n.updateQueue),ne(n),null;case 4:return si(),t===null&&Jh(n.stateNode.containerInfo),ne(n),null;case 10:return Si(n.type),ne(n),null;case 19:if(ae(Te),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Tl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zo(t),f!==null){for(n.flags|=128,Tl(c,!1),t=f.updateQueue,n.updateQueue=t,eu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)qg(r,t),r=r.sibling;return Ft(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>nu&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304)}else{if(!l)if(t=zo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,eu(n,t),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*Je()-c.renderingStartTime>nu&&r!==536870912&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Te.current,Ft(Te,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return _i(n),Pc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&eu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ae(ta),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ae),ne(n),null;case 25:return null}throw Error(a(156,n.tag))}function O0(t,n){switch(Lc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ae),si(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ta(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(Te),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return _i(n),Pc(),t!==null&&ae(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ae),null;case 25:return null;default:return null}}function Fg(t,n){switch(Lc(n),n.tag){case 3:Si(Ae),si();break;case 26:case 27:case 5:Ta(n);break;case 4:si();break;case 13:_i(n);break;case 19:ae(Te);break;case 10:Si(n.type);break;case 22:case 23:_i(n),Pc(),t!==null&&ae(ta);break;case 24:Si(Ae)}}var N0={getCacheForType:function(t){var n=qe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},V0=typeof WeakMap=="function"?WeakMap:Map,ie=0,Kt=null,Ot=null,Ut=0,$t=0,cn=null,Ci=!1,es=!1,Uh=!1,Oi=0,oe=0,fr=0,ua=0,kh=0,Cn=0,ns=0,Al=null,Zn=null,Lh=!1,zh=0,nu=1/0,iu=null,dr=null,ru=!1,ca=null,Sl=0,jh=0,Bh=null,bl=0,Ph=null;function hn(){if((ie&2)!==0&&Ut!==0)return Ut&-Ut;if(w.T!==null){var t=Qa;return t!==0?t:Kh()}return uo()}function Xg(){Cn===0&&(Cn=(Ut&536870912)===0||Bt?ks():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Cn}function We(t,n,r){(t===Kt&&$t===2||t.cancelPendingCommit!==null)&&(is(t,0),Ni(t,Ut,Cn,!1)),ce(t,r),((ie&2)===0||t!==Kt)&&(t===Kt&&((ie&2)===0&&(ua|=r),oe===4&&Ni(t,Ut,Cn,!1)),Wn(t))}function Qg(t,n,r){if((ie&6)!==0)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?I0(t,n):Fh(t,n,!0),f=l;do{if(c===0){es&&!l&&Ni(t,n,0,!1);break}else if(c===6)Ni(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!x0(r)){c=Fh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var S=t;c=Al;var C=S.current.memoizedState.isDehydrated;if(C&&(is(S,_).flags|=256),_=Fh(S,_,!1),_!==2){if(Uh&&!C){S.errorRecoveryDisabledLanes|=f,ua|=f,c=4;break t}f=Zn,Zn=c,f!==null&&qh(f)}c=_}if(f=!1,c!==2)continue}}if(c===1){is(t,0),Ni(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ni(l,n,Cn,!Ci);break t}break;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=zh+300-Je(),10<f)){if(Ni(l,n,Cn,!Ci),mn(l,0)!==0)break t;l.timeoutHandle=yp(Yg.bind(null,l,r,Zn,iu,Lh,n,Cn,ua,ns,Ci,2,-0,0),f);break t}Yg(l,r,Zn,iu,Lh,n,Cn,ua,ns,Ci,0,-0,0)}}break}while(!0);Wn(t)}function qh(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function Yg(t,n,r,l,c,f,_,S,C,z,Z,tt,X){var K=n.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:dE},zg(n),n=gE(),n!==null)){t.cancelPendingCommit=n(ep.bind(null,t,r,l,c,_,S,C,1,tt,X)),Ni(t,f,_,!z);return}ep(t,r,l,c,_,S,C,Z,tt,X)}function x0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(t,n,r,l){n&=~kh,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&qi(t,r,n)}function au(){return(ie&6)===0?(wl(0),!1):!0}function Hh(){if(Ot!==null){if($t===0)var t=Ot.return;else t=Ot,Ai=aa=null,Kc(t),Fa=null,al=0,t=Ot;for(;t!==null;)Fg(t.alternate,t),t=t.return;Ot=null}}function is(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Z0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hh(),Kt=t,Ot=r=hr(t.current,null),Ut=n,$t=0,cn=null,Ci=!1,es=Bi(t,n),Uh=!1,ns=Cn=kh=ua=fr=oe=0,Zn=Al=null,Lh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,Oo(),r}function Kg(t,n){Rt=null,w.H=$n,n===il?(n=cm(),$t=3):n===lm?(n=cm(),$t=4):$t=n===og?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ot===null&&(oe=1,Ko(t,Tn(n,t.current)))}function $g(){var t=w.H;return w.H=$n,t===null?$n:t}function Zg(){var t=w.A;return w.A=N0,t}function Gh(){oe=4,Ci||(Ut&4194176)!==Ut&&bn.current!==null||(es=!0),(fr&134217727)===0&&(ua&134217727)===0||Kt===null||Ni(Kt,Ut,Cn,!1)}function Fh(t,n,r){var l=ie;ie|=2;var c=$g(),f=Zg();(Kt!==t||Ut!==n)&&(iu=null,is(t,n)),n=!1;var _=oe;t:do try{if($t!==0&&Ot!==null){var S=Ot,C=cn;switch($t){case 8:Hh(),_=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var z=$t;if($t=0,cn=null,rs(t,S,C,z),r&&es){_=0;break t}break;default:z=$t,$t=0,cn=null,rs(t,S,C,z)}}M0(),_=oe;break}catch(Z){Kg(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Ai=aa=null,ie=l,w.H=c,w.A=f,Ot===null&&(Kt=null,Ut=0,Oo()),_}function M0(){for(;Ot!==null;)Wg(Ot)}function I0(t,n){var r=ie;ie|=2;var l=$g(),c=Zg();Kt!==t||Ut!==n?(iu=null,nu=Je()+500,is(t,n)):es=Bi(t,n);t:do try{if($t!==0&&Ot!==null){n=Ot;var f=cn;e:switch($t){case 1:$t=0,cn=null,rs(t,n,f,1);break;case 2:if(om(f)){$t=0,cn=null,Jg(n);break}n=function(){$t===2&&Kt===t&&($t=7),Wn(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:om(f)?($t=0,cn=null,Jg(n)):($t=0,cn=null,rs(t,n,f,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var S=Ot;if(!_||Cp(_)){$t=0,cn=null;var C=S.sibling;if(C!==null)Ot=C;else{var z=S.return;z!==null?(Ot=z,su(z)):Ot=null}break e}}$t=0,cn=null,rs(t,n,f,5);break;case 6:$t=0,cn=null,rs(t,n,f,6);break;case 8:Hh(),oe=6;break t;default:throw Error(a(462))}}U0();break}catch(Z){Kg(t,Z)}while(!0);return Ai=aa=null,w.H=l,w.A=c,ie=r,Ot!==null?0:(Kt=null,Ut=0,Oo(),oe)}function U0(){for(;Ot!==null&&!_c();)Wg(Ot)}function Wg(t){var n=Eg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?su(t):Ot=n}function Jg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=mg(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=mg(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Kc(n);default:Fg(r,n),n=Ot=qg(n,Oi),n=Eg(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?su(t):Ot=n}function rs(t,n,r,l){Ai=aa=null,Kc(n),Fa=null,al=0;var c=n.return;try{if(S0(t,c,n,r,Ut)){oe=1,Ko(t,Tn(r,t.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;oe=1,Ko(t,Tn(r,t.current)),Ot=null;return}n.flags&32768?(Bt||l===1?t=!0:es||(Ut&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),tp(n,t)):su(n)}function su(t){var n=t;do{if((n.flags&32768)!==0){tp(n,Ci);return}t=n.return;var r=C0(n.alternate,n,Oi);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);oe===0&&(oe=5)}function tp(t,n){do{var r=O0(t.alternate,t);if(r!==null){r.flags&=32767,Ot=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=r}while(t!==null);oe=6,Ot=null}function ep(t,n,r,l,c,f,_,S,C,z){var Z=w.T,tt=ot.p;try{ot.p=2,w.T=null,k0(t,n,r,l,tt,c,f,_,S,C,z)}finally{w.T=Z,ot.p=tt}}function k0(t,n,r,l,c,f,_,S){do as();while(ca!==null);if((ie&6)!==0)throw Error(a(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var z=C.lanes|C.childLanes;if(z|=Ic,lo(t,l,z,f,_,S),t===Kt&&(Ot=Kt=null,Ut=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||ru||(ru=!0,jh=z,Bh=r,B0(li,function(){return as(),null})),r=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||r?(r=w.T,w.T=null,f=ot.p,ot.p=2,_=ie,ie|=4,w0(t,C),Ug(C,t),s0(rf,t.containerInfo),vu=!!nf,rf=nf=null,t.current=C,Vg(t,C.alternate,C),xs(),ie=_,ot.p=f,w.T=r):t.current=C,ru?(ru=!1,ca=t,Sl=l):np(t,z),z=t.pendingLanes,z===0&&(dr=null),Is(C.stateNode),Wn(t),n!==null)for(c=t.onRecoverableError,C=0;C<n.length;C++)z=n[C],c(z.value,{componentStack:z.stack});return(Sl&3)!==0&&as(),z=t.pendingLanes,(l&4194218)!==0&&(z&42)!==0?t===Ph?bl++:(bl=0,Ph=t):bl=0,wl(0),null}function np(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function as(){if(ca!==null){var t=ca,n=jh;jh=0;var r=oo(Sl),l=w.T,c=ot.p;try{if(ot.p=32>r?32:r,w.T=null,ca===null)var f=!1;else{r=Bh,Bh=null;var _=ca,S=Sl;if(ca=null,Sl=0,(ie&6)!==0)throw Error(a(331));var C=ie;if(ie|=4,Bg(_.current),Lg(_,_.current,S,r),ie=C,wl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zi,_)}catch{}f=!0}return f}finally{ot.p=c,w.T=l,np(t,n)}}return!1}function ip(t,n,r){n=Tn(r,n),n=uh(t.stateNode,n,2),t=lr(t,n,2),t!==null&&(ce(t,2),Wn(t))}function Yt(t,n,r){if(t.tag===3)ip(t,t,r);else for(;n!==null;){if(n.tag===3){ip(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){t=Tn(r,t),r=sg(2),l=lr(n,r,2),l!==null&&(lg(r,l,n,t),ce(l,2),Wn(l));break}}n=n.return}}function Xh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new V0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Uh=!0,c.add(r),t=L0.bind(null,t,n,r),n.then(t,t))}function L0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(Ut&r)===r&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>Je()-zh?(ie&2)===0&&is(t,0):kh|=r,ns===Ut&&(ns=0)),Wn(t)}function rp(t,n){n===0&&(n=Pi()),t=Ji(t,n),t!==null&&(ce(t,n),Wn(t))}function z0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),rp(t,r)}function j0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),rp(t,r)}function B0(t,n){return Ir(t,n)}var lu=null,ss=null,Qh=!1,ou=!1,Yh=!1,ha=0;function Wn(t){t!==ss&&t.next===null&&(ss===null?lu=ss=t:ss=ss.next=t),ou=!0,Qh||(Qh=!0,q0(P0))}function wl(t,n){if(!Yh&&ou){Yh=!0;do for(var r=!1,l=lu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(_&~S),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,lp(l,f))}else f=Ut,f=mn(l,l===Kt?f:0),(f&3)===0||Bi(l,f)||(r=!0,lp(l,f));l=l.next}while(r);Yh=!1}}function P0(){ou=Qh=!1;var t=0;ha!==0&&($0()&&(t=ha),ha=0);for(var n=Je(),r=null,l=lu;l!==null;){var c=l.next,f=ap(l,n);f===0?(l.next=null,r===null?lu=c:r.next=c,c===null&&(ss=r)):(r=l,(t!==0||(f&3)!==0)&&(ou=!0)),l=c}wl(t)}function ap(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Ye(f),S=1<<_,C=c[_];C===-1?((S&r)===0||(S&l)!==0)&&(c[_]=ba(S,n)):C<=n&&(t.expiredLanes|=S),f&=~S}if(n=Kt,r=Ut,r=mn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sa(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Sa(l),oo(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Ms;break;default:r=li}return l=sp.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Sa(l),t.callbackPriority=2,t.callbackNode=null,2}function sp(t,n){var r=t.callbackNode;if(as()&&t.callbackNode!==r)return null;var l=Ut;return l=mn(t,t===Kt?l:0),l===0?null:(Qg(t,l,n),ap(t,Je()),t.callbackNode!=null&&t.callbackNode===r?sp.bind(null,t):null)}function lp(t,n){if(as())return null;Qg(t,n,!0)}function q0(t){W0(function(){(ie&6)!==0?Ir(ye,t):t()})}function Kh(){return ha===0&&(ha=ks()),ha}function op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pn(""+t)}function up(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function H0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=op((c[ve]||null).action),_=l.submitter;_&&(n=(n=_[ve]||null)?op(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var S=new Va("action","action",null,l,c);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var C=_?up(c,_):new FormData(c);rh(r,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(S.preventDefault(),C=_?up(c,_):new FormData(c),rh(r,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var $h=0;$h<em.length;$h++){var Zh=em[$h],G0=Zh.toLowerCase(),F0=Zh[0].toUpperCase()+Zh.slice(1);Mn(G0,"on"+F0)}Mn($d,"onAnimationEnd"),Mn(Zd,"onAnimationIteration"),Mn(Wd,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(o0,"onTransitionRun"),Mn(u0,"onTransitionStart"),Mn(c0,"onTransitionCancel"),Mn(Jd,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function cp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var S=l[_],C=S.instance,z=S.currentTarget;if(S=S.listener,C!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=z;try{f(c)}catch(Z){Yo(Z)}c.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(S=l[_],C=S.instance,z=S.currentTarget,S=S.listener,C!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=z;try{f(c)}catch(Z){Yo(Z)}c.currentTarget=null,f=C}}}}function xt(t,n){var r=n[kr];r===void 0&&(r=n[kr]=new Set);var l=t+"__bubble";r.has(l)||(hp(n,t,2,!1),r.add(l))}function Wh(t,n,r){var l=0;n&&(l|=4),hp(r,t,l,n)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[uu]){t[uu]=!0,zs.forEach(function(r){r!=="selectionchange"&&(X0.has(r)||Wh(r,!1,t),Wh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uu]||(n[uu]=!0,Wh("selectionchange",!1,n))}}function hp(t,n,r,l){switch(Ip(n)){case 2:var c=vE;break;case 8:c=_E;break;default:c=df}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;_=_.return}for(;S!==null;){if(_=xn(S),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue t}S=S.parentNode}}l=l.return}mo(function(){var z=f,Z=Na(r),tt=[];t:{var X=tm.get(t);if(X!==void 0){var K=Va,ft=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":K=La;break;case"focusin":ft="focus",K=Ia;break;case"focusout":ft="blur",K=Ia;break;case"beforeblur":case"afterblur":K=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ao;break;case $d:case Zd:case Wd:K=Ua;break;case Jd:K=bo;break;case"scroll":case"scrollend":K=go;break;case"wheel":K=za;break;case"copy":case"cut":case"paste":K=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=$s;break;case"toggle":case"beforetoggle":K=Ro}var At=(n&4)!==0,ue=!At&&(t==="scroll"||t==="scrollend"),P=At?X!==null?X+"Capture":null:X;At=[];for(var L=z,F;L!==null;){var W=L;if(F=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||F===null||P===null||(W=Pr(L,P),W!=null&&At.push(Dl(L,W,F))),ue)break;L=L.return}0<At.length&&(X=new K(X,ft,null,r,Z),tt.push({event:X,listeners:At}))}}if((n&7)===0){t:{if(X=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",X&&r!==yn&&(ft=r.relatedTarget||r.fromElement)&&(xn(ft)||ft[oi]))break t;if((K||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,K?(ft=r.relatedTarget||r.toElement,K=z,ft=ft?xn(ft):null,ft!==null&&(ue=dt(ft),At=ft.tag,ft!==ue||At!==5&&At!==27&&At!==6)&&(ft=null)):(K=null,ft=z),K!==ft)){if(At=_n,W="onMouseLeave",P="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(At=$s,W="onPointerLeave",P="onPointerEnter",L="pointer"),ue=K==null?X:Xi(K),F=ft==null?X:Xi(ft),X=new At(W,L+"leave",K,r,Z),X.target=ue,X.relatedTarget=F,W=null,xn(Z)===z&&(At=new At(P,L+"enter",ft,r,Z),At.target=F,At.relatedTarget=ue,W=At),ue=W,K&&ft)e:{for(At=K,P=ft,L=0,F=At;F;F=ls(F))L++;for(F=0,W=P;W;W=ls(W))F++;for(;0<L-F;)At=ls(At),L--;for(;0<F-L;)P=ls(P),F--;for(;L--;){if(At===P||P!==null&&At===P.alternate)break e;At=ls(At),P=ls(P)}At=null}else At=null;K!==null&&fp(tt,X,K,At,!1),ft!==null&&ue!==null&&fp(tt,ue,ft,At,!0)}}t:{if(X=z?Xi(z):window,K=X.nodeName&&X.nodeName.toLowerCase(),K==="select"||K==="input"&&X.type==="file")var ct=jd;else if(Ee(X))if(Bd)ct=r0;else{ct=n0;var Ct=e0}else K=X.nodeName,!K||K.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?z&&Hs(z.elementType)&&(ct=jd):ct=i0;if(ct&&(ct=ct(t,z))){pi(tt,ct,r,Z);break t}Ct&&Ct(t,X,z),t==="focusout"&&z&&X.type==="number"&&z.memoizedProps.value!=null&&Oa(X,"number",X.value)}switch(Ct=z?Xi(z):window,t){case"focusin":(Ee(Ct)||Ct.contentEditable==="true")&&(ja=Ct,Vc=z,Js=null);break;case"focusout":Js=Vc=ja=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,Yd(tt,r,Z);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":Yd(tt,r,Z)}var mt;if(Xn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Mt?Q(t,r)&&(vt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(vt="onCompositionStart");vt&&(v&&r.locale!=="ko"&&(Mt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Mt&&(mt=Fs()):(qn=Z,Wi="value"in qn?qn.value:qn.textContent,Mt=!0)),Ct=cu(z,vt),0<Ct.length&&(vt=new Ys(vt,t,null,r,Z),tt.push({event:vt,listeners:Ct}),mt?vt.data=mt:(mt=at(r),mt!==null&&(vt.data=mt)))),(mt=m?_e(t,r):It(t,r))&&(vt=cu(z,"onBeforeInput"),0<vt.length&&(Ct=new Ys("onBeforeInput","beforeinput",null,r,Z),tt.push({event:Ct,listeners:vt}),Ct.data=mt)),H0(tt,t,z,r,Z)}cp(tt,n)})}function Dl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function cu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pr(t,r),c!=null&&l.unshift(Dl(t,c,f)),c=Pr(t,n),c!=null&&l.push(Dl(t,c,f))),t=t.return}return l}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fp(t,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var S=r,C=S.alternate,z=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||z===null||(C=z,c?(z=Pr(r,f),z!=null&&_.unshift(Dl(r,z,C))):c||(z=Pr(r,f),z!=null&&_.push(Dl(r,z,C)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var Q0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function dp(t){return(typeof t=="string"?t:""+t).replace(Q0,`
`).replace(Y0,"")}function mp(t,n){return n=dp(n),dp(t)===n}function hu(){}function Qt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,r,l);break;case"style":fo(t,l,f);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=hu);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Pn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bc.get(r)||r,Yi(t,r,l))}}function ef(t,n,r,l,c,f){switch(r){case"style":fo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Yi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,f,_,r,null)}}c&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":xt("invalid",t);var S=f=_=c=null,C=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Z=r[l];if(Z!=null)switch(l){case"name":c=Z;break;case"type":_=Z;break;case"checked":C=Z;break;case"defaultChecked":z=Z;break;case"value":f=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,n));break;default:Qt(t,n,l,Z,r,null)}}jr(t,f,S,C,z,_,c,!1),zr(t);return;case"select":xt("invalid",t),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(S=r[c],S!=null))switch(c){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Qt(t,n,c,S,r,null)}n=f,r=_,t.multiple=!!l,n!=null?jt(t,!!l,n,!1):r!=null&&jt(t,!!l,r,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":c=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Qt(t,n,_,S,r,null)}Zi(t,l,c,f),zr(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,C,l,r,null)}return;case"dialog":xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)xt(Rl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,z,l,r,null)}return;default:if(Hs(n)){for(Z in r)r.hasOwnProperty(Z)&&(l=r[Z],l!==void 0&&ef(t,n,Z,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&Qt(t,n,S,l,r,null))}function K0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,S=null,C=null,z=null,Z=null;for(K in r){var tt=r[K];if(r.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=tt;default:l.hasOwnProperty(K)||Qt(t,n,K,null,l,tt)}}for(var X in l){var K=l[X];if(tt=r[X],l.hasOwnProperty(X)&&(K!=null||tt!=null))switch(X){case"type":f=K;break;case"name":c=K;break;case"checked":z=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:K!==tt&&Qt(t,n,X,K,l,tt)}}$i(t,_,S,C,z,Z,f,c);return;case"select":K=_=S=X=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=r[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":X=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==C&&Qt(t,n,c,f,l,C)}n=S,r=_,l=K,X!=null?jt(t,!!r,X,!1):!!l!=!!r&&(n!=null?jt(t,!!r,n,!0):jt(t,!!r,r?[]:"",!1));return;case"textarea":K=X=null;for(S in r)if(c=r[S],r.hasOwnProperty(S)&&c!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Qt(t,n,S,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":X=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Qt(t,n,_,c,l,f)}Br(t,X,K);return;case"option":for(var ft in r)if(X=r[ft],r.hasOwnProperty(ft)&&X!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Qt(t,n,ft,null,l,X)}for(C in l)if(X=l[C],K=r[C],l.hasOwnProperty(C)&&X!==K&&(X!=null||K!=null))switch(C){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Qt(t,n,C,X,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in r)X=r[At],r.hasOwnProperty(At)&&X!=null&&!l.hasOwnProperty(At)&&Qt(t,n,At,null,l,X);for(z in l)if(X=l[z],K=r[z],l.hasOwnProperty(z)&&X!==K&&(X!=null||K!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:Qt(t,n,z,X,l,K)}return;default:if(Hs(n)){for(var ue in r)X=r[ue],r.hasOwnProperty(ue)&&X!==void 0&&!l.hasOwnProperty(ue)&&ef(t,n,ue,void 0,l,X);for(Z in l)X=l[Z],K=r[Z],!l.hasOwnProperty(Z)||X===K||X===void 0&&K===void 0||ef(t,n,Z,X,l,K);return}}for(var P in r)X=r[P],r.hasOwnProperty(P)&&X!=null&&!l.hasOwnProperty(P)&&Qt(t,n,P,null,l,X);for(tt in l)X=l[tt],K=r[tt],!l.hasOwnProperty(tt)||X===K||X==null&&K==null||Qt(t,n,tt,X,l,K)}var nf=null,rf=null;function fu(t){return t.nodeType===9?t:t.ownerDocument}function gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function $0(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var yp=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,W0=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(t){return vp.resolve(null).then(t).catch(J0)}:yp;function J0(t){setTimeout(function(){throw t})}function lf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Ul(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Ul(n)}function of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":of(r),Lr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function tE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function eE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function _p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Ep(t,n,r){switch(n=fu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var On=new Map,Tp=new Set;function du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Vi=ot.d;ot.d={f:nE,r:iE,D:rE,C:aE,L:sE,m:lE,X:uE,S:oE,M:cE};function nE(){var t=Vi.f(),n=au();return t||n}function iE(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?Ym(n):Vi.r(t)}var os=typeof document>"u"?null:document;function Ap(t,n,r){var l=os;if(l&&typeof n=="string"&&n){var c=se(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Tp.has(c)||(Tp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),ee(n),l.head.appendChild(n)))}}function rE(t){Vi.D(t),Ap("dns-prefetch",t,null)}function aE(t,n){Vi.C(t,n),Ap("preconnect",t,n)}function sE(t,n,r){Vi.L(t,n,r);var l=os;if(l&&t&&n){var c='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+se(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+se(r.imageSizes)+'"]')):c+='[href="'+se(t)+'"]';var f=c;switch(n){case"style":f=us(t);break;case"script":f=cs(t)}On.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),On.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),Le(n,"link",t),ee(n),l.head.appendChild(n)))}}function lE(t,n){Vi.m(t,n);var r=os;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+se(l)+'"][href="'+se(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cs(t)}if(!On.has(f)&&(t=x({rel:"modulepreload",href:t},n),On.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),Le(l,"link",t),ee(l),r.head.appendChild(l)}}}function oE(t,n,r){Vi.S(t,n,r);var l=os;if(l&&t){var c=Qi(l).hoistableStyles,f=us(t);n=n||"default";var _=c.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Cl(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=On.get(f))&&uf(t,r);var C=_=l.createElement("link");ee(C),Le(C,"link",t),C._p=new Promise(function(z,Z){C.onload=z,C.onerror=Z}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,mu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:S},c.set(f,_)}}}function uE(t,n){Vi.X(t,n);var r=os;if(r&&t){var l=Qi(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=x({src:t,async:!0},n),(n=On.get(c))&&cf(t,n),f=r.createElement("script"),ee(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function cE(t,n){Vi.M(t,n);var r=os;if(r&&t){var l=Qi(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=x({src:t,async:!0,type:"module"},n),(n=On.get(c))&&cf(t,n),f=r.createElement("script"),ee(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Sp(t,n,r,l){var c=(c=dn.current)?du(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=us(r.href),r=Qi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=us(r.href);var f=Qi(c).hoistableStyles,_=f.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=c.querySelector(Cl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),On.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(t,r),f||hE(c,t,r,_.state))),n&&l===null)throw Error(a(528,""));return _}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(r),r=Qi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function us(t){return'href="'+se(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function bp(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function hE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),ee(n),t.head.appendChild(n))}function cs(t){return'[src="'+se(t)+'"]'}function Ol(t){return"script[async]"+t}function wp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+se(r.href)+'"]');if(l)return n.instance=l,ee(l),l;var c=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ee(l),Le(l,"style",c),mu(l,r.precedence,t),n.instance=l;case"stylesheet":c=us(r.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,ee(f),f;l=bp(r),(c=On.get(c))&&uf(l,c),f=(t.ownerDocument||t).createElement("link"),ee(f);var _=f;return _._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),Le(f,"link",l),n.state.loading|=4,mu(f,r.precedence,t),n.instance=f;case"script":return f=cs(r.src),(c=t.querySelector(Ol(f)))?(n.instance=c,ee(c),c):(l=r,(c=On.get(f))&&(l=x({},r),cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ee(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mu(l,r.precedence,t));return n.instance}function mu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===n)f=S;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gu=null;function Rp(t,n,r){if(gu===null){var l=new Map,c=gu=new Map;c.set(r,l)}else c=gu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Fi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function Dp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function fE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function dE(){}function mE(t,n,r){if(Nl===null)throw Error(a(475));var l=Nl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=us(r.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=pu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ee(f);return}f=t.ownerDocument||t,r=bp(r),(c=On.get(c))&&uf(r,c),f=f.createElement("link"),ee(f);var _=f;_._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=pu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function gE(){if(Nl===null)throw Error(a(475));var t=Nl;return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function pu(){if(this.count--,this.count===0){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yu=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yu=new Map,n.forEach(pE,t),yu=null,pu.call(t))}function pE(t,n){if(!(n.state.loading&4)){var r=yu.get(t);if(r)var l=r.get(null);else{r=new Map,yu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=pu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Vl={$$typeof:A,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function yE(t,n,r,l,c,f,_,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Op(t,n,r,l,c,f,_,S,C,z,Z,tt){return t=new yE(t,n,r,_,S,C,z,tt),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Ah(f),t}function Np(t){return t?(t=qa,t):qa}function Vp(t,n,r,l,c,f){c=Np(c),l.context===null?l.context=c:l.pendingContext=c,l=sr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=lr(t,l,n),r!==null&&(We(r,t,n),ml(r,t,n))}function xp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ff(t,n){xp(t,n),(t=t.alternate)&&xp(t,n)}function Mp(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&We(n,t,67108864),ff(t,67108864)}}var vu=!0;function vE(t,n,r,l){var c=w.T;w.T=null;var f=ot.p;try{ot.p=2,df(t,n,r,l)}finally{ot.p=f,w.T=c}}function _E(t,n,r,l){var c=w.T;w.T=null;var f=ot.p;try{ot.p=8,df(t,n,r,l)}finally{ot.p=f,w.T=c}}function df(t,n,r,l){if(vu){var c=mf(l);if(c===null)tf(t,n,l,_u,r),Up(t,l);else if(TE(c,t,n,r,l))l.stopPropagation();else if(Up(t,l),n&4&&-1<EE.indexOf(t)){for(;c!==null;){var f=ui(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Vn(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var C=1<<31-Ye(_);S.entanglements[1]|=C,_&=~C}Wn(f),(ie&6)===0&&(nu=Je()+500,wl(0))}}break;case 13:S=Ji(f,2),S!==null&&We(S,f,2),au(),ff(f,2)}if(f=mf(l),f===null&&tf(t,n,l,_u,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(t,n,l,null,r)}}function mf(t){return t=Na(t),gf(t)}var _u=null;function gf(t){if(_u=null,t=xn(t),t!==null){var n=dt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=zt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _u=t,null}function Ip(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(io()){case ye:return 2;case Re:return 8;case li:case ro:return 32;case Ms:return 268435456;default:return 32}default:return 32}}var pf=!1,mr=null,gr=null,pr=null,xl=new Map,Ml=new Map,yr=[],EE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Up(t,n){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&Mp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function TE(t,n,r,l,c){switch(n){case"focusin":return mr=Il(mr,t,n,r,l,c),!0;case"dragenter":return gr=Il(gr,t,n,r,l,c),!0;case"mouseover":return pr=Il(pr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Il(xl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,Il(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function kp(t){var n=xn(t.target);if(n!==null){var r=dt(n);if(r!==null){if(n=r.tag,n===13){if(n=zt(r),n!==null){t.blockedOn=n,Gi(t.priority,function(){if(r.tag===13){var l=hn(),c=Ji(r,l);c!==null&&We(c,r,l),ff(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=mf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yn=l,r.target.dispatchEvent(l),yn=null}else return n=ui(r),n!==null&&Mp(n),t.blockedOn=r,!1;n.shift()}return!0}function Lp(t,n,r){Eu(t)&&r.delete(n)}function AE(){pf=!1,mr!==null&&Eu(mr)&&(mr=null),gr!==null&&Eu(gr)&&(gr=null),pr!==null&&Eu(pr)&&(pr=null),xl.forEach(Lp),Ml.forEach(Lp)}function Tu(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,AE)))}var Au=null;function zp(t){Au!==t&&(Au=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Au===t&&(Au=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(gf(l||r)===null)continue;break}var f=ui(r);f!==null&&(t.splice(n,3),n-=3,rh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(C){return Tu(C,t)}mr!==null&&Tu(mr,t),gr!==null&&Tu(gr,t),pr!==null&&Tu(pr,t),xl.forEach(n),Ml.forEach(n);for(var r=0;r<yr.length;r++){var l=yr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)kp(r),r.blockedOn===null&&yr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[ve]||null;if(typeof f=="function")_||zp(r);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[ve]||null)S=_.formAction;else if(gf(c)!==null)continue}else S=_.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),zp(r)}}}function yf(t){this._internalRoot=t}Su.prototype.render=yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();Vp(r,l,t,n,null,null)},Su.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&as(),Vp(t.current,2,null,t,null,null),au(),n[oi]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var n=uo();t={blockedOn:null,target:t,priority:n};for(var r=0;r<yr.length&&n!==0&&n<yr[r].priority;r++);yr.splice(r,0,t),r===0&&kp(t)}};var jp=e.version;if(jp!=="19.0.0")throw Error(a(527,jp,"19.0.0"));ot.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=nt(n),t=t!==null?ht(t):null,t=t===null?null:t.stateNode,t};var SE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{zi=bu.inject(SE),Pe=bu}catch{}}return Ll.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=ng,f=ig,_=rg,S=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Op(t,1,!1,null,null,r,l,c,f,_,S,null),t[oi]=n.current,Jh(t.nodeType===8?t.parentNode:t),new yf(n)},Ll.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=ng,_=ig,S=rg,C=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=Op(t,1,!0,n,r??null,l,c,f,_,S,C,z),n.context=Np(null),r=n.current,l=hn(),c=sr(l),c.callback=null,lr(r,c,l),n.current.lanes=l,ce(n,l),Wn(n),t[oi]=n.current,Jh(t),new Su(n)},Ll.version="19.0.0",Ll}var Kp;function IE(){if(Kp)return Ef.exports;Kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=ME(),Ef.exports}var UE=IE(),ov={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$p=pa.createContext&&pa.createContext(ov),kE=["attr","size","title"];function LE(s,e){if(s==null)return{};var i=zE(s,e),a,o;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);for(o=0;o<h.length;o++)a=h[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(i[a]=s[a])}return i}function zE(s,e){if(s==null)return{};var i={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(e.indexOf(a)>=0)continue;i[a]=s[a]}return i}function Lu(){return Lu=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},Lu.apply(this,arguments)}function Zp(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,a)}return i}function zu(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Zp(Object(i),!0).forEach(function(a){jE(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Zp(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function jE(s,e,i){return e=BE(e),e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function BE(s){var e=PE(s,"string");return typeof e=="symbol"?e:e+""}function PE(s,e){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function uv(s){return s&&s.map((e,i)=>pa.createElement(e.tag,zu({key:i},e.attr),uv(e.child)))}function Ui(s){return e=>pa.createElement(qE,Lu({attr:zu({},s.attr)},e),uv(s.child))}function qE(s){var e=i=>{var{attr:a,size:o,title:h}=s,d=LE(s,kE),p=o||i.size||"1em",y;return i.className&&(y=i.className),s.className&&(y=(y?y+" ":"")+s.className),pa.createElement("svg",Lu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,d,{className:y,style:zu(zu({color:s.color||i.color},i.style),s.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),h&&pa.createElement("title",null,h),s.children)};return $p!==void 0?pa.createElement($p.Consumer,null,i=>e(i)):e(ov)}function HE(s){return Ui({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(s)}function GE(s){return Ui({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"},child:[]}]})(s)}function Uf(s){return Ui({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z"},child:[]}]})(s)}function hs(s){const[e,i]=qt.useState("");function a(g){if(g>3&&g<21)return"th";switch(g%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function o(g){if(!g)return"";const E=new Date(g);if(isNaN(E.getTime()))return"Invalid date";const R=E.getDate(),T=a(R),A=E.toLocaleString("en-US",{month:"short"}),O=E.getFullYear(),U=new Date().getFullYear();return O===U?`${R}${T} ${A}`:`${R}${T} ${A} ${O}`}function h(g){let E=g.getHours();const R=g.getMinutes(),T=E>=12?"pm":"am",A=E%12||12;return R>0?`${A}:${R<10?"0"+R:R}${T}`:`${A}${T}`}function d(g){if(!g)return"";let E,R;g.includes("/")?[E,R]=g.split("/"):(E=g,R=null);const T=new Date(E);if(isNaN(T.getTime()))return"Invalid date";const U=Math.floor((T-new Date)/(1e3*60*60*24))<=10,j=U?`${o(E)} | ${h(T)}`:o(E);if(R){const Y=new Date(R);return isNaN(Y.getTime())?"Invalid date":T.toDateString()===Y.toDateString()?U?`${o(E)} | ${h(T)} - ${h(Y)}`:o(E):U?`${j} - ${o(R)} | ${h(Y)}`:`${o(E)} - ${o(R)}`}return j}function p(g){if(!g)return"";const E=g.includes("/")?g.split("/")[0]:g,R=new Date(E);if(isNaN(R.getTime()))return"Invalid date";const A=R-new Date,O=Math.floor(A/(1e3*60)),U=Math.floor(A/(1e3*60*60)),j=Math.floor(A/(1e3*60*60*24)),Y=Math.floor(A/(1e3*60*60*24*30)),G=Math.floor(A/(1e3*60*60*24*365));if(A<0){const q=Math.abs(O),it=Math.abs(U),$=Math.abs(j),rt=Math.abs(Y),N=Math.abs(G);return q<60?`${q} minutes ago`:it<24?`${it} hours ago`:$<30?`${$} days ago`:rt<12?`${rt} months ago`:`${N} years ago`}else return O<1?"Happening now":O<60?`In ${O} minutes`:U<24?`In ${U} hours`:j<30?`In ${j} days`:Y<12?`In ${Y} months`:`In ${G} years`}function y(g){if(!g)return"";const E=g.includes("/")?g.split("/")[0]:g,R=new Date(E);return isNaN(R.getTime())?"Invalid date":h(R)}return qt.useEffect(()=>{const g=()=>{i(p(s))};g();const E=setInterval(g,6e4);return()=>clearInterval(E)},[s]),{formattedDateTime:d(s),formattedDate:o(s),relativeTime:e,formatDateTime:d,getDifference:p,getTimeOnly:y}}function bf(s){return{second:s.getSeconds(),minute:s.getMinutes(),hour:s.getHours(),day:s.getDate(),month:s.getMonth(),weekday:s.getDay(),year:s.getFullYear()}}function Wp(s,e){return new Date(s,e+1,0).getDate()}function Jp(s,e){return s<=e?e-s:6-s+e+1}class FE{constructor({seconds:e,minutes:i,hours:a,days:o,months:h,weekdays:d}){if(!e||e.size===0)throw new Error("There must be at least one allowed second.");if(!i||i.size===0)throw new Error("There must be at least one allowed minute.");if(!a||a.size===0)throw new Error("There must be at least one allowed hour.");if(!h||h.size===0)throw new Error("There must be at least one allowed month.");if((!d||d.size===0)&&(!o||o.size===0))throw new Error("There must be at least one allowed day or weekday.");this.seconds=Array.from(e).sort((y,g)=>y-g),this.minutes=Array.from(i).sort((y,g)=>y-g),this.hours=Array.from(a).sort((y,g)=>y-g),this.days=Array.from(o).sort((y,g)=>y-g),this.months=Array.from(h).sort((y,g)=>y-g),this.weekdays=Array.from(d).sort((y,g)=>y-g);const p=(y,g,E)=>{if(g.some(R=>typeof R!="number"||R%1!==0||R<E.min||R>E.max))throw new Error(`${y} must only consist of integers which are within the range of ${E.min} and ${E.max}`)};p("seconds",this.seconds,{min:0,max:59}),p("minutes",this.minutes,{min:0,max:59}),p("hours",this.hours,{min:0,max:23}),p("days",this.days,{min:1,max:31}),p("months",this.months,{min:0,max:11}),p("weekdays",this.weekdays,{min:0,max:6}),this.reversed={seconds:this.seconds.map(y=>y).reverse(),minutes:this.minutes.map(y=>y).reverse(),hours:this.hours.map(y=>y).reverse(),days:this.days.map(y=>y).reverse(),months:this.months.map(y=>y).reverse(),weekdays:this.weekdays.map(y=>y).reverse()}}findAllowedHour(e,i){return e==="next"?this.hours.find(a=>a>=i):this.reversed.hours.find(a=>a<=i)}findAllowedMinute(e,i){return e==="next"?this.minutes.find(a=>a>=i):this.reversed.minutes.find(a=>a<=i)}findAllowedSecond(e,i){return e==="next"?this.seconds.find(a=>a>i):this.reversed.seconds.find(a=>a<i)}findAllowedTime(e,i){let a=this.findAllowedHour(e,i.hour);if(a!==void 0)if(a===i.hour){let o=this.findAllowedMinute(e,i.minute);if(o!==void 0)if(o===i.minute){const h=this.findAllowedSecond(e,i.second);if(h!==void 0)return{hour:a,minute:o,second:h};if(o=this.findAllowedMinute(e,e==="next"?i.minute+1:i.minute-1),o!==void 0)return{hour:a,minute:o,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:a,minute:o,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]};if(a=this.findAllowedHour(e,e==="next"?i.hour+1:i.hour-1),a!==void 0)return{hour:a,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:a,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}findAllowedDayInMonth(e,i,a,o){var h,d;if(o<1)throw new Error("startDay must not be smaller than 1.");const p=Wp(i,a),y=this.days.length!==31,g=this.weekdays.length!==7;if(!y&&!g)return o>p?e==="next"?void 0:p:o;let E;y&&(E=e==="next"?this.days.find(T=>T>=o):this.reversed.days.find(T=>T<=o),E!==void 0&&E>p&&(E=void 0));let R;if(g){const T=new Date(i,a,o).getDay(),A=e==="next"?(h=this.weekdays.find(O=>O>=T))!==null&&h!==void 0?h:this.weekdays[0]:(d=this.reversed.weekdays.find(O=>O<=T))!==null&&d!==void 0?d:this.reversed.weekdays[0];if(A!==void 0){const O=e==="next"?Jp(T,A):Jp(A,T);R=e==="next"?o+O:o-O,(R>p||R<1)&&(R=void 0)}}if(E!==void 0&&R!==void 0)return e==="next"?Math.min(E,R):Math.max(E,R);if(E!==void 0)return E;if(R!==void 0)return R}getNextDate(e=new Date){const i=bf(e);let a=i.year,o=this.months.findIndex(d=>d>=i.month);o===-1&&(o=0,a++);const h=this.months.length*5;for(let d=0;d<h;d++){const p=a+Math.floor((o+d)/this.months.length),y=this.months[(o+d)%this.months.length],g=p===i.year&&y===i.month;let E=this.findAllowedDayInMonth("next",p,y,g?i.day:1),R=g&&E===i.day;if(E!==void 0&&R){const T=this.findAllowedTime("next",i);if(T!==void 0)return new Date(p,y,E,T.hour,T.minute,T.second);E=this.findAllowedDayInMonth("next",p,y,E+1),R=!1}if(E!==void 0&&!R)return new Date(p,y,E,this.hours[0],this.minutes[0],this.seconds[0])}throw new Error("No valid next date was found.")}getNextDates(e,i){const a=[];let o;for(let h=0;h<e;h++)o=this.getNextDate(o??i),a.push(o);return a}*getNextDatesIterator(e,i){let a;for(;;){if(a=this.getNextDate(a??e),i&&i.getTime()<a.getTime())return;yield a}}getPrevDate(e=new Date){const i=bf(e);let a=i.year,o=this.reversed.months.findIndex(d=>d<=i.month);o===-1&&(o=0,a--);const h=this.reversed.months.length*5;for(let d=0;d<h;d++){const p=a-Math.floor((o+d)/this.reversed.months.length),y=this.reversed.months[(o+d)%this.reversed.months.length],g=p===i.year&&y===i.month;let E=this.findAllowedDayInMonth("prev",p,y,g?i.day:Wp(p,y)),R=g&&E===i.day;if(E!==void 0&&R){const T=this.findAllowedTime("prev",i);if(T!==void 0)return new Date(p,y,E,T.hour,T.minute,T.second);E>1&&(E=this.findAllowedDayInMonth("prev",p,y,E-1),R=!1)}if(E!==void 0&&!R)return new Date(p,y,E,this.reversed.hours[0],this.reversed.minutes[0],this.reversed.seconds[0])}throw new Error("No valid previous date was found.")}getPrevDates(e,i){const a=[];let o;for(let h=0;h<e;h++)o=this.getPrevDate(o??i),a.push(o);return a}*getPrevDatesIterator(e,i){let a;for(;;){if(a=this.getPrevDate(a??e),i&&i.getTime()>a.getTime())return;yield a}}matchDate(e){const{second:i,minute:a,hour:o,day:h,month:d,weekday:p}=bf(e);return this.seconds.indexOf(i)===-1||this.minutes.indexOf(a)===-1||this.hours.indexOf(o)===-1||this.months.indexOf(d)===-1?!1:this.days.length!==31&&this.weekdays.length!==7?this.days.indexOf(h)!==-1||this.weekdays.indexOf(p)!==-1:this.days.indexOf(h)!==-1&&this.weekdays.indexOf(p)!==-1}}const XE={min:0,max:59},QE={min:0,max:59},YE={min:0,max:23},KE={min:1,max:31},$E={min:1,max:12,aliases:{jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"}},cv={min:0,max:7,aliases:{mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6",sun:"7"}},ZE={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *","@minutely":"* * * * *"};function da(s,e){const i=new Set;if(s==="*"){for(let E=e.min;E<=e.max;E=E+1)i.add(E);return i}const a=s.split(",");if(a.length>1){for(const E of a){const R=da(E,e);for(const T of R)i.add(T)}return i}const o=E=>{var R,T;E=(T=(R=e.aliases)===null||R===void 0?void 0:R[E.toLowerCase()])!==null&&T!==void 0?T:E;const A=Number.parseInt(E,10);if(Number.isNaN(A))throw new Error(`Failed to parse ${s}: ${E} is NaN.`);if(A<e.min||A>e.max)throw new Error(`Failed to parse ${s}: ${E} is outside of constraint range of ${e.min} - ${e.max}.`);return A},h=/^(([0-9a-zA-Z]+)-([0-9a-zA-Z]+)|\*)(\/([0-9]+))?$/.exec(s);if(h===null)return i.add(o(s)),i;let d=h[1]==="*"?e.min:o(h[2]);const p=h[1]==="*"?e.max:o(h[3]);if(e===cv&&d===7&&p!==7&&(d=0),d>p)throw new Error(`Failed to parse ${s}: Invalid range (start: ${d}, end: ${p}).`);const y=h[5];let g=1;if(y!==void 0){if(g=Number.parseInt(y,10),Number.isNaN(g))throw new Error(`Failed to parse step: ${y} is NaN.`);if(g<1)throw new Error(`Failed to parse step: Expected ${y} to be greater than 0.`)}for(let E=d;E<=p;E=E+g)i.add(E);return i}function WE(s){var e;if(typeof s!="string")throw new TypeError("Invalid cron expression: must be of type string.");s=(e=ZE[s.toLowerCase()])!==null&&e!==void 0?e:s;const i=s.split(" ").filter(g=>g.length>0);if(i.length<5||i.length>6)throw new Error("Invalid cron expression: expected 5 or 6 elements.");const a=i.length===6?i[0]:"0",o=i.length===6?i[1]:i[0],h=i.length===6?i[2]:i[1],d=i.length===6?i[3]:i[2],p=i.length===6?i[4]:i[3],y=i.length===6?i[5]:i[4];return new FE({seconds:da(a,XE),minutes:da(o,QE),hours:da(h,YE),days:da(d,KE),months:new Set(Array.from(da(p,$E)).map(g=>g-1)),weekdays:new Set(Array.from(da(y,cv)).map(g=>g%7))})}var fa={},ty;function JE(){if(ty)return fa;ty=1;var s=fa&&fa.__assign||function(){return s=Object.assign||function(q){for(var it,$=1,rt=arguments.length;$<rt;$++){it=arguments[$];for(var N in it)Object.prototype.hasOwnProperty.call(it,N)&&(q[N]=it[N])}return q},s.apply(this,arguments)};Object.defineProperty(fa,"__esModule",{value:!0}),fa.isValidCron=void 0;var e=function(q){return/^\d+$/.test(q)?Number(q):NaN},i=function(q){return q==="*"},a=function(q){return q==="?"},o=function(q,it,$){return q>=it&&q<=$},h=function(q,it,$){var rt=q.split("-");switch(rt.length){case 1:return i(q)||o(e(q),it,$);case 2:var N=rt.map(function(x){return e(x)}),D=N[0],w=N[1];return D<=w&&o(D,it,$)&&o(w,it,$);default:return!1}},d=function(q){return q===void 0||q.search(/[^\d]/)===-1&&e(q)>0},p=function(q,it,$){if(q.search(/[^\d-,\/*]/)!==-1)return!1;var rt=q.split(",");return rt.every(function(N){var D=N.split("/");if(N.trim().endsWith("/")||D.length>2)return!1;var w=D[0],x=D[1];return h(w,it,$)&&d(x)})},y=function(q){return p(q,0,59)},g=function(q){return p(q,0,59)},E=function(q){return p(q,0,23)},R=function(q,it){return it&&a(q)||p(q,1,31)},T={jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"},A=function(q,it){if(q.search(/\/[a-zA-Z]/)!==-1)return!1;if(it){var $=q.toLowerCase().replace(/[a-z]{3}/g,function(rt){return T[rt]===void 0?rt:T[rt]});return p($,1,12)}return p(q,1,12)},O={sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"},U=function(q,it,$,rt){if($&&a(q))return!0;if(!$&&a(q)||q.search(/\/[a-zA-Z]/)!==-1)return!1;if(it){var N=q.toLowerCase().replace(/[a-z]{3}/g,function(D){return O[D]===void 0?D:O[D]});return p(N,0,rt?7:6)}return p(q,0,rt?7:6)},j=function(q,it,$){return!($&&a(q)&&a(it))},Y=function(q){return q.trim().split(/\s+/)},G={alias:!1,seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!1};return fa.isValidCron=function(q,it){it=s(s({},G),it);var $=Y(q);if($.length>(it.seconds?6:5)||$.length<5)return!1;var rt=[];if($.length===6){var N=$.shift();N&&rt.push(y(N))}var D=$[0],w=$[1],x=$[2],k=$[3],B=$[4];return rt.push(g(D)),rt.push(E(w)),rt.push(R(x,it.allowBlankDay)),rt.push(A(k,it.alias)),rt.push(U(B,it.alias,it.allowBlankDay,it.allowSevenAsSunday)),rt.push(j(x,B,it.allowBlankDay)),rt.every(Boolean)},fa}JE();var wf={exports:{}},ey;function t1(){return ey||(ey=1,function(s,e){(function(a,o){s.exports=o()})(globalThis,()=>(()=>{var i={949:(d,p,y)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CronParser=void 0;var g=y(515),E=function(){function R(T,A,O){A===void 0&&(A=!0),O===void 0&&(O=!1),this.expression=T,this.dayOfWeekStartIndexZero=A,this.monthStartIndexZero=O}return R.prototype.parse=function(){var T,A,O=(T=this.expression)!==null&&T!==void 0?T:"";if(O.startsWith("@")){var U=this.parseSpecial(this.expression);A=this.extractParts(U)}else A=this.extractParts(this.expression);return this.normalize(A),this.validate(A),A},R.prototype.parseSpecial=function(T){var A={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@midnight":"0 0 * * *","@hourly":"0 * * * *"},O=A[T];if(!O)throw new Error("Unknown special expression.");return O},R.prototype.extractParts=function(T){if(!this.expression)throw new Error("cron expression is empty");for(var A=T.trim().split(/[ ]+/),O=0;O<A.length;O++)if(A[O].includes(",")){var U=A[O].split(",").map(function(Y){return Y.trim()}).filter(function(Y){return Y!==""}).map(function(Y){return isNaN(Number(Y))?Y:Number(Y)}).filter(function(Y){return Y!==null&&Y!==""});U.length===0&&U.push("*"),U.sort(function(Y,G){return Y!==null&&G!==null?Y-G:0}),A[O]=U.map(function(Y){return Y!==null?Y.toString():""}).join(",")}if(A.length<5)throw new Error("Expression has only ".concat(A.length," part").concat(A.length==1?"":"s",". At least 5 parts are required."));if(A.length==5)A.unshift(""),A.push("");else if(A.length==6){var j=/\d{4}$/.test(A[5])||A[4]=="?"||A[2]=="?";j?A.unshift(""):A.push("")}else if(A.length>7)throw new Error("Expression has ".concat(A.length," parts; too many!"));return A},R.prototype.normalize=function(T){var A=this;if(T[3]=T[3].replace("?","*"),T[5]=T[5].replace("?","*"),T[2]=T[2].replace("?","*"),T[0].indexOf("0/")==0&&(T[0]=T[0].replace("0/","*/")),T[1].indexOf("0/")==0&&(T[1]=T[1].replace("0/","*/")),T[2].indexOf("0/")==0&&(T[2]=T[2].replace("0/","*/")),T[3].indexOf("1/")==0&&(T[3]=T[3].replace("1/","*/")),T[4].indexOf("1/")==0&&(T[4]=T[4].replace("1/","*/")),T[6].indexOf("1/")==0&&(T[6]=T[6].replace("1/","*/")),T[5]=T[5].replace(/(^\d)|([^#/\s]\d)/g,function($){var rt=$.replace(/\D/,""),N=rt;return A.dayOfWeekStartIndexZero?rt=="7"&&(N="0"):N=(parseInt(rt)-1).toString(),$.replace(rt,N)}),T[5]=="L"&&(T[5]="6"),T[3]=="?"&&(T[3]="*"),T[3].indexOf("W")>-1&&(T[3].indexOf(",")>-1||T[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var O={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var U in O)T[5]=T[5].replace(new RegExp(U,"gi"),O[U].toString());T[4]=T[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function($){var rt=$.replace(/\D/,""),N=rt;return A.monthStartIndexZero&&(N=(parseInt(rt)+1).toString()),$.replace(rt,N)});var j={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var Y in j)T[4]=T[4].replace(new RegExp(Y,"gi"),j[Y].toString());T[0]=="0"&&(T[0]=""),!/\*|\-|\,|\//.test(T[2])&&(/\*|\//.test(T[1])||/\*|\//.test(T[0]))&&(T[2]+="-".concat(T[2]));for(var G=0;G<T.length;G++)if(T[G].indexOf(",")!=-1&&(T[G]=T[G].split(",").filter(function($){return $!==""}).join(",")||"*"),T[G]=="*/1"&&(T[G]="*"),T[G].indexOf("/")>-1&&!/^\*|\-|\,/.test(T[G])){var q=null;switch(G){case 4:q="12";break;case 5:q="6";break;case 6:q="9999";break;default:q=null;break}if(q!==null){var it=T[G].split("/");T[G]="".concat(it[0],"-").concat(q,"/").concat(it[1])}}},R.prototype.validate=function(T){var A="0-9,\\-*/";this.validateOnlyExpectedCharactersFound(T[0],A),this.validateOnlyExpectedCharactersFound(T[1],A),this.validateOnlyExpectedCharactersFound(T[2],A),this.validateOnlyExpectedCharactersFound(T[3],"0-9,\\-*/LW"),this.validateOnlyExpectedCharactersFound(T[4],A),this.validateOnlyExpectedCharactersFound(T[5],"0-9,\\-*/L#"),this.validateOnlyExpectedCharactersFound(T[6],A),this.validateAnyRanges(T)},R.prototype.validateAnyRanges=function(T){g.default.secondRange(T[0]),g.default.minuteRange(T[1]),g.default.hourRange(T[2]),g.default.dayOfMonthRange(T[3]),g.default.monthRange(T[4],this.monthStartIndexZero),g.default.dayOfWeekRange(T[5],this.dayOfWeekStartIndexZero)},R.prototype.validateOnlyExpectedCharactersFound=function(T,A){var O=T.match(new RegExp("[^".concat(A,"]+"),"gi"));if(O&&O.length)throw new Error("Expression contains invalid values: '".concat(O.toString(),"'"))},R}();p.CronParser=E},333:(d,p,y)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ExpressionDescriptor=void 0;var g=y(823),E=y(949),R=function(){function T(A,O){if(this.expression=A,this.options=O,this.expressionParts=new Array(5),!this.options.locale&&T.defaultLocale&&(this.options.locale=T.defaultLocale),!T.locales[this.options.locale]){var U=Object.keys(T.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(U,"'.")),this.options.locale=U}this.i18n=T.locales[this.options.locale],O.use24HourTimeFormat===void 0&&(O.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return T.toString=function(A,O){var U=O===void 0?{}:O,j=U.throwExceptionOnParseError,Y=j===void 0?!0:j,G=U.verbose,q=G===void 0?!1:G,it=U.dayOfWeekStartIndexZero,$=it===void 0?!0:it,rt=U.monthStartIndexZero,N=rt===void 0?!1:rt,D=U.use24HourTimeFormat,w=U.locale,x=w===void 0?null:w,k=U.tzOffset,B=k===void 0?0:k,V={throwExceptionOnParseError:Y,verbose:q,dayOfWeekStartIndexZero:$,monthStartIndexZero:N,use24HourTimeFormat:D,locale:x,tzOffset:B};V.tzOffset&&console.warn("'tzOffset' option has been deprecated and will be removed in a future release.");var Zt=new T(A,V);return Zt.getFullDescription()},T.initialize=function(A,O){O===void 0&&(O="en"),T.specialCharacters=["/","-",",","*"],T.defaultLocale=O,A.load(T.locales)},T.prototype.getFullDescription=function(){var A="";try{var O=new E.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=O.parse();var U=this.getTimeOfDayDescription(),j=this.getDayOfMonthDescription(),Y=this.getMonthDescription(),G=this.getDayOfWeekDescription(),q=this.getYearDescription();A+=U+j+G+Y+q,A=this.transformVerbosity(A,!!this.options.verbose),A=A.charAt(0).toLocaleUpperCase()+A.substr(1)}catch(it){if(!this.options.throwExceptionOnParseError)A=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(it)}return A},T.prototype.getTimeOfDayDescription=function(){var A=this.expressionParts[0],O=this.expressionParts[1],U=this.expressionParts[2],j="";if(!g.StringUtilities.containsAny(O,T.specialCharacters)&&!g.StringUtilities.containsAny(U,T.specialCharacters)&&!g.StringUtilities.containsAny(A,T.specialCharacters))j+=this.i18n.atSpace()+this.formatTime(U,O,A);else if(!A&&O.indexOf("-")>-1&&!(O.indexOf(",")>-1)&&!(O.indexOf("/")>-1)&&!g.StringUtilities.containsAny(U,T.specialCharacters)){var Y=O.split("-");j+=g.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(U,Y[0],""),this.formatTime(U,Y[1],""))}else if(!A&&U.indexOf(",")>-1&&U.indexOf("-")==-1&&U.indexOf("/")==-1&&!g.StringUtilities.containsAny(O,T.specialCharacters)){var G=U.split(",");j+=this.i18n.at();for(var q=0;q<G.length;q++)j+=" ",j+=this.formatTime(G[q],O,""),q<G.length-2&&(j+=","),q==G.length-2&&(j+=this.i18n.spaceAnd())}else{var it=this.getSecondsDescription(),$=this.getMinutesDescription(),rt=this.getHoursDescription();if(j+=it,j&&$&&(j+=", "),j+=$,$===rt)return j;j&&rt&&(j+=", "),j+=rt}return j},T.prototype.getSecondsDescription=function(){var A=this,O=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(U){return U},function(U){return g.StringUtilities.format(A.i18n.everyX0Seconds(U),U)},function(U){return A.i18n.secondsX0ThroughX1PastTheMinute()},function(U){return U=="0"?"":parseInt(U)<20?A.i18n.atX0SecondsPastTheMinute(U):A.i18n.atX0SecondsPastTheMinuteGt20()||A.i18n.atX0SecondsPastTheMinute(U)});return O},T.prototype.getMinutesDescription=function(){var A=this,O=this.expressionParts[0],U=this.expressionParts[2],j=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(Y){return Y},function(Y){return g.StringUtilities.format(A.i18n.everyX0Minutes(Y),Y)},function(Y){return A.i18n.minutesX0ThroughX1PastTheHour()},function(Y){try{return Y=="0"&&U.indexOf("/")==-1&&O==""?A.i18n.everyHour():parseInt(Y)<20?A.i18n.atX0MinutesPastTheHour(Y):A.i18n.atX0MinutesPastTheHourGt20()||A.i18n.atX0MinutesPastTheHour(Y)}catch{return A.i18n.atX0MinutesPastTheHour(Y)}});return j},T.prototype.getHoursDescription=function(){var A=this,O=this.expressionParts[2],U=this.getSegmentDescription(O,this.i18n.everyHour(),function(G){return A.formatTime(G,"0","")},function(G){return g.StringUtilities.format(A.i18n.everyX0Hours(G),G)},function(G){return A.i18n.betweenX0AndX1()},function(G){return A.i18n.atX0()});if(U&&O.includes("-")&&this.expressionParts[1]!="0"){var j=Array.from(U.matchAll(/:00/g));if(j.length>1){var Y=j[j.length-1].index;U=U.substring(0,Y)+":59"+U.substring(Y+3)}}return U},T.prototype.getDayOfWeekDescription=function(){var A=this,O=this.i18n.daysOfTheWeek(),U=null;return this.expressionParts[5]=="*"?U="":U=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(j,Y){var G=j;j.indexOf("#")>-1?G=j.substring(0,j.indexOf("#")):j.indexOf("L")>-1&&(G=G.replace("L",""));var q=parseInt(G);if(A.options.tzOffset){var it=A.expressionParts[2],$=parseInt(it)+(A.options.tzOffset?A.options.tzOffset:0);$>=24?q++:$<0&&q--,q>6?q=0:q<0&&(q=6)}var rt=A.i18n.daysOfTheWeekInCase?A.i18n.daysOfTheWeekInCase(Y)[q]:O[q];if(j.indexOf("#")>-1){var N=null,D=j.substring(j.indexOf("#")+1),w=j.substring(0,j.indexOf("#"));switch(D){case"1":N=A.i18n.first(w);break;case"2":N=A.i18n.second(w);break;case"3":N=A.i18n.third(w);break;case"4":N=A.i18n.fourth(w);break;case"5":N=A.i18n.fifth(w);break}rt=N+" "+rt}return rt},function(j){return parseInt(j)==1?"":g.StringUtilities.format(A.i18n.commaEveryX0DaysOfTheWeek(j),j)},function(j){var Y=j.substring(0,j.indexOf("-")),G=A.expressionParts[3]!="*";return G?A.i18n.commaAndX0ThroughX1(Y):A.i18n.commaX0ThroughX1(Y)},function(j){var Y=null;if(j.indexOf("#")>-1){var G=j.substring(j.indexOf("#")+1),q=j.substring(0,j.indexOf("#"));Y=A.i18n.commaOnThe(G,q).trim()+A.i18n.spaceX0OfTheMonth()}else if(j.indexOf("L")>-1)Y=A.i18n.commaOnTheLastX0OfTheMonth(j.replace("L",""));else{var it=A.expressionParts[3]!="*";Y=it?A.i18n.commaAndOnX0():A.i18n.commaOnlyOnX0(j)}return Y}),U},T.prototype.getMonthDescription=function(){var A=this,O=this.i18n.monthsOfTheYear(),U=this.getSegmentDescription(this.expressionParts[4],"",function(j,Y){return Y&&A.i18n.monthsOfTheYearInCase?A.i18n.monthsOfTheYearInCase(Y)[parseInt(j)-1]:O[parseInt(j)-1]},function(j){return parseInt(j)==1?"":g.StringUtilities.format(A.i18n.commaEveryX0Months(j),j)},function(j){return A.i18n.commaMonthX0ThroughMonthX1()||A.i18n.commaX0ThroughX1()},function(j){return A.i18n.commaOnlyInMonthX0?A.i18n.commaOnlyInMonthX0():A.i18n.commaOnlyInX0()});return U},T.prototype.getDayOfMonthDescription=function(){var A=this,O=null,U=this.expressionParts[3];switch(U){case"L":O=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":O=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var j=U.match(/(\d{1,2}W)|(W\d{1,2})/);if(j){var Y=parseInt(j[0].replace("W","")),G=Y==1?this.i18n.firstWeekday():g.StringUtilities.format(this.i18n.weekdayNearestDayX0(),Y.toString());O=g.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),G);break}else{var q=U.match(/L-(\d{1,2})/);if(q){var it=q[1];O=g.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(it),it);break}else{if(U=="*"&&this.expressionParts[5]!="*")return"";O=this.getSegmentDescription(U,this.i18n.commaEveryDay(),function($){return $=="L"?A.i18n.lastDay():A.i18n.dayX0?g.StringUtilities.format(A.i18n.dayX0(),$):$},function($){return $=="1"?A.i18n.commaEveryDay():A.i18n.commaEveryX0Days($)},function($){return A.i18n.commaBetweenDayX0AndX1OfTheMonth($)},function($){return A.i18n.commaOnDayX0OfTheMonth($)})}break}}return O},T.prototype.getYearDescription=function(){var A=this,O=this.getSegmentDescription(this.expressionParts[6],"",function(U){return/^\d+$/.test(U)?new Date(parseInt(U),1).getFullYear().toString():U},function(U){return g.StringUtilities.format(A.i18n.commaEveryX0Years(U),U)},function(U){return A.i18n.commaYearX0ThroughYearX1()||A.i18n.commaX0ThroughX1()},function(U){return A.i18n.commaOnlyInYearX0?A.i18n.commaOnlyInYearX0():A.i18n.commaOnlyInX0()});return O},T.prototype.getSegmentDescription=function(A,O,U,j,Y,G){var q=null,it=A.indexOf("/")>-1,$=A.indexOf("-")>-1,rt=A.indexOf(",")>-1;if(!A)q="";else if(A==="*")q=O;else if(!it&&!$&&!rt)q=g.StringUtilities.format(G(A),U(A));else if(rt){for(var N=A.split(","),D="",w=0;w<N.length;w++)if(w>0&&N.length>2&&(D+=",",w<N.length-1&&(D+=" ")),w>0&&N.length>1&&(w==N.length-1||N.length==2)&&(D+="".concat(this.i18n.spaceAnd()," ")),N[w].indexOf("/")>-1||N[w].indexOf("-")>-1){var x=N[w].indexOf("-")>-1&&N[w].indexOf("/")==-1,k=this.getSegmentDescription(N[w],O,U,j,x?this.i18n.commaX0ThroughX1:Y,G);x&&(k=k.replace(", ","")),D+=k}else it?D+=this.getSegmentDescription(N[w],O,U,j,Y,G):D+=U(N[w]);it?q=D:q=g.StringUtilities.format(G(A),D)}else if(it){var N=A.split("/");if(q=g.StringUtilities.format(j(N[1]),N[1]),N[0].indexOf("-")>-1){var B=this.generateRangeSegmentDescription(N[0],Y,U);B.indexOf(", ")!=0&&(q+=", "),q+=B}else if(N[0].indexOf("*")==-1){var V=g.StringUtilities.format(G(N[0]),U(N[0]));V=V.replace(", ",""),q+=g.StringUtilities.format(this.i18n.commaStartingX0(),V)}}else $&&(q=this.generateRangeSegmentDescription(A,Y,U));return q},T.prototype.generateRangeSegmentDescription=function(A,O,U){var j="",Y=A.split("-"),G=U(Y[0],1),q=U(Y[1],2),it=O(A);return j+=g.StringUtilities.format(it,G,q),j},T.prototype.formatTime=function(A,O,U){var j=0,Y=0;this.options.tzOffset&&(j=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),Y=parseFloat((this.options.tzOffset%1).toFixed(2)),Y!=0&&(Y*=60));var G=parseInt(A)+j,q=parseInt(O)+Y;q>=60?(q-=60,G+=1):q<0&&(q+=60,G-=1),G>=24?G=G-24:G<0&&(G=24+G);var it="",$=!1;this.options.use24HourTimeFormat||($=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),it=$?"".concat(this.getPeriod(G)," "):" ".concat(this.getPeriod(G)),G>12&&(G-=12),G===0&&(G=12));var rt="";return U&&(rt=":".concat(("00"+U).substring(U.length))),"".concat($?it:"").concat(("00"+G.toString()).substring(G.toString().length),":").concat(("00"+q.toString()).substring(q.toString().length)).concat(rt).concat($?"":it)},T.prototype.transformVerbosity=function(A,O){if(!O&&(A=A.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),A=A.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),A=A.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),A=A.replace(/\, ?$/,""),this.i18n.conciseVerbosityReplacements))for(var U=0,j=Object.entries(this.i18n.conciseVerbosityReplacements());U<j.length;U++){var Y=j[U],G=Y[0],q=Y[1];A=A.replace(new RegExp(G,"g"),q)}return A},T.prototype.getPeriod=function(A){return A>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},T.locales={},T}();p.ExpressionDescriptor=R},747:(d,p,y)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.enLocaleLoader=void 0;var g=y(486),E=function(){function R(){}return R.prototype.load=function(T){T.en=new g.en},R}();p.enLocaleLoader=E},486:(d,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.en=void 0;var y=function(){function g(){}return g.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},g.prototype.atX0MinutesPastTheHourGt20=function(){return null},g.prototype.commaMonthX0ThroughMonthX1=function(){return null},g.prototype.commaYearX0ThroughYearX1=function(){return null},g.prototype.use24HourTimeFormatByDefault=function(){return!1},g.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occurred when generating the expression description. Check the cron expression syntax."},g.prototype.everyMinute=function(){return"every minute"},g.prototype.everyHour=function(){return"every hour"},g.prototype.atSpace=function(){return"At "},g.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},g.prototype.at=function(){return"At"},g.prototype.spaceAnd=function(){return" and"},g.prototype.everySecond=function(){return"every second"},g.prototype.everyX0Seconds=function(){return"every %s seconds"},g.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},g.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},g.prototype.everyX0Minutes=function(){return"every %s minutes"},g.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},g.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},g.prototype.everyX0Hours=function(){return"every %s hours"},g.prototype.betweenX0AndX1=function(){return"between %s and %s"},g.prototype.atX0=function(){return"at %s"},g.prototype.commaEveryDay=function(){return", every day"},g.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},g.prototype.commaX0ThroughX1=function(){return", %s through %s"},g.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},g.prototype.first=function(){return"first"},g.prototype.second=function(){return"second"},g.prototype.third=function(){return"third"},g.prototype.fourth=function(){return"fourth"},g.prototype.fifth=function(){return"fifth"},g.prototype.commaOnThe=function(){return", on the "},g.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},g.prototype.lastDay=function(){return"the last day"},g.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},g.prototype.commaOnlyOnX0=function(){return", only on %s"},g.prototype.commaAndOnX0=function(){return", and on %s"},g.prototype.commaEveryX0Months=function(){return", every %s months"},g.prototype.commaOnlyInX0=function(){return", only in %s"},g.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},g.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},g.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},g.prototype.firstWeekday=function(){return"first weekday"},g.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},g.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},g.prototype.commaEveryX0Days=function(){return", every %s days"},g.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},g.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},g.prototype.commaEveryHour=function(){return", every hour"},g.prototype.commaEveryX0Years=function(){return", every %s years"},g.prototype.commaStartingX0=function(){return", starting %s"},g.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},g}();p.en=y},515:(d,p)=>{Object.defineProperty(p,"__esModule",{value:!0});function y(E,R){if(!E)throw new Error(R)}var g=function(){function E(){}return E.secondRange=function(R){for(var T=R.split(","),A=0;A<T.length;A++)if(!isNaN(parseInt(T[A],10))){var O=parseInt(T[A],10);y(O>=0&&O<=59,"seconds part must be >= 0 and <= 59")}},E.minuteRange=function(R){for(var T=R.split(","),A=0;A<T.length;A++)if(!isNaN(parseInt(T[A],10))){var O=parseInt(T[A],10);y(O>=0&&O<=59,"minutes part must be >= 0 and <= 59")}},E.hourRange=function(R){for(var T=R.split(","),A=0;A<T.length;A++)if(!isNaN(parseInt(T[A],10))){var O=parseInt(T[A],10);y(O>=0&&O<=23,"hours part must be >= 0 and <= 23")}},E.dayOfMonthRange=function(R){for(var T=R.split(","),A=0;A<T.length;A++)if(!isNaN(parseInt(T[A],10))){var O=parseInt(T[A],10);y(O>=1&&O<=31,"DOM part must be >= 1 and <= 31")}},E.monthRange=function(R,T){for(var A=R.split(","),O=0;O<A.length;O++)if(!isNaN(parseInt(A[O],10))){var U=parseInt(A[O],10);y(U>=1&&U<=12,T?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},E.dayOfWeekRange=function(R,T){for(var A=R.split(","),O=0;O<A.length;O++)if(!isNaN(parseInt(A[O],10))){var U=parseInt(A[O],10);y(U>=0&&U<=6,T?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},E}();p.default=g},823:(d,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.StringUtilities=void 0;var y=function(){function g(){}return g.format=function(E){for(var R=[],T=1;T<arguments.length;T++)R[T-1]=arguments[T];return E.replace(/%s/g,function(A){return R.shift()})},g.containsAny=function(E,R){return R.some(function(T){return E.indexOf(T)>-1})},g}();p.StringUtilities=y}},a={};function o(d){var p=a[d];if(p!==void 0)return p.exports;var y=a[d]={exports:{}};return i[d](y,y.exports,o),y.exports}var h={};return(()=>{var d=h;Object.defineProperty(d,"__esModule",{value:!0}),d.toString=void 0;var p=o(333),y=o(747);p.ExpressionDescriptor.initialize(new y.enLocaleLoader),d.default=p.ExpressionDescriptor;var g=p.ExpressionDescriptor.toString;d.toString=g})(),h})())}(wf)),wf.exports}t1();function e1(s,e,i){return WE(s).getNextDates(i,e).map(o=>o.toISOString())}function hv({task:s,clickOnTask:e}){var y,g;const[i,a]=qt.useState(s.graphic),[o,h]=qt.useState([]),{relativeTime:d,getTimeOnly:p}=hs(s.dueDate);return qt.useEffect(()=>{if(s.resource&&!s.resource.local&&s.resource.url){const E=s.resource.url.split("/"),R=E[0]+"//"+E[2];a(R+"/favicon.ico")}},[s]),qt.useEffect(()=>{if(s.recurring_details){const E=e1(s.recurring_details.cron_rules[0],new Date,3);h(E)}else s.one_time_details&&(console.log(s.one_time_details),h(s.one_time_details.scheduled_datetime))},[s]),M.jsxs("div",{id:"task-card",className:"light",onClick:()=>e(s.title),children:[!((y=s==null?void 0:s.resource)!=null&&y.local)&&M.jsx("img",{src:i,alt:"",className:"tc-graphic"}),((g=s==null?void 0:s.resource)==null?void 0:g.local)&&M.jsx("div",{className:"tc-graphic",children:M.jsx(GE,{className:"tc-graphic"})}),M.jsxs("div",{className:"tc-content",children:[M.jsx("p",{children:M.jsx("b",{children:s.title})}),M.jsx("p",{children:s.description&&String(s.description).substring(0,30)+"..."}),M.jsx("b",{children:M.jsx("p",{children:d})})]}),M.jsx("div",{className:"tc-time",children:M.jsx("p",{children:p(o[0])})})]})}function fv(s){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"},child:[]},{tag:"path",attr:{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52z"},child:[]}]})(s)}function n1(s){return Ui({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"},child:[]}]})(s)}function i1(s){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(s)}function r1({task:s,onClick:e}){var o,h,d;const[i,a]=qt.useState(0);return qt.useEffect(()=>{var y,g,E,R,T,A;const p=(((E=(g=(y=s.recurring_details)==null?void 0:y.streak)==null?void 0:g.current_streak)==null?void 0:E.count)||0)/(((A=(T=(R=s.recurring_details)==null?void 0:R.streak)==null?void 0:T.longest_streak)==null?void 0:A.count)||1);a(p),console.log(p)},[s]),M.jsxs("div",{className:"streak-card",onClick:e,children:[M.jsxs("span",{className:"streak-label",children:[s.title," ",M.jsx(n1,{})]}),M.jsxs("div",{className:"streak-info",children:[M.jsx("div",{className:"streak-icon-container",children:M.jsx(fv,{className:"streak-icon"})}),M.jsxs("div",{className:"streak-details",children:[M.jsx("div",{className:"streak-count",children:((d=(h=(o=s.recurring_details)==null?void 0:o.streak)==null?void 0:h.current_streak)==null?void 0:d.count)||0}),M.jsx("div",{className:"streak-subtitle",children:"Current Streak"})]})]}),M.jsx("div",{className:"streak-progress",children:M.jsx("div",{className:"progress-bar",children:M.jsx("div",{className:`progress-fill ${i===1?"streak-longest-effect":""}`,style:{width:`${i*100}%`}})})})]})}function a1({tasks:s,onClick:e}){const[i,a]=qt.useState([]);return qt.useEffect(()=>{a(s.filter(o=>o.type==="recurring"))},[s]),M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"task-section-header",children:M.jsx("h4",{className:"subtitle",children:"YOUR STREAK"})}),M.jsx("div",{id:"streak-container",children:M.jsx("div",{className:"streak-box-grid",children:i.map(o=>M.jsx(r1,{task:o,onClick:()=>e(o.title)},o.title))})})]})}const s1=()=>{};var ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},l1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],p=s[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,p=d?s[o+1]:0,y=o+2<s.length,g=y?s[o+2]:0,E=h>>2,R=(h&3)<<4|p>>4;let T=(p&15)<<2|g>>6,A=g&63;y||(A=64,d||(T=64)),a.push(i[E],i[R],i[T],i[A])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(dv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):l1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const g=o<s.length?i[s.charAt(o)]:64;++o;const R=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||p==null||g==null||R==null)throw new o1;const T=h<<2|p>>4;if(a.push(T),g!==64){const A=p<<4&240|g>>2;if(a.push(A),R!==64){const O=g<<6&192|R;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class o1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u1=function(s){const e=dv(s);return mv.encodeByteArray(e,!0)},ju=function(s){return u1(s).replace(/\./g,"")},c1=function(s){try{return mv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=()=>h1().__FIREBASE_DEFAULTS__,d1=()=>{if(typeof process>"u"||typeof ny>"u")return;const s=ny.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},m1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&c1(s[1]);return e&&JSON.parse(e)},ad=()=>{try{return s1()||f1()||d1()||m1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},g1=s=>{var e,i;return(i=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},p1=s=>{const e=g1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},gv=()=>{var s;return(s=ad())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[ju(JSON.stringify(i)),ju(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E1(){var s;const e=(s=ad())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T1(){return!E1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A1(){try{return typeof indexedDB=="object"}catch{return!1}}function S1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="FirebaseError";class Rs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=b1,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pv.prototype.create)}}class pv{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?w1(h,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,p,a)}}function w1(s,e){return s.replace(R1,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const R1=/\{\$([^}]+)}/g;function Bu(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(iy(h)&&iy(d)){if(!Bu(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function iy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(s){return s&&s._delegate?s._delegate:s}class Fl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new y1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O1(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:C1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C1(s){return s===ma?void 0:s}function O1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new D1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const V1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},x1=Lt.INFO,M1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},I1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=M1[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yv{constructor(e){this.name=e,this._logLevel=x1,this._logHandler=I1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const U1=(s,e)=>e.some(i=>s instanceof i);let ry,ay;function k1(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L1(){return ay||(ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vv=new WeakMap,kf=new WeakMap,_v=new WeakMap,Rf=new WeakMap,sd=new WeakMap;function z1(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Er(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&vv.set(i,s)}).catch(()=>{}),sd.set(e,s),e}function j1(s){if(kf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});kf.set(s,e)}let Lf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return kf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||_v.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function B1(s){Lf=s(Lf)}function P1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Df(this),e,...i);return _v.set(a,e.sort?e.sort():[e]),Er(a)}:L1().includes(s)?function(...e){return s.apply(Df(this),e),Er(vv.get(this))}:function(...e){return Er(s.apply(Df(this),e))}}function q1(s){return typeof s=="function"?P1(s):(s instanceof IDBTransaction&&j1(s),U1(s,k1())?new Proxy(s,Lf):s)}function Er(s){if(s instanceof IDBRequest)return z1(s);if(Rf.has(s))return Rf.get(s);const e=q1(s);return e!==s&&(Rf.set(s,e),sd.set(e,s)),e}const Df=s=>sd.get(s);function H1(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),p=Er(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Er(d.result),y.oldVersion,y.newVersion,Er(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const G1=["get","getKey","getAll","getAllKeys","count"],F1=["put","add","delete","clear"],Cf=new Map;function sy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=F1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||G1.includes(i)))return;const h=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),o&&y.done]))[0]};return Cf.set(e,h),h}B1(s=>({...s,get:(e,i,a)=>sy(e,i)||s.get(e,i,a),has:(e,i)=>!!sy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Q1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Q1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zf="@firebase/app",ly="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new yv("@firebase/app"),Y1="@firebase/app-compat",K1="@firebase/analytics-compat",$1="@firebase/analytics",Z1="@firebase/app-check-compat",W1="@firebase/app-check",J1="@firebase/auth",tT="@firebase/auth-compat",eT="@firebase/database",nT="@firebase/data-connect",iT="@firebase/database-compat",rT="@firebase/functions",aT="@firebase/functions-compat",sT="@firebase/installations",lT="@firebase/installations-compat",oT="@firebase/messaging",uT="@firebase/messaging-compat",cT="@firebase/performance",hT="@firebase/performance-compat",fT="@firebase/remote-config",dT="@firebase/remote-config-compat",mT="@firebase/storage",gT="@firebase/storage-compat",pT="@firebase/firestore",yT="@firebase/vertexai",vT="@firebase/firestore-compat",_T="firebase",ET="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]",TT={[zf]:"fire-core",[Y1]:"fire-core-compat",[$1]:"fire-analytics",[K1]:"fire-analytics-compat",[W1]:"fire-app-check",[Z1]:"fire-app-check-compat",[J1]:"fire-auth",[tT]:"fire-auth-compat",[eT]:"fire-rtdb",[nT]:"fire-data-connect",[iT]:"fire-rtdb-compat",[rT]:"fire-fn",[aT]:"fire-fn-compat",[sT]:"fire-iid",[lT]:"fire-iid-compat",[oT]:"fire-fcm",[uT]:"fire-fcm-compat",[cT]:"fire-perf",[hT]:"fire-perf-compat",[fT]:"fire-rc",[dT]:"fire-rc-compat",[mT]:"fire-gcs",[gT]:"fire-gcs-compat",[pT]:"fire-fst",[vT]:"fire-fst-compat",[yT]:"fire-vertex","fire-js":"fire-js",[_T]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,AT=new Map,Bf=new Map;function oy(s,e){try{s.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function qu(s){const e=s.name;if(Bf.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,s);for(const i of Pu.values())oy(i,s);for(const i of AT.values())oy(i,s);return!0}function ST(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function bT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new pv("app","Firebase",wT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=ET;function Ev(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:jf,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=gv()),!i)throw Tr.create("no-options");const h=Pu.get(o);if(h){if(Bu(i,h.options)&&Bu(a,h.config))return h;throw Tr.create("duplicate-app",{appName:o})}const d=new N1(o);for(const y of Bf.values())d.addComponent(y);const p=new RT(i,a,d);return Pu.set(o,p),p}function CT(s=jf){const e=Pu.get(s);if(!e&&s===jf&&gv())return Ev();if(!e)throw Tr.create("no-app",{appName:s});return e}function ps(s,e,i){var a;let o=(a=TT[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${o}" with version "${e}":`];h&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(p.join(" "));return}qu(new Fl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebase-heartbeat-database",NT=1,Xl="firebase-heartbeat-store";let Of=null;function Tv(){return Of||(Of=H1(OT,NT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Tr.create("idb-open",{originalErrorMessage:s.message})})),Of}async function VT(s){try{const i=(await Tv()).transaction(Xl),a=await i.objectStore(Xl).get(Av(s));return await i.done,a}catch(e){if(e instanceof Rs)xi.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(i.message)}}}async function uy(s,e){try{const a=(await Tv()).transaction(Xl,"readwrite");await a.objectStore(Xl).put(e,Av(s)),await a.done}catch(i){if(i instanceof Rs)xi.warn(i.message);else{const a=Tr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(a.message)}}}function Av(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=1024,MT=30;class IT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=cy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>MT){const d=LT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){xi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=cy(),{heartbeatsToSend:a,unsentEntries:o}=UT(this._heartbeatsCache.heartbeats),h=ju(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return xi.warn(i),""}}}function cy(){return new Date().toISOString().substring(0,10)}function UT(s,e=xT){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),hy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),hy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class kT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A1()?S1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hy(s){return ju(JSON.stringify({version:2,heartbeats:s})).length}function LT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(s){qu(new Fl("platform-logger",e=>new X1(e),"PRIVATE")),qu(new Fl("heartbeat",e=>new IT(e),"PRIVATE")),ps(zf,ly,s),ps(zf,ly,"esm2017"),ps("fire-js","")}zT("");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,Sv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,D){function w(){}w.prototype=D.prototype,N.D=D.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(x,k,B){for(var V=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)V[Zt-2]=arguments[Zt];return D.prototype[k].apply(x,V)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,D,w){w||(w=0);var x=Array(16);if(typeof D=="string")for(var k=0;16>k;++k)x[k]=D.charCodeAt(w++)|D.charCodeAt(w++)<<8|D.charCodeAt(w++)<<16|D.charCodeAt(w++)<<24;else for(k=0;16>k;++k)x[k]=D[w++]|D[w++]<<8|D[w++]<<16|D[w++]<<24;D=N.g[0],w=N.g[1],k=N.g[2];var B=N.g[3],V=D+(B^w&(k^B))+x[0]+3614090360&4294967295;D=w+(V<<7&4294967295|V>>>25),V=B+(k^D&(w^k))+x[1]+3905402710&4294967295,B=D+(V<<12&4294967295|V>>>20),V=k+(w^B&(D^w))+x[2]+606105819&4294967295,k=B+(V<<17&4294967295|V>>>15),V=w+(D^k&(B^D))+x[3]+3250441966&4294967295,w=k+(V<<22&4294967295|V>>>10),V=D+(B^w&(k^B))+x[4]+4118548399&4294967295,D=w+(V<<7&4294967295|V>>>25),V=B+(k^D&(w^k))+x[5]+1200080426&4294967295,B=D+(V<<12&4294967295|V>>>20),V=k+(w^B&(D^w))+x[6]+2821735955&4294967295,k=B+(V<<17&4294967295|V>>>15),V=w+(D^k&(B^D))+x[7]+4249261313&4294967295,w=k+(V<<22&4294967295|V>>>10),V=D+(B^w&(k^B))+x[8]+1770035416&4294967295,D=w+(V<<7&4294967295|V>>>25),V=B+(k^D&(w^k))+x[9]+2336552879&4294967295,B=D+(V<<12&4294967295|V>>>20),V=k+(w^B&(D^w))+x[10]+4294925233&4294967295,k=B+(V<<17&4294967295|V>>>15),V=w+(D^k&(B^D))+x[11]+2304563134&4294967295,w=k+(V<<22&4294967295|V>>>10),V=D+(B^w&(k^B))+x[12]+1804603682&4294967295,D=w+(V<<7&4294967295|V>>>25),V=B+(k^D&(w^k))+x[13]+4254626195&4294967295,B=D+(V<<12&4294967295|V>>>20),V=k+(w^B&(D^w))+x[14]+2792965006&4294967295,k=B+(V<<17&4294967295|V>>>15),V=w+(D^k&(B^D))+x[15]+1236535329&4294967295,w=k+(V<<22&4294967295|V>>>10),V=D+(k^B&(w^k))+x[1]+4129170786&4294967295,D=w+(V<<5&4294967295|V>>>27),V=B+(w^k&(D^w))+x[6]+3225465664&4294967295,B=D+(V<<9&4294967295|V>>>23),V=k+(D^w&(B^D))+x[11]+643717713&4294967295,k=B+(V<<14&4294967295|V>>>18),V=w+(B^D&(k^B))+x[0]+3921069994&4294967295,w=k+(V<<20&4294967295|V>>>12),V=D+(k^B&(w^k))+x[5]+3593408605&4294967295,D=w+(V<<5&4294967295|V>>>27),V=B+(w^k&(D^w))+x[10]+38016083&4294967295,B=D+(V<<9&4294967295|V>>>23),V=k+(D^w&(B^D))+x[15]+3634488961&4294967295,k=B+(V<<14&4294967295|V>>>18),V=w+(B^D&(k^B))+x[4]+3889429448&4294967295,w=k+(V<<20&4294967295|V>>>12),V=D+(k^B&(w^k))+x[9]+568446438&4294967295,D=w+(V<<5&4294967295|V>>>27),V=B+(w^k&(D^w))+x[14]+3275163606&4294967295,B=D+(V<<9&4294967295|V>>>23),V=k+(D^w&(B^D))+x[3]+4107603335&4294967295,k=B+(V<<14&4294967295|V>>>18),V=w+(B^D&(k^B))+x[8]+1163531501&4294967295,w=k+(V<<20&4294967295|V>>>12),V=D+(k^B&(w^k))+x[13]+2850285829&4294967295,D=w+(V<<5&4294967295|V>>>27),V=B+(w^k&(D^w))+x[2]+4243563512&4294967295,B=D+(V<<9&4294967295|V>>>23),V=k+(D^w&(B^D))+x[7]+1735328473&4294967295,k=B+(V<<14&4294967295|V>>>18),V=w+(B^D&(k^B))+x[12]+2368359562&4294967295,w=k+(V<<20&4294967295|V>>>12),V=D+(w^k^B)+x[5]+4294588738&4294967295,D=w+(V<<4&4294967295|V>>>28),V=B+(D^w^k)+x[8]+2272392833&4294967295,B=D+(V<<11&4294967295|V>>>21),V=k+(B^D^w)+x[11]+1839030562&4294967295,k=B+(V<<16&4294967295|V>>>16),V=w+(k^B^D)+x[14]+4259657740&4294967295,w=k+(V<<23&4294967295|V>>>9),V=D+(w^k^B)+x[1]+2763975236&4294967295,D=w+(V<<4&4294967295|V>>>28),V=B+(D^w^k)+x[4]+1272893353&4294967295,B=D+(V<<11&4294967295|V>>>21),V=k+(B^D^w)+x[7]+4139469664&4294967295,k=B+(V<<16&4294967295|V>>>16),V=w+(k^B^D)+x[10]+3200236656&4294967295,w=k+(V<<23&4294967295|V>>>9),V=D+(w^k^B)+x[13]+681279174&4294967295,D=w+(V<<4&4294967295|V>>>28),V=B+(D^w^k)+x[0]+3936430074&4294967295,B=D+(V<<11&4294967295|V>>>21),V=k+(B^D^w)+x[3]+3572445317&4294967295,k=B+(V<<16&4294967295|V>>>16),V=w+(k^B^D)+x[6]+76029189&4294967295,w=k+(V<<23&4294967295|V>>>9),V=D+(w^k^B)+x[9]+3654602809&4294967295,D=w+(V<<4&4294967295|V>>>28),V=B+(D^w^k)+x[12]+3873151461&4294967295,B=D+(V<<11&4294967295|V>>>21),V=k+(B^D^w)+x[15]+530742520&4294967295,k=B+(V<<16&4294967295|V>>>16),V=w+(k^B^D)+x[2]+3299628645&4294967295,w=k+(V<<23&4294967295|V>>>9),V=D+(k^(w|~B))+x[0]+4096336452&4294967295,D=w+(V<<6&4294967295|V>>>26),V=B+(w^(D|~k))+x[7]+1126891415&4294967295,B=D+(V<<10&4294967295|V>>>22),V=k+(D^(B|~w))+x[14]+2878612391&4294967295,k=B+(V<<15&4294967295|V>>>17),V=w+(B^(k|~D))+x[5]+4237533241&4294967295,w=k+(V<<21&4294967295|V>>>11),V=D+(k^(w|~B))+x[12]+1700485571&4294967295,D=w+(V<<6&4294967295|V>>>26),V=B+(w^(D|~k))+x[3]+2399980690&4294967295,B=D+(V<<10&4294967295|V>>>22),V=k+(D^(B|~w))+x[10]+4293915773&4294967295,k=B+(V<<15&4294967295|V>>>17),V=w+(B^(k|~D))+x[1]+2240044497&4294967295,w=k+(V<<21&4294967295|V>>>11),V=D+(k^(w|~B))+x[8]+1873313359&4294967295,D=w+(V<<6&4294967295|V>>>26),V=B+(w^(D|~k))+x[15]+4264355552&4294967295,B=D+(V<<10&4294967295|V>>>22),V=k+(D^(B|~w))+x[6]+2734768916&4294967295,k=B+(V<<15&4294967295|V>>>17),V=w+(B^(k|~D))+x[13]+1309151649&4294967295,w=k+(V<<21&4294967295|V>>>11),V=D+(k^(w|~B))+x[4]+4149444226&4294967295,D=w+(V<<6&4294967295|V>>>26),V=B+(w^(D|~k))+x[11]+3174756917&4294967295,B=D+(V<<10&4294967295|V>>>22),V=k+(D^(B|~w))+x[2]+718787259&4294967295,k=B+(V<<15&4294967295|V>>>17),V=w+(B^(k|~D))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+D&4294967295,N.g[1]=N.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+B&4294967295}a.prototype.u=function(N,D){D===void 0&&(D=N.length);for(var w=D-this.blockSize,x=this.B,k=this.h,B=0;B<D;){if(k==0)for(;B<=w;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<D;)if(x[k++]=N.charCodeAt(B++),k==this.blockSize){o(this,x),k=0;break}}else for(;B<D;)if(x[k++]=N[B++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=D},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var D=1;D<N.length-8;++D)N[D]=0;var w=8*this.o;for(D=N.length-8;D<N.length;++D)N[D]=w&255,w/=256;for(this.u(N),N=Array(16),D=w=0;4>D;++D)for(var x=0;32>x;x+=8)N[w++]=this.g[D]>>>x&255;return N};function h(N,D){var w=p;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=D(N)}function d(N,D){this.h=D;for(var w=[],x=!0,k=N.length-1;0<=k;k--){var B=N[k]|0;x&&B==D||(w[k]=B,x=!1)}this.g=w}var p={};function y(N){return-128<=N&&128>N?h(N,function(D){return new d([D|0],0>D?-1:0)}):new d([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return R;if(0>N)return j(g(-N));for(var D=[],w=1,x=0;N>=w;x++)D[x]=N/w|0,w*=4294967296;return new d(D,0)}function E(N,D){if(N.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N.charAt(0)=="-")return j(E(N.substring(1),D));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(D,8)),x=R,k=0;k<N.length;k+=8){var B=Math.min(8,N.length-k),V=parseInt(N.substring(k,k+B),D);8>B?(B=g(Math.pow(D,B)),x=x.j(B).add(g(V))):(x=x.j(w),x=x.add(g(V)))}return x}var R=y(0),T=y(1),A=y(16777216);s=d.prototype,s.m=function(){if(U(this))return-j(this).m();for(var N=0,D=1,w=0;w<this.g.length;w++){var x=this.i(w);N+=(0<=x?x:4294967296+x)*D,D*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(U(this))return"-"+j(this).toString(N);for(var D=g(Math.pow(N,6)),w=this,x="";;){var k=it(w,D).g;w=Y(w,k.j(D));var B=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=k,O(w))return B+x;for(;6>B.length;)B="0"+B;x=B+x}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(var D=0;D<N.g.length;D++)if(N.g[D]!=0)return!1;return!0}function U(N){return N.h==-1}s.l=function(N){return N=Y(this,N),U(N)?-1:O(N)?0:1};function j(N){for(var D=N.g.length,w=[],x=0;x<D;x++)w[x]=~N.g[x];return new d(w,~N.h).add(T)}s.abs=function(){return U(this)?j(this):this},s.add=function(N){for(var D=Math.max(this.g.length,N.g.length),w=[],x=0,k=0;k<=D;k++){var B=x+(this.i(k)&65535)+(N.i(k)&65535),V=(B>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);x=V>>>16,B&=65535,V&=65535,w[k]=V<<16|B}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Y(N,D){return N.add(j(D))}s.j=function(N){if(O(this)||O(N))return R;if(U(this))return U(N)?j(this).j(j(N)):j(j(this).j(N));if(U(N))return j(this.j(j(N)));if(0>this.l(A)&&0>N.l(A))return g(this.m()*N.m());for(var D=this.g.length+N.g.length,w=[],x=0;x<2*D;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<N.g.length;k++){var B=this.i(x)>>>16,V=this.i(x)&65535,Zt=N.i(k)>>>16,Jt=N.i(k)&65535;w[2*x+2*k]+=V*Jt,G(w,2*x+2*k),w[2*x+2*k+1]+=B*Jt,G(w,2*x+2*k+1),w[2*x+2*k+1]+=V*Zt,G(w,2*x+2*k+1),w[2*x+2*k+2]+=B*Zt,G(w,2*x+2*k+2)}for(x=0;x<D;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=D;x<2*D;x++)w[x]=0;return new d(w,0)};function G(N,D){for(;(N[D]&65535)!=N[D];)N[D+1]+=N[D]>>>16,N[D]&=65535,D++}function q(N,D){this.g=N,this.h=D}function it(N,D){if(O(D))throw Error("division by zero");if(O(N))return new q(R,R);if(U(N))return D=it(j(N),D),new q(j(D.g),j(D.h));if(U(D))return D=it(N,j(D)),new q(j(D.g),D.h);if(30<N.g.length){if(U(N)||U(D))throw Error("slowDivide_ only works with positive integers.");for(var w=T,x=D;0>=x.l(N);)w=$(w),x=$(x);var k=rt(w,1),B=rt(x,1);for(x=rt(x,2),w=rt(w,2);!O(x);){var V=B.add(x);0>=V.l(N)&&(k=k.add(w),B=V),x=rt(x,1),w=rt(w,1)}return D=Y(N,k.j(D)),new q(k,D)}for(k=R;0<=N.l(D);){for(w=Math.max(1,Math.floor(N.m()/D.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),B=g(w),V=B.j(D);U(V)||0<V.l(N);)w-=x,B=g(w),V=B.j(D);O(B)&&(B=T),k=k.add(B),N=Y(N,V)}return new q(k,N)}s.A=function(N){return it(this,N).h},s.and=function(N){for(var D=Math.max(this.g.length,N.g.length),w=[],x=0;x<D;x++)w[x]=this.i(x)&N.i(x);return new d(w,this.h&N.h)},s.or=function(N){for(var D=Math.max(this.g.length,N.g.length),w=[],x=0;x<D;x++)w[x]=this.i(x)|N.i(x);return new d(w,this.h|N.h)},s.xor=function(N){for(var D=Math.max(this.g.length,N.g.length),w=[],x=0;x<D;x++)w[x]=this.i(x)^N.i(x);return new d(w,this.h^N.h)};function $(N){for(var D=N.g.length+1,w=[],x=0;x<D;x++)w[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(w,N.h)}function rt(N,D){var w=D>>5;D%=32;for(var x=N.g.length-w,k=[],B=0;B<x;B++)k[B]=0<D?N.i(B+w)>>>D|N.i(B+w+1)<<32-D:N.i(B+w);return new d(k,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Sv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=E,Ar=d}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bv,zl,wv,Vu,Pf,Rv,Dv,Cv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var H=u[b];if(!(H in v))break t;v=v[H]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var v=0,b=!1,H={next:function(){if(!b&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function R(u,m,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),u.apply(m,H)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,T.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,H,Q){for(var at=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)at[Mt-2]=arguments[Mt];return m.prototype[H].apply(b,at)}}function U(u){const m=u.length;if(0<m){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function j(u,m){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(y(b)){const H=u.length||0,Q=b.length||0;u.length=H+Q;for(let at=0;at<Q;at++)u[H+at]=b[at]}else u.push(b)}}class Y{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(u){return/^[\s\xa0]*$/.test(u)}function q(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function it(u){return it[" "](u),u}it[" "]=function(){};var $=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function rt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function N(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(v in b)u[v]=b[v];for(let Q=0;Q<w.length;Q++)v=w[Q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function k(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function B(u){p.setTimeout(()=>{throw u},0)}function V(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Zt{constructor(){this.h=this.g=null}add(m,v){const b=Jt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Jt=new Y(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,dt=!1,zt=new Zt,I=()=>{const u=p.Promise.resolve(void 0);yt=()=>{u.then(nt)}};var nt=()=>{for(var u;u=V();){try{u.h.call(u.g)}catch(v){B(v)}var m=Jt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return u}();function bt(u,m){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if($){t:{try{it(m.nodeName);var H=!0;break t}catch{}H=!1}H||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}O(bt,lt);var Tt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function ae(u,m,v,b,H){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=H,this.key=++Vt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,v,b,H){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var at=dn(u,m,b,H);return-1<at?(m=u[at],v||(m.fa=!1)):(m=new ae(m,this.src,Q,!!b,H),m.fa=v,u.push(m)),m};function ai(u,m){var v=m.type;if(v in u.g){var b=u.g[v],H=Array.prototype.indexOf.call(b,m,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(b,H,1),Q&&(Ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function dn(u,m,v,b){for(var H=0;H<u.length;++H){var Q=u[H];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==b)return H}return-1}var ki="closure_lm_"+(1e6*Math.random()|0),Li={};function si(u,m,v,b,H){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)si(u,m[Q],v,b,H);return null}return v=io(v),u&&u[te]?u.K(m,v,g(b)?!!b.capture:!1,H):Vs(u,m,v,!1,b,H)}function Vs(u,m,v,b,H,Q){if(!m)throw Error("Invalid event type");var at=g(H)?!!H.capture:!!H,Mt=xs(u);if(Mt||(u[ki]=Mt=new Qe(u)),v=Mt.add(m,v,b,at,Q),v.proxy)return v;if(b=Ta(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)ot||(H=at),H===void 0&&(H=!1),u.addEventListener(m.toString(),b,H);else if(u.attachEvent)u.attachEvent(Sa(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ta(){function u(v){return m.call(u.src,u.listener,v)}const m=_c;return u}function Aa(u,m,v,b,H){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Aa(u,m[Q],v,b,H);else b=g(b)?!!b.capture:!!b,v=io(v),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=dn(Q,v,b,H),-1<v&&(Ft(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=dn(m,v,b,H)),(v=-1<u?m[u]:null)&&Ir(v))}function Ir(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])ai(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Sa(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=xs(m))?(ai(v,u),v.h==0&&(v.src=null,m[ki]=null)):Ft(u)}}}function Sa(u){return u in Li?Li[u]:Li[u]="on"+u}function _c(u,m){if(u.da)u=!0;else{m=new bt(m,this);var v=u.listener,b=u.ha||u.src;u.fa&&Ir(u),u=v.call(b,m)}return u}function xs(u){return u=u[ki],u instanceof Qe?u:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function io(u){return typeof u=="function"?u:(u[Je]||(u[Je]=function(m){return u.handleEvent(m)}),u[Je])}function ye(){ht.call(this),this.i=new Qe(this),this.M=this,this.F=null}O(ye,ht),ye.prototype[te]=!0,ye.prototype.removeEventListener=function(u,m,v,b){Aa(this,u,m,v,b)};function Re(u,m){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new lt(m,u);else if(m instanceof lt)m.target=m.target||u;else{var H=m;m=new lt(b,u),x(m,H)}if(H=!0,v)for(var Q=v.length-1;0<=Q;Q--){var at=m.g=v[Q];H=li(at,b,!0,m)&&H}if(at=m.g=u,H=li(at,b,!0,m)&&H,H=li(at,b,!1,m)&&H,v)for(Q=0;Q<v.length;Q++)at=m.g=v[Q],H=li(at,b,!1,m)&&H}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],b=0;b<v.length;b++)Ft(v[b]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ye.prototype.L=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function li(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var H=!0,Q=0;Q<m.length;++Q){var at=m[Q];if(at&&!at.da&&at.capture==v){var Mt=at.listener,_e=at.ha||at.src;at.fa&&ai(u.i,at),H=Mt.call(_e,b)!==!1&&H}}return H&&!b.defaultPrevented}function ro(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Ms(u){u.g=ro(()=>{u.g=null,u.i&&(u.i=!1,Ms(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ec extends ht{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(u){ht.call(this),this.h=u,this.g={}}O(Ur,ht);var zi=[];function Pe(u){rt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ir(m)},u),u.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),Pe(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=p.JSON.stringify,Ln=p.JSON.parse,Ye=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Us(){}Us.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function so(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){lt.call(this,"d")}O(ji,lt);function Vn(){lt.call(this,"c")}O(Vn,lt);var mn={},Bi=null;function ba(){return Bi=Bi||new ye}mn.La="serverreachability";function ks(u){lt.call(this,mn.La,u)}O(ks,lt);function Pi(u){const m=ba();Re(m,new ks(m))}mn.STAT_EVENT="statevent";function wa(u,m){lt.call(this,mn.STAT_EVENT,u),this.stat=m}O(wa,lt);function ce(u){const m=ba();Re(m,new wa(m,u))}mn.Ma="timingevent";function lo(u,m){lt.call(this,mn.Ma,u),this.size=m}O(lo,lt);function qi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function oo(u,m,v,b,H,Q){u.info(function(){if(u.g)if(Q)for(var at="",Mt=Q.split("&"),_e=0;_e<Mt.length;_e++){var It=Mt[_e].split("=");if(1<It.length){var Oe=It[0];It=It[1];var Ee=Oe.split("_");at=2<=Ee.length&&Ee[1]=="type"?at+(Oe+"="+It+"&"):at+(Oe+"=redacted&")}}else at=null;else at=Q;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+m+`
`+v+`
`+at})}function uo(u,m,v,b,H,Q,at){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+m+`
`+v+`
`+Q+" "+at})}function Gi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,v)+(b?" "+b:"")})}function jn(u,m){u.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var at=1;at<H.length;at++)H[at]=""}}}}return Is(v)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kr;function Ra(){}O(Ra,Us),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},kr=new Ra;function Bn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.R=b||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ls}function Ls(){this.i=null,this.g="",this.h=!1}var Fi={},Lr={};function xn(u,m,v){u.L=1,u.v=Br(se(m)),u.m=v,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),ee(u),u.A=se(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),fi(v.i,"t",b),u.C=0,v=u.j.J,u.h=new Ls,u.g=bo(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ec(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,b=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(zi[0]=H.toString()),H=zi);for(var Q=0;Q<H.length;Q++){var at=si(v,H[Q],b||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?D(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pi(),oo(u.i,u.u,u.A,u.l,u.R,u.m)}Bn.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=_n(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||po(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=pi?Pi(3):Pi(2)),Da(this);var v=this.g.Z();this.X=v;e:if(Xi(this)){var b=po(this.g);u="";var H=b.length,Q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),an(this);var at="";break e}this.h.i=new p.TextDecoder}for(m=0;m<H;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(Q&&m==H-1)});b.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=v==200,uo(this.i,this.u,this.A,this.l,this.R,Ee,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,_e=this.g;if((Mt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Mt)){var It=Mt;break e}}It=null}if(v=It)Gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,v);else{this.o=!1,this.s=3,ce(12),tn(this),an(this);break t}}if(this.P){v=!0;let Ie;for(;!this.J&&this.C<at.length;)if(Ie=Qi(this,at),Ie==Lr){Ee==4&&(this.s=4,ce(14),v=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Fi){this.s=4,ce(15),Gi(this.i,this.l,at,"[Invalid Chunk]"),v=!1;break}else Gi(this.i,this.l,Ie,null),sn(this,Ie);if(Xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||at.length!=0||this.h.h||(this.s=1,ce(16),v=!1),this.o=this.o&&v,!v)Gi(this.i,this.l,at,"[Invalid Chunked Response]"),tn(this),an(this);else if(0<at.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Qr(Oe),Oe.M=!0,ce(11))}}else Gi(this.i,this.l,at,null),sn(this,at);Ee==4&&tn(this),this.o&&!this.J&&(Ee==4?To(this.j,this):(this.o=!1,ee(this)))}else Rc(this.g),v==400&&0<at.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),tn(this),an(this)}}}catch{}finally{}};function Xi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qi(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Lr:(v=Number(m.substring(v,b)),isNaN(v)?Fi:(b+=1,b+v>m.length?Lr:(m=m.slice(b,b+v),u.C=b+v,m)))}Bn.prototype.cancel=function(){this.J=!0,tn(this)};function ee(u){u.S=Date.now()+u.I,zs(u,u.I)}function zs(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qi(T(u.ba,u),m)}function Da(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jn(this.i,this.A),this.L!=2&&(Pi(),ce(17)),tn(this),this.s=2,an(this)):zs(this,this.S-u)};function an(u){u.j.G==0||u.J||To(u.j,u)}function tn(u){Da(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sn(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Yi(v.h,u))){if(!u.K&&Yi(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)La(v),Ua(v);else break t;Ks(v),ce(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=qi(T(v.Za,v),6e3));if(1>=co(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gi(v,11)}else if((u.K||v.g==u)&&La(v),!G(m))for(H=v.Da.g.parse(m),m=0;m<H.length;m++){let It=H[m];if(v.T=It[0],It=It[1],v.G==2)if(It[0]=="c"){v.K=It[1],v.ia=It[2];const Oe=It[3];Oe!=null&&(v.la=Oe,v.j.info("VER="+v.la));const Ee=It[4];Ee!=null&&(v.Aa=Ee,v.j.info("SVER="+v.Aa));const pi=It[5];pi!=null&&typeof pi=="number"&&0<pi&&(b=1.5*pi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ie=u.g;if(Ie){const Qn=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var Q=b.h;Q.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ki(Q,Q.h),Q.h=null))}if(b.D){const Zs=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(b.ya=Zs,jt(b.I,b.D,Zs))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var at=u;if(b.qa=So(b,b.J?b.ia:null,b.W),at.K){gn(b.h,at);var Mt=at,_e=b.L;_e&&(Mt.I=_e),Mt.B&&(Da(Mt),ee(Mt)),b.g=at}else _o(b);0<v.i.length&&ka(v)}else It[0]!="stop"&&It[0]!="close"||gi(v,7);else v.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?gi(v,7):Qs(v):It[0]!="noop"&&v.l&&v.l.ta(It),v.v=0)}}Pi(4)}catch{}}var Tc=class{constructor(u,m){this.g=u,this.map=m}};function js(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function co(u){return u.h?1:u.g?u.g.size:0}function Yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ki(u,m){u.g?u.g.add(m):u.h=m}function gn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}js.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ke(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return U(u.i)}function ho(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],v=u.length,b=0;b<v;b++)m.push(u[b]);return m}m=[],v=0;for(b in u)m[v++]=u[b];return m}function Ac(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const b in u)m[v++]=b;return m}}}function zr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ac(u),b=ho(u),H=b.length,Q=0;Q<H;Q++)m.call(void 0,b[Q],v&&v[Q],u)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),H=null;if(0<=b){var Q=u[v].substring(0,b);H=u[v].substring(b+1)}else Q=u[v];m(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ci(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ci){this.h=u.h,$i(this,u.j),this.o=u.o,this.g=u.g,jr(this,u.s),this.l=u.l;var m=u.i,v=new Pn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Oa(this,v),this.m=u.m}else u&&(m=String(u).match(Ps))?(this.h=!1,$i(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),jr(this,m[4]),this.l=Zi(m[5]||"",!0),Oa(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new Pn(null,this.h))}ci.prototype.toString=function(){var u=[],m=this.j;m&&u.push(pn(m,qs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pn(m,qs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pn(v,v.charAt(0)=="/"?Hs:fo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pn(v,wc)),u.join("")};function se(u){return new ci(u)}function $i(u,m,v){u.j=v?Zi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function jr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Oa(u,m,v){m instanceof Pn?(u.i=m,Gs(u.i,u.h)):(v||(m=pn(m,bc)),u.i=new Pn(m,u.h))}function jt(u,m,v){u.i.set(m,v)}function Br(u){return jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Zi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pn(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Sc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,fo=/[#\?:]/g,Hs=/[#\?]/g,bc=/[#\?@]/g,wc=/#/g;function Pn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ca(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Pn.prototype,s.add=function(u,m){yn(this),this.i=null,u=di(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Na(u,m){yn(u),m=di(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hi(u,m){return yn(u),m=di(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(v,b){v.forEach(function(H){u.call(m,H,b,this)},this)},this)},s.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){const H=u[b];for(let Q=0;Q<H.length;Q++)v.push(m[b])}return v},s.V=function(u){yn(this);let m=[];if(typeof u=="string")hi(this,u)&&(m=m.concat(this.g.get(di(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},s.set=function(u,m){return yn(this),this.i=null,u=di(this,u),hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function fi(u,m,v){Na(u,m),0<v.length&&(u.i=null,u.g.set(di(u,m),U(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];const Q=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var H=Q;at[b]!==""&&(H+="="+encodeURIComponent(String(at[b]))),u.push(H)}}return this.i=u.join("&")};function di(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gs(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,b){var H=b.toLowerCase();b!=H&&(Na(this,b),fi(this,H,v))},u)),u.j=m}function mo(u,m){const v=new Hi;if(p.Image){const b=new Image;b.onload=A(vn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(vn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(vn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(vn,v,"TestLoadImage: timeout",!1,m,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Pr(u,m){const v=new Hi,b=new AbortController,H=setTimeout(()=>{b.abort(),vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(Q=>{clearTimeout(H),Q.ok?vn(v,"TestPingServer: ok",!0,m):vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(H),vn(v,"TestPingServer: error",!1,m)})}function vn(u,m,v,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(v)}catch{}}function qr(){this.g=new Ye}function qn(u,m,v){const b=v||"";try{zr(u,function(H,Q){let at=H;g(H)&&(at=Is(H)),m.push(b+Q+"="+encodeURIComponent(at))})}catch(H){throw m.push(b+"type="+encodeURIComponent("_badmap")),H}}function Wi(u){this.l=u.Ub||null,this.j=u.eb||!1}O(Wi,Us),Wi.prototype.g=function(){return new mi(this.l,this.j)},Wi.prototype.i=function(u){return function(){return u}}({});function mi(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(mi,ye),s=mi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&Fs(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},s.Qa=function(u){this.g&&(this.response=u,Hn(this))},s.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xs(u){let m="";return rt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ce(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Xs(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):jt(u,m,v))}function Ht(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ht,ye);var Va=/^https?$/i,Hr=["POST","PUT"];s=Ht.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kr.g(),this.v=this.o?ao(this.o):ao(kr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){go(this,Q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)v.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())v.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Hr,m,void 0))||b||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of v)this.g.setRequestHeader(Q,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gr(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){go(this,Q)}};function go(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xa(u),Fn(u)}function xa(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Fn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Ht.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},s.bb=function(){Ma(this)};function Ma(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)ro(u.Ea,0,u);else if(Re(u,"readystatechange"),_n(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=at===0){var H=String(u.D).match(Ps)[1]||null;!H&&p.self&&p.self.location&&(H=p.self.location.protocol.slice(0,-1)),b=!Va.test(H?H.toLowerCase():"")}v=b}if(v)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var Q=2<_n(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",xa(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Gr(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{v.onreadystatechange=b}catch{}}}function Gr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ln(m)}};function po(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(G(u[b]))continue;var v=k(u[b]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[H]||[];m[H]=Q,Q.push(v)}N(m,function(b){return b.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ia(u){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,u),this.cb=Fr("retryDelaySeedMs",1e4,u),this.Wa=Fr("forwardChannelMaxRetries",2,u),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new js(u&&u.concurrentRequestLimit),this.Da=new qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ia.prototype,s.la=8,s.G=1,s.connect=function(u,m,v,b){ce(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=So(this,null,this.W),ka(this)};function Qs(u){if(yo(u),u.G==3){var m=u.U++,v=se(u.I);if(jt(v,"SID",u.K),jt(v,"RID",m),jt(v,"TYPE","terminate"),Xr(u,v),m=new Bn(u,u.j,m),m.L=2,m.v=Br(se(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=bo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ee(m)}Ao(u)}function Ua(u){u.g&&(Qr(u),u.g.cancel(),u.g=null)}function yo(u){Ua(u),u.u&&(p.clearTimeout(u.u),u.u=null),La(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ka(u){if(!Bs(u.h)&&!u.s){u.s=!0;var m=u.Ga;yt||I(),dt||(yt(),dt=!0),zt.add(m,u),u.B=0}}function Dc(u,m){return co(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qi(T(u.Ga,u,m),$s(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new Bn(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=D(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=vo(this,H,m),v=se(this.I),jt(v,"RID",u),jt(v,"CVER",22),this.D&&jt(v,"X-HTTP-Session-Id",this.D),Xr(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(Xs(Q)))+"&"+m:this.m&&Ce(v,this.m,Q)),Ki(this.h,H),this.Ua&&jt(v,"TYPE","init"),this.P?(jt(v,"$req",m),jt(v,"SID","null"),H.T=!0,xn(H,v,null)):xn(H,v,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||Bs(this.h)||Ys(this))};function Ys(u,m){var v;m?v=m.l:v=u.U++;const b=se(u.I);jt(b,"SID",u.K),jt(b,"RID",v),jt(b,"AID",u.T),Xr(u,b),u.m&&u.o&&Ce(b,u.m,u.o),v=new Bn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=vo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ki(u.h,v),xn(v,b,m)}function Xr(u,m){u.H&&rt(u.H,function(v,b){jt(m,b,v)}),u.l&&zr({},function(v,b){jt(m,b,v)})}function vo(u,m,v){v=Math.min(u.i.length,v);var b=u.l?T(u.l.Na,u.l,u):null;t:{var H=u.i;let Q=-1;for(;;){const at=["count="+v];Q==-1?0<v?(Q=H[0].g,at.push("ofs="+Q)):Q=0:at.push("ofs="+Q);let Mt=!0;for(let _e=0;_e<v;_e++){let It=H[_e].g;const Oe=H[_e].map;if(It-=Q,0>It)Q=Math.max(0,H[_e].g-100),Mt=!1;else try{qn(Oe,at,"req"+It+"_")}catch{b&&b(Oe)}}if(Mt){b=at.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,b}function _o(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;yt||I(),dt||(yt(),dt=!0),zt.add(m,u),u.v=0}}function Ks(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qi(T(u.Fa,u),$s(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Eo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qi(T(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Ua(this),Eo(this))};function Qr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Eo(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=se(u.qa);jt(m,"RID","rpc"),jt(m,"SID",u.K),jt(m,"AID",u.T),jt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&jt(m,"TO",u.ja),jt(m,"TYPE","xmlhttp"),Xr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Br(se(m)),v.m=null,v.P=!0,ui(v,u)}s.Za=function(){this.C!=null&&(this.C=null,Ua(this),Ks(this),ce(19))};function La(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function To(u,m){var v=null;if(u.g==m){La(u),Qr(u),u.g=null;var b=2}else if(Yi(u.h,m))v=m.D,gn(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var H=u.B;b=ba(),Re(b,new lo(b,v)),ka(u)}else _o(u);else if(H=m.s,H==3||H==0&&0<m.X||!(b==1&&Dc(u,m)||b==2&&Ks(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),H){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function $s(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),b=u.Xa;const H=!b;b=new ci(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||$i(b,"https"),Br(b),H?mo(b.toString(),v):Pr(b.toString(),v)}else ce(2);u.G=0,u.l&&u.l.sa(m),Ao(u),yo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Ao(u){if(u.G=0,u.ka=[],u.l){const m=Ke(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function So(u,m,v){var b=v instanceof ci?se(v):new ci(v);if(b.g!="")m&&(b.g=m+"."+b.g),jr(b,b.s);else{var H=p.location;b=H.protocol,m=m?m+"."+H.hostname:H.hostname,H=+H.port;var Q=new ci(null);b&&$i(Q,b),m&&(Q.g=m),H&&jr(Q,H),v&&(Q.l=v),b=Q}return v=u.D,m=u.ya,v&&m&&jt(b,v,m),jt(b,"VER",u.la),Xr(u,b),b}function bo(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new Wi({eb:v})):new Ht(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}s=wo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function za(){}za.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ye.call(this),this.g=new Ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!G(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!G(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}O($e,ye),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Qs(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Is(u),u=v);m.i.push(new Tc(m.Ya++,u)),m.G==3&&ka(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,$e.aa.N.call(this)};function Ro(u){ji.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(Ro,ji);function Do(){Vn.call(this),this.status=1}O(Do,Vn);function Xn(u){this.g=u}O(Xn,wo),Xn.prototype.ua=function(){Re(this.g,"a")},Xn.prototype.ta=function(u){Re(this.g,new Ro(u))},Xn.prototype.sa=function(u){Re(this.g,new Do)},Xn.prototype.ra=function(){Re(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Cv=function(){return new za},Dv=function(){return ba()},Rv=mn,Pf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Vu=ve,oi.COMPLETE="complete",wv=oi,so.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,zl=so,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,bv=Ht}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const dy="@firebase/firestore",my="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new yv("@firebase/firestore");function fs(){return ya.logLevel}function ut(s,...e){if(ya.logLevel<=Lt.DEBUG){const i=e.map(ld);ya.debug(`Firestore (${Ds}): ${s}`,...i)}}function Mi(s,...e){if(ya.logLevel<=Lt.ERROR){const i=e.map(ld);ya.error(`Firestore (${Ds}): ${s}`,...i)}}function vs(s,...e){if(ya.logLevel<=Lt.WARN){const i=e.map(ld);ya.warn(`Firestore (${Ds}): ${s}`,...i)}}function ld(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s="Unexpected state"){const e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+s;throw Mi(e),new Error(e)}function Gt(s,e){s||_t()}function St(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class BT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class PT{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let h=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Sr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},p=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Sr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string"),new Ov(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Fe(e)}}class qT{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HT{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new qT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GT{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const a=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new gy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new gy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=FT(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Dt(s,e){return s<e?-1:s>e?1:0}function qf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return Dt(a,o);{const h=Nv(),d=XT(h.encode(py(s,i)),h.encode(py(e,i)));return d!==0?d:Dt(a,o)}}i+=a>65535?2:1}return Dt(s.length,e.length)}function py(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function XT(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return Dt(s[i],e[i]);return Dt(s.length,e.length)}function _s(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=-62135596800,vy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*vy);return new be(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<yy)throw new gt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vy}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new be(0,0))}static max(){return new Et(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class Jn{constructor(e,i,a){i===void 0?i=0:i>e.length&&_t(),a===void 0?a=e.length-i:a>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=Jn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const a=Jn.isNumericId(e),o=Jn.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class Wt extends Jn{construct(e,i,a){return new Wt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new gt(et.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const QT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends Jn{construct(e,i,a){return new je(e,i,a)}static isValidIdentifier(e){return QT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new je([_y])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new gt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new gt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new gt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(h(),o++)}if(h(),d)throw new gt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Wt.fromString(e))}static fromName(e){return new pt(Wt.fromString(e).popFirst(5))}static empty(){return new pt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function YT(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new be(i+1,0):new be(i,a));return new Rr(o,pt.empty(),e)}function KT(s){return new Rr(s.readTime,s.key,Ql)}class Rr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(Et.min(),pt.empty(),Ql)}static max(){return new Rr(Et.max(),pt.empty(),Ql)}}function $T(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(s){if(s.code!==et.FAILED_PRECONDITION||s.message!==ZT)throw s;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):J.reject(i)}static resolve(e){return new J((i,a)=>{i(e)})}static reject(e){return new J((i,a)=>{a(e)})}static waitFor(e){return new J((i,a)=>{let o=0,h=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++h,d&&h===o&&i()},y=>a(y))}),d=!0,h===o&&i()})}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next(o=>o?J.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new J((a,o)=>{const h=e.length,d=new Array(h);let p=0;for(let y=0;y<h;y++){const g=y;i(e[g]).next(E=>{d[g]=E,++p,p===h&&a(d)},E=>o(E))}})}static doWhile(e,i){return new J((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function JT(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ec.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function nc(s){return s==null}function Hu(s){return s===0&&1/s==-1/0}function tA(s){return typeof s=="number"&&Number.isInteger(s)&&!Hu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="";function eA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Ey(e)),e=nA(s.get(i),e);return Ey(e)}function nA(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case xv:i+="";break;default:i+=h}}return i}function Ey(s){return s+xv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function xr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Mv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new ze(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,a,o,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new fn([])}unionWith(e){let i=new we(je.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Iv("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const iA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(s){if(Gt(!!s),typeof s=="string"){let e=0;const i=iA.exec(s);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fe(s.seconds),nanos:fe(s.nanos)}}function fe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Cr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="server_timestamp",kv="__type__",Lv="__previous_value__",zv="__local_write_time__";function ud(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[kv])===null||i===void 0?void 0:i.stringValue)===Uv}function ic(s){const e=s.mapValue.fields[Lv];return ud(e)?ic(e):e}function Yl(s){const e=Dr(s.mapValue.fields[zv].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,i,a,o,h,d,p,y,g){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g}}const Gu="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||Gu}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="__type__",aA="__max__",Du={mapValue:{}},Bv="__vector__",Fu="value";function Or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ud(s)?4:lA(s)?9007199254740991:sA(s)?10:11:_t()}function ii(s,e){if(s===e)return!0;const i=Or(s);if(i!==Or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Dr(o.timestampValue),p=Dr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return Cr(o.bytesValue).isEqual(Cr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),p=fe(h.doubleValue);return d===p?Hu(d)===Hu(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return _s(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Ty(d)!==Ty(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ii(d[y],p[y])))return!1;return!0}(s,e);default:return _t()}}function $l(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function Es(s,e){if(s===e)return 0;const i=Or(s),a=Or(e);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=fe(h.integerValue||h.doubleValue),y=fe(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(s,e);case 3:return Sy(s.timestampValue,e.timestampValue);case 4:return Sy(Yl(s),Yl(e));case 5:return qf(s.stringValue,e.stringValue);case 6:return function(h,d){const p=Cr(h),y=Cr(d);return p.compareTo(y)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const E=Dt(p[g],y[g]);if(E!==0)return E}return Dt(p.length,y.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Dt(fe(h.latitude),fe(d.latitude));return p!==0?p:Dt(fe(h.longitude),fe(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return by(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,y,g,E;const R=h.fields||{},T=d.fields||{},A=(p=R[Fu])===null||p===void 0?void 0:p.arrayValue,O=(y=T[Fu])===null||y===void 0?void 0:y.arrayValue,U=Dt(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return U!==0?U:by(A,O)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Du.mapValue&&d===Du.mapValue)return 0;if(h===Du.mapValue)return 1;if(d===Du.mapValue)return-1;const p=h.fields||{},y=Object.keys(p),g=d.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let R=0;R<y.length&&R<E.length;++R){const T=qf(y[R],E[R]);if(T!==0)return T;const A=Es(p[y[R]],g[E[R]]);if(A!==0)return A}return Dt(y.length,E.length)}(s.mapValue,e.mapValue);default:throw _t()}}function Sy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=Dr(s),a=Dr(e),o=Dt(i.seconds,a.seconds);return o!==0?o:Dt(i.nanos,a.nanos)}function by(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Es(i[o],a[o]);if(h)return h}return Dt(i.length,a.length)}function Ts(s){return Hf(s)}function Hf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Dr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Cr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return pt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Hf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Hf(i.fields[d])}`;return o+"}"}(s.mapValue):_t()}function xu(s){switch(Or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ic(s);return e?16+xu(e):16;case 5:return 2*s.stringValue.length;case 6:return Cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+xu(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return xr(a.fields,(h,d)=>{o+=h.length+xu(d)}),o}(s.mapValue);default:throw _t()}}function Gf(s){return!!s&&"integerValue"in s}function cd(s){return!!s&&"arrayValue"in s}function wy(s){return!!s&&"nullValue"in s}function Ry(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Mu(s){return!!s&&"mapValue"in s}function sA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[jv])===null||i===void 0?void 0:i.stringValue)===Bv}function Pl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return xr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Pl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function lA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===aA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Mu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=je.emptyPath(),a={},o=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Pl(d):o.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Mu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){xr(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new rn(Pl(this.value))}}function Pv(s){const e=[];return xr(s.fields,(i,a)=>{const o=new je([i]);if(Mu(a)){const h=Pv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,a,o,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),rn.empty(),0)}static newFoundDocument(e,i,a,o){return new Xe(e,1,i,Et.min(),a,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i){this.position=e,this.inclusive=i}}function Dy(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=Es(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i="asc"){this.field=e,this.dir=i}}function oA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{}class Se extends qv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new cA(e,i,a):i==="array-contains"?new dA(e,a):i==="in"?new mA(e,a):i==="not-in"?new gA(e,a):i==="array-contains-any"?new pA(e,a):new Se(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new hA(e,a):new fA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Es(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends qv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return Hv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Hv(s){return s.op==="and"}function Gv(s){return uA(s)&&Hv(s)}function uA(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function Ff(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+Ts(s.value);if(Gv(s))return s.filters.map(e=>Ff(e)).join(",");{const e=s.filters.map(i=>Ff(i)).join(",");return`${s.op}(${e})`}}function Fv(s,e){return s instanceof Se?function(a,o){return o instanceof Se&&a.op===o.op&&a.field.isEqual(o.field)&&ii(a.value,o.value)}(s,e):s instanceof ri?function(a,o){return o instanceof ri&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,p)=>h&&Fv(d,o.filters[p]),!0):!1}(s,e):void _t()}function Xv(s){return s instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`}(s):s instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(Xv).join(" ,")+"}"}(s):"Filter"}class cA extends Se{constructor(e,i,a){super(e,i,a),this.key=pt.fromName(a.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class hA extends Se{constructor(e,i){super(e,"in",i),this.keys=Qv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class fA extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Qv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Qv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>pt.fromName(a.referenceValue))}class dA extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&$l(i.arrayValue,this.value)}}class mA extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class gA extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!$l(this.value.arrayValue,i)}}class pA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>$l(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i=null,a=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.le=null}}function Oy(s,e=null,i=[],a=[],o=null,h=null,d=null){return new yA(s,e,i,a,o,h,d)}function hd(s){const e=St(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Ff(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Ts(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Ts(a)).join(",")),e.le=i}return e.le}function fd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!oA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Fv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Cy(s.startAt,e.startAt)&&Cy(s.endAt,e.endAt)}function Xf(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i=null,a=[],o=[],h=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vA(s,e,i,a,o,h,d,p){return new rc(s,e,i,a,o,h,d,p)}function Yv(s){return new rc(s)}function Ny(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _A(s){return s.collectionGroup!==null}function ql(s){const e=St(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new we(je.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Qu(h,a))}),i.has(je.keyField().canonicalString())||e.he.push(new Qu(je.keyField(),a))}return e.he}function ti(s){const e=St(s);return e.Pe||(e.Pe=EA(e,ql(s))),e.Pe}function EA(s,e){if(s.limitType==="F")return Oy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Qu(o.field,h)});const i=s.endAt?new Xu(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Xu(s.startAt.position,s.startAt.inclusive):null;return Oy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Qf(s,e,i){return new rc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ac(s,e){return fd(ti(s),ti(e))&&s.limitType===e.limitType}function Kv(s){return`${hd(ti(s))}|lt:${s.limitType}`}function ds(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>Xv(o)).join(", ")}]`),nc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Ts(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Ts(o)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function sc(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):pt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of ql(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,p,y){const g=Dy(d,p,y);return d.inclusive?g<=0:g<0}(a.startAt,ql(a),o)||a.endAt&&!function(d,p,y){const g=Dy(d,p,y);return d.inclusive?g>=0:g>0}(a.endAt,ql(a),o))}(s,e)}function TA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $v(s){return(e,i)=>{let a=!1;for(const o of ql(s)){const h=AA(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function AA(s,e,i){const a=s.field.isKeyField()?pt.comparator(e.key,i.key):function(h,d,p){const y=d.data.field(h),g=p.data.field(h);return y!==null&&g!==null?Es(y,g):_t()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return Mv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new re(pt.comparator);function Ii(){return SA}const Zv=new re(pt.comparator);function jl(...s){let e=Zv;for(const i of s)e=e.insert(i.key,i);return e}function Wv(s){let e=Zv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ga(){return Hl()}function Jv(){return Hl()}function Hl(){return new _a(s=>s.toString(),(s,e)=>s.isEqual(e))}const bA=new re(pt.comparator),wA=new we(pt.comparator);function Nt(...s){let e=wA;for(const i of s)e=e.add(i);return e}const RA=new we(Dt);function DA(){return RA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function t_(s){return{integerValue:""+s}}function CA(s,e){return tA(e)?t_(e):dd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this._=void 0}}function OA(s,e,i){return s instanceof Yu?function(o,h){const d={fields:{[kv]:{stringValue:Uv},[zv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ud(h)&&(h=ic(h)),h&&(d.fields[Lv]=h),{mapValue:d}}(i,e):s instanceof Zl?n_(s,e):s instanceof Wl?i_(s,e):function(o,h){const d=e_(o,h),p=Vy(d)+Vy(o.Ie);return Gf(d)&&Gf(o.Ie)?t_(p):dd(o.serializer,p)}(s,e)}function NA(s,e,i){return s instanceof Zl?n_(s,e):s instanceof Wl?i_(s,e):i}function e_(s,e){return s instanceof Ku?function(a){return Gf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Yu extends lc{}class Zl extends lc{constructor(e){super(),this.elements=e}}function n_(s,e){const i=r_(e);for(const a of s.elements)i.some(o=>ii(o,a))||i.push(a);return{arrayValue:{values:i}}}class Wl extends lc{constructor(e){super(),this.elements=e}}function i_(s,e){let i=r_(e);for(const a of s.elements)i=i.filter(o=>!ii(o,a));return{arrayValue:{values:i}}}class Ku extends lc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Vy(s){return fe(s.integerValue||s.doubleValue)}function r_(s){return cd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function VA(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof Zl&&o instanceof Zl||a instanceof Wl&&o instanceof Wl?_s(a.elements,o.elements,ii):a instanceof Ku&&o instanceof Ku?ii(a.Ie,o.Ie):a instanceof Yu&&o instanceof Yu}(s.transform,e.transform)}class xA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class oc{}function a_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new l_(s.key,ei.none()):new Jl(s.key,s.data,ei.none());{const i=s.data,a=rn.empty();let o=new we(je.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Mr(s.key,a,new fn(o.toArray()),ei.none())}}function MA(s,e,i){s instanceof Jl?function(o,h,d){const p=o.value.clone(),y=My(o.fieldTransforms,h,d.transformResults);p.setAll(y),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof Mr?function(o,h,d){if(!Iu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=My(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(s_(o)),y.setAll(p),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Gl(s,e,i,a){return s instanceof Jl?function(h,d,p,y){if(!Iu(h.precondition,d))return p;const g=h.value.clone(),E=Iy(h.fieldTransforms,y,d);return g.setAll(E),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(s,e,i,a):s instanceof Mr?function(h,d,p,y){if(!Iu(h.precondition,d))return p;const g=Iy(h.fieldTransforms,y,d),E=d.data;return E.setAll(s_(h)),E.setAll(g),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(s,e,i,a):function(h,d,p){return Iu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function IA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=e_(a.transform,o||null);h!=null&&(i===null&&(i=rn.empty()),i.set(a.field,h))}return i||null}function xy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&_s(a,o,(h,d)=>VA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Jl extends oc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends oc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function s_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function My(s,e,i){const a=new Map;Gt(s.length===i.length);for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,p=e.data.field(h.field);a.set(h.field,NA(d,p,i[o]))}return a}function Iy(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,OA(h,d,e))}return a}class l_ extends oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UA extends oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&MA(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Gl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Gl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Jv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const y=a_(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,a)=>xy(i,a))&&_s(this.baseMutations,e.baseMutations,(i,a)=>xy(i,a))}}class md{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Gt(e.mutations.length===a.length);let o=function(){return bA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new md(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,kt;function jA(s){switch(s){case et.OK:return _t();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return _t()}}function o_(s){if(s===void 0)return Mi("GRPC error has no .code"),et.UNKNOWN;switch(s){case pe.OK:return et.OK;case pe.CANCELLED:return et.CANCELLED;case pe.UNKNOWN:return et.UNKNOWN;case pe.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case pe.INTERNAL:return et.INTERNAL;case pe.UNAVAILABLE:return et.UNAVAILABLE;case pe.UNAUTHENTICATED:return et.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case pe.NOT_FOUND:return et.NOT_FOUND;case pe.ALREADY_EXISTS:return et.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return et.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case pe.ABORTED:return et.ABORTED;case pe.OUT_OF_RANGE:return et.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return et.UNIMPLEMENTED;case pe.DATA_LOSS:return et.DATA_LOSS;default:return _t()}}(kt=pe||(pe={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new Ar([4294967295,4294967295],0);function Uy(s){const e=Nv().encode(s),i=new Sv;return i.update(e),new Uint8Array(i.digest())}function ky(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ar([i,a],0),new Ar([o,h],0)]}class gd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(a<0)throw new Bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ar.fromNumber(this.Ee)}Ae(e,i,a){let o=e.add(i.multiply(Ar.fromNumber(a)));return o.compare(BA)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Uy(e),[a,o]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new gd(h,o,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const i=Uy(e),[a,o]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,to.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new uc(Et.min(),o,new re(Dt),Ii(),Nt())}}class to{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new to(a,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,i,a,o){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=o}}class u_{constructor(e,i){this.targetId=e,this.ge=i}}class c_{constructor(e,i,a=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Ly{constructor(){this.pe=0,this.ye=zy(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),a=Nt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_t()}}),new to(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=zy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class PA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ii(),this.$e=Cu(),this.Ue=Cu(),this.Ke=new re(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,a=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Xf(h))if(a===0){const d=new pt(h.path);this.ze(i,d,Xe.newNoDocument(d,Et.min()))}else Gt(a===1);else{const d=this.et(i);if(d!==a){const p=this.tt(e),y=p?this.nt(p,e,d):1;if(y!==0){this.Ye(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,g)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Cr(a).toUint8Array()}catch(y){if(y instanceof Iv)return vs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new gd(d,o,h)}catch(y){return vs(y instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.Ee===0?null:p}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const p=this.Xe(d);if(p){if(h.current&&Xf(p.target)){const y=new pt(p.target.path);this._t(y).has(d)||this.ut(d,y)||this.ze(d,y,Xe.newNoDocument(y,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Nt();this.Ue.forEach((h,d)=>{let p=!0;d.forEachWhile(y=>{const g=this.Xe(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new uc(e,i,this.Ke,this.Qe,a);return this.Qe=Ii(),this.$e=Cu(),this.Ue=Cu(),this.Ke=new re(Dt),o}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Ly,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new we(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ly),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Cu(){return new re(pt.comparator)}function zy(){return new re(pt.comparator)}const qA={asc:"ASCENDING",desc:"DESCENDING"},HA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GA={and:"AND",or:"OR"};class FA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Yf(s,e){return s.useProto3Json||nc(e)?e:{value:e}}function $u(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function XA(s,e){return $u(s,e.toTimestamp())}function ni(s){return Gt(!!s),Et.fromTimestamp(function(i){const a=Dr(i);return new be(a.seconds,a.nanos)}(s))}function pd(s,e){return Kf(s,e).canonicalString()}function Kf(s,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function f_(s){const e=Wt.fromString(s);return Gt(y_(e)),e}function $f(s,e){return pd(s.databaseId,e.path)}function Nf(s,e){const i=f_(e);if(i.get(1)!==s.databaseId.projectId)throw new gt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new gt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(m_(i))}function d_(s,e){return pd(s.databaseId,e)}function QA(s){const e=f_(s);return e.length===4?Wt.emptyPath():m_(e)}function Zf(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function m_(s){return Gt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function jy(s,e,i){return{name:$f(s,e),fields:i.value.mapValue.fields}}function YA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(g,E){return g.useProto3Json?(Gt(E===void 0||typeof E=="string"),Be.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Be.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(g){const E=g.code===void 0?et.UNKNOWN:o_(g.code);return new gt(E,g.message||"")}(d);i=new c_(a,o,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Nf(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):Et.min(),p=new rn({mapValue:{fields:a.document.fields}}),y=Xe.newFoundDocument(o,h,d,p),g=a.targetIds||[],E=a.removedTargetIds||[];i=new Uu(g,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Nf(s,a.document),h=a.readTime?ni(a.readTime):Et.min(),d=Xe.newNoDocument(o,h),p=a.removedTargetIds||[];i=new Uu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Nf(s,a.document),h=a.removedTargetIds||[];i=new Uu([],h,o,null)}else{if(!("filter"in e))return _t();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new zA(o,h),p=a.targetId;i=new u_(p,d)}}return i}function KA(s,e){let i;if(e instanceof Jl)i={update:jy(s,e.key,e.value)};else if(e instanceof l_)i={delete:$f(s,e.key)};else if(e instanceof Mr)i={update:jy(s,e.key,e.data),updateMask:rS(e.fieldMask)};else{if(!(e instanceof UA))return _t();i={verify:$f(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof Yu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ku)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw _t()}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:XA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t()}(s,e.precondition)),i}function $A(s,e){return s&&s.length>0?(Gt(e!==void 0),s.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(Et.min())&&(d=ni(h)),new xA(d,o.transformResults||[])}(i,e))):[]}function ZA(s,e){return{documents:[d_(s,e.path)]}}function WA(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=d_(s,o);const h=function(g){if(g.length!==0)return p_(ri.create(g,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(g){if(g.length!==0)return g.map(E=>function(T){return{field:ms(T.field),direction:eS(T.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Yf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:i,parent:o}}function JA(s){let e=QA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Gt(a===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let h=[];i.where&&(h=function(R){const T=g_(R);return T instanceof ri&&Gv(T)?T.getFilters():[T]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(T=>function(O){return new Qu(gs(O.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(i.orderBy));let p=null;i.limit&&(p=function(R){let T;return T=typeof R=="object"?R.value:R,nc(T)?null:T}(i.limit));let y=null;i.startAt&&(y=function(R){const T=!!R.before,A=R.values||[];return new Xu(A,T)}(i.startAt));let g=null;return i.endAt&&(g=function(R){const T=!R.before,A=R.values||[];return new Xu(A,T)}(i.endAt)),vA(e,o,d,h,p,"F",y,g)}function tS(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function g_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=gs(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=gs(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gs(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(s):s.fieldFilter!==void 0?function(i){return Se.create(gs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(a=>g_(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(s):_t()}function eS(s){return qA[s]}function nS(s){return HA[s]}function iS(s){return GA[s]}function ms(s){return{fieldPath:s.canonicalString()}}function gs(s){return je.fromServerFormat(s.fieldPath)}function p_(s){return s instanceof Se?function(i){if(i.op==="=="){if(Ry(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(wy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ry(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(wy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:nS(i.op),value:i.value}}}(s):s instanceof ri?function(i){const a=i.getFilters().map(o=>p_(o));return a.length===1?a[0]:{compositeFilter:{op:iS(i.op),filters:a}}}(s):_t()}function rS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function y_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a,o,h=Et.min(),d=Et.min(),p=Be.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.Tt=e}}function sS(s){const e=JA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.Tn=new oS}addToCollectionParentIndex(e,i){return this.Tn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Rr.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class oS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v_=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(v_,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new As(0)}static Kn(){return new As(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LruGarbageCollector",uS=1048576;function qy([s,e],[i,a]){const o=Dt(s,i);return o===0?Dt(e,a):o}class cS{constructor(e){this.Hn=e,this.buffer=new we(qy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ut(Py,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?ut(Py,"Ignoring IndexedDB error during garbage collection: ",i):await Cs(i)}await this.er(3e5)})}}class fS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return J.resolve(ec.ae);const a=new cS(i);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(By)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),By):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,o,h,d,p,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(a=R,p=Date.now(),this.removeTargets(e,a,i))).next(R=>(h=R,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(R=>(g=Date.now(),fs()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(y-p)+`ms
	Removed ${R} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R})))}}function dS(s,e){return new fS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.changes=new _a(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Gl(a.mutation,o,fn.empty(),be.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Nt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Nt()){const o=ga();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=jl();return h.forEach((p,y)=>{d=d.insert(p,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ga();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Nt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,o){let h=Ii();const d=Hl(),p=function(){return Hl()}();return i.forEach((y,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Mr)?h=h.insert(g.key,g):E!==void 0?(d.set(g.key,E.mutation.getFieldMask()),Gl(E.mutation,g,E.mutation.getFieldMask(),be.now())):d.set(g.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((g,E)=>d.set(g,E)),i.forEach((g,E)=>{var R;return p.set(g,new gS(E,(R=d.get(g))!==null&&R!==void 0?R:null))}),p))}recalculateAndSaveOverlays(e,i){const a=Hl();let o=new re((d,p)=>d-p),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let E=a.get(y)||fn.empty();E=p.applyToLocalView(g,E),a.set(y,E);const R=(o.get(p.batchId)||Nt()).add(y);o=o.insert(p.batchId,R)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,E=y.value,R=Jv();E.forEach(T=>{if(!h.has(T)){const A=a_(i.get(T),a.get(T));A!==null&&R.set(T,A),h=h.add(T)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,R))}return J.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):_A(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):J.resolve(ga());let p=Ql,y=h;return d.next(g=>J.forEach(g,(E,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(T=>{y=y.insert(E,T)}))).next(()=>this.populateOverlays(e,g,h)).next(()=>this.computeViews(e,y,g,Nt())).next(E=>({batchId:p,changes:Wv(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(a=>{let o=jl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,h).next(p=>J.forEach(p,y=>{const g=function(R,T){return new rc(T,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(E=>{E.forEach((R,T)=>{d=d.insert(R,T)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((y,g)=>{const E=g.getKey();d.get(E)===null&&(d=d.insert(E,Xe.newInvalidDocument(E)))});let p=jl();return d.forEach((y,g)=>{const E=h.get(y);E!==void 0&&Gl(E.mutation,g,fn.empty(),be.now()),sc(i,g)&&(p=p.insert(y,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return J.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:sS(o.bundledQuery),readTime:ni(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.overlays=new re(pt.comparator),this.Rr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ga();return J.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.Et(e,i,h)}),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=ga(),h=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===h&&y.largestBatchId>a&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new re((g,E)=>g-E);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>a){let E=h.get(g.largestBatchId);E===null&&(E=ga(),h=h.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=ga(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return J.resolve(p)}Et(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new LA(i,a));let h=this.Rr.get(i);h===void 0&&(h=Nt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Me(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new pt(new Wt([])),a=new Me(i,e),o=new Me(i,e+1),h=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new pt(new Wt([])),a=new Me(i,e),o=new Me(i,e+1);let h=Nt();return this.gr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return pt.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kA(h,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Mr=this.Mr.add(new Me(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Nr(a),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?od:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,o],d=>{const p=this.Or(d.Cr);h.push(p)}),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new we(Dt);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],p=>{a=a.add(p.Cr)})}),J.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;pt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new pt(h),0);let p=new we(Dt);return this.Mr.forEachWhile(y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(p=p.add(y.Cr)),!0)},d),J.resolve(this.Br(p))}Br(e){const i=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return J.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Me(i,0),o=this.Mr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.kr=e,this.docs=function(){return new re(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let a=Ii();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))}),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ii();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||$T(KT(E),a)<=0||(o.has(E.key)||sc(i,E))&&(h=h.insert(E.key,E.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(e,i,a,o){_t()}qr(e,i){return J.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new AS(this)}getSize(e){return J.resolve(this.size)}}class AS extends mS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),J.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.persistence=e,this.Qr=new _a(i=>hd(i),fd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yd,this.targetCount=0,this.Kr=As.Un()}forEachTarget(e,i){return this.Qr.forEach((a,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),J.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new As(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.zn(i),J.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),J.waitFor(h).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),J.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),J.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new ec(0),this.zr=!1,this.zr=!0,this.jr=new _S,this.referenceDelegate=e(this),this.Hr=new SS(this),this.indexManager=new lS,this.remoteDocumentCache=function(o){return new TS(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new aS(i),this.Yr=new yS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new vS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new ES(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){ut("MemoryPersistence","Starting transaction:",e);const o=new bS(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return J.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class bS extends WT{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.ti=new yd,this.ni=null}static ri(e){return new vd(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),J.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,a=>{const o=pt.fromPath(a);return this.si(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return J.or([()=>J.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Zu{constructor(e,i){this.persistence=e,this.oi=new _a(a=>eA(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=dS(this,i)}static ri(e,i){return new Zu(e,i)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return J.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(h=>h?J.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(p=>{p||(a++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=xu(e.data.value)),i}ar(e,i,a){return J.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(e,i){let a=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new _d(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return T1()?8:JT(_1())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new wS;return this._s(e,i,d).next(p=>{if(h.result=p,this.Xi)return this.us(e,i,d,p.size)})}).next(()=>h.result)}us(e,i,a,o){return a.documentReadCount<this.es?(fs()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(fs()<=Lt.DEBUG&&ut("QueryEngine","Query:",ds(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(fs()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):J.resolve())}rs(e,i){if(Ny(i))return J.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Qf(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Nt(...h);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(y=>{const g=this.cs(i,p);return this.ls(i,g,d,y.readTime)?this.rs(e,Qf(i,null,"F")):this.hs(e,g,i,y)}))})))}ss(e,i,a,o){return Ny(i)||o.isEqual(Et.min())?J.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,o)?J.resolve(null):(fs()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ds(i)),this.hs(e,d,i,YT(o,Ql)).next(p=>p))})}cs(e,i){let a=new we($v(e));return i.forEach((o,h)=>{sc(e,h)&&(a=a.add(h))}),a}ls(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,a){return fs()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ds(i)),this.ns.getDocumentsMatchingQuery(e,i,Rr.min(),a)}hs(e,i,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="LocalStore",DS=3e8;class CS{constructor(e,i,a,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new re(Dt),this.Is=new _a(h=>hd(h),fd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function OS(s,e,i,a){return new CS(s,e,i,a)}async function E_(s,e){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let y=Nt();for(const g of o){d.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of h){p.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next(g=>({Rs:g,removedBatchIds:d,addedBatchIds:p}))})})}function NS(s,e){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(p,y,g,E){const R=g.batch,T=R.keys();let A=J.resolve();return T.forEach(O=>{A=A.next(()=>E.getEntry(y,O)).next(U=>{const j=g.docVersions.get(O);Gt(j!==null),U.version.compareTo(j)<0&&(R.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),E.addEntry(U)))})}),A.next(()=>p.mutationQueue.removeMutationBatch(y,R))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let y=Nt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function T_(s){const e=St(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function VS(s,e){const i=St(s),a=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const p=[];e.targetChanges.forEach((E,R)=>{const T=o.get(R);if(!T)return;p.push(i.Hr.removeMatchingKeys(h,E.removedDocuments,R).next(()=>i.Hr.addMatchingKeys(h,E.addedDocuments,R)));let A=T.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?A=A.withResumeToken(Be.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(E.resumeToken,a)),o=o.insert(R,A),function(U,j,Y){return U.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=DS?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(T,A,E)&&p.push(i.Hr.updateTargetData(h,A))});let y=Ii(),g=Nt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,E))}),p.push(xS(h,d,e.documentUpdates).next(E=>{y=E.Vs,g=E.fs})),!a.isEqual(Et.min())){const E=i.Hr.getLastRemoteSnapshotVersion(h).next(R=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(E)}return J.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,g)).next(()=>y)}).then(h=>(i.Ts=o,h))}function xS(s,e,i){let a=Nt(),o=Nt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ii();return i.forEach((p,y)=>{const g=h.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ut(Ed,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)}),{Vs:d,fs:o}})}function MS(s,e){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function IS(s,e){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,e).next(h=>h?(o=h,J.resolve(o)):i.Hr.allocateTargetId(a).next(d=>(o=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Wf(s,e,i){const a=St(s),o=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Os(d))throw d;ut(Ed,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function Hy(s,e,i){const a=St(s);let o=Et.min(),h=Nt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(y,g,E){const R=St(y),T=R.Is.get(E);return T!==void 0?J.resolve(R.Ts.get(T)):R.Hr.getTargetData(g,E)}(a,d,ti(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,p.targetId).next(y=>{h=y})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Nt())).next(p=>(US(a,TA(e),p),{documents:p,gs:h})))}function US(s,e,i){let a=s.Es.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Gy{constructor(){this.activeTargetIds=DA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kS{constructor(){this.ho=new Gy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Gy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="ConnectivityMonitor";class Xy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(Fy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ut(Fy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Jf(){return Ou===null?Ou=function(){return 268435456+Math.round(2147483648*Math.random())}():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="RestConnection",zS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Gu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,i,a,o,h){const d=Jf(),p=this.bo(e,i.toUriEncodedString());ut(Vf,`Sending RPC '${e}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,o,h),this.vo(e,p,y,a).then(g=>(ut(Vf,`Received RPC '${e}' ${d}: `,g),g),g=>{throw vs(Vf,`RPC '${e}' ${d} failed with error: `,g,"url: ",p,"request:",a),g})}Co(e,i,a,o,h,d){return this.So(e,i,a,o,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ds}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const a=zS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class PS extends jS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,o){const h=Jf();return new Promise((d,p)=>{const y=new bv;y.setWithCredentials(!0),y.listenOnce(wv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Vu.NO_ERROR:const E=y.getResponseJson();ut(Ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),d(E);break;case Vu.TIMEOUT:ut(Ge,`RPC '${e}' ${h} timed out`),p(new gt(et.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const R=y.getStatus();if(ut(Ge,`RPC '${e}' ${h} failed with status:`,R,"response text:",y.getResponseText()),R>0){let T=y.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const O=function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Y)>=0?Y:et.UNKNOWN}(A.status);p(new gt(O,A.message))}else p(new gt(et.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new gt(et.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{ut(Ge,`RPC '${e}' ${h} completed.`)}});const g=JSON.stringify(o);ut(Ge,`RPC '${e}' ${h} sending request:`,o),y.send(i,"POST",g,a,15)})}Wo(e,i,a){const o=Jf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Cv(),p=Dv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=h.join("");ut(Ge,`Creating RPC '${e}' stream ${o}: ${E}`,y);const R=d.createWebChannel(E,y);let T=!1,A=!1;const O=new BS({Fo:j=>{A?ut(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(ut(Ge,`Opening RPC '${e}' stream ${o} transport.`),R.open(),T=!0),ut(Ge,`RPC '${e}' stream ${o} sending:`,j),R.send(j))},Mo:()=>R.close()}),U=(j,Y,G)=>{j.listen(Y,q=>{try{G(q)}catch(it){setTimeout(()=>{throw it},0)}})};return U(R,zl.EventType.OPEN,()=>{A||(ut(Ge,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),U(R,zl.EventType.CLOSE,()=>{A||(A=!0,ut(Ge,`RPC '${e}' stream ${o} transport closed`),O.Uo())}),U(R,zl.EventType.ERROR,j=>{A||(A=!0,vs(Ge,`RPC '${e}' stream ${o} transport errored:`,j),O.Uo(new gt(et.UNAVAILABLE,"The operation could not be completed")))}),U(R,zl.EventType.MESSAGE,j=>{var Y;if(!A){const G=j.data[0];Gt(!!G);const q=G,it=(q==null?void 0:q.error)||((Y=q[0])===null||Y===void 0?void 0:Y.error);if(it){ut(Ge,`RPC '${e}' stream ${o} received error:`,it);const $=it.status;let rt=function(w){const x=pe[w];if(x!==void 0)return o_(x)}($),N=it.message;rt===void 0&&(rt=et.INTERNAL,N="Unknown error status: "+$+" with message "+it.message),A=!0,O.Uo(new gt(rt,N)),R.close()}else ut(Ge,`RPC '${e}' stream ${o} received:`,G),O.Ko(G)}}),U(p,Rv.STAT_EVENT,j=>{j.stat===Pf.PROXY?ut(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Pf.NOPROXY&&ut(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(s){return new FA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="PersistentStream";class S_{constructor(e,i,a,o,h,d,p,y){this.Ti=e,this.n_=a,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new A_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{e(()=>{const o=new gt(et.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ut(Qy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ut(Qy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qS extends S_{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=YA(this.serializer,e),a=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ni(d.readTime):Et.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,d){let p;const y=d.target;if(p=Xf(y)?{documents:ZA(h,y)}:{query:WA(h,y).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=h_(h,d.resumeToken);const g=Yf(h,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=$u(h,d.snapshotVersion.toTimestamp());const g=Yf(h,d.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const a=tS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.I_(i)}}class HS extends S_{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=$A(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Zf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>KA(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{}class FS extends GS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new gt(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Kf(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new gt(et.UNKNOWN,h.toString())})}Co(e,i,a,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,Kf(i,a),o,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(et.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class XS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):ut("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class QS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{Ea(this)&&(ut(va,"Restarting streams for network reachability change."),await async function(y){const g=St(y);g.W_.add(4),await eo(g),g.j_.set("Unknown"),g.W_.delete(4),await hc(g)}(this))})}),this.j_=new XS(a,o)}}async function hc(s){if(Ea(s))for(const e of s.G_)await e(!0)}async function eo(s){for(const e of s.G_)await e(!1)}function b_(s,e){const i=St(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),bd(i)?Sd(i):Ns(i).c_()&&Ad(i,e))}function Td(s,e){const i=St(s),a=Ns(i);i.K_.delete(e),a.c_()&&w_(i,e),i.K_.size===0&&(a.c_()?a.P_():Ea(i)&&i.j_.set("Unknown"))}function Ad(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(s).y_(e)}function w_(s,e){s.H_.Ne(e),Ns(s).w_(e)}function Sd(s){s.H_=new PA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ns(s).start(),s.j_.B_()}function bd(s){return Ea(s)&&!Ns(s).u_()&&s.K_.size>0}function Ea(s){return St(s).W_.size===0}function R_(s){s.H_=void 0}async function YS(s){s.j_.set("Online")}async function KS(s){s.K_.forEach((e,i)=>{Ad(s,e)})}async function $S(s,e){R_(s),bd(s)?(s.j_.q_(e),Sd(s)):s.j_.set("Unknown")}async function ZS(s,e,i){if(s.j_.set("Online"),e instanceof c_&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const p of h.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.K_.delete(p),o.H_.removeTarget(p))}(s,e)}catch(a){ut(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Wu(s,a)}else if(e instanceof Uu?s.H_.We(e):e instanceof u_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(Et.min()))try{const a=await T_(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.H_.ot(d);return p.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=h.K_.get(g);E&&h.K_.set(g,E.withResumeToken(y.resumeToken,d))}}),p.targetMismatches.forEach((y,g)=>{const E=h.K_.get(y);if(!E)return;h.K_.set(y,E.withResumeToken(Be.EMPTY_BYTE_STRING,E.snapshotVersion)),w_(h,y);const R=new _r(E.target,y,g,E.sequenceNumber);Ad(h,R)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){ut(va,"Failed to raise snapshot:",a),await Wu(s,a)}}async function Wu(s,e,i){if(!Os(e))throw e;s.W_.add(1),await eo(s),s.j_.set("Offline"),i||(i=()=>T_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ut(va,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await hc(s)})}function D_(s,e){return e().catch(i=>Wu(s,i,e))}async function fc(s){const e=St(s),i=Nr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:od;for(;WS(e);)try{const o=await MS(e.localStore,a);if(o===null){e.U_.length===0&&i.P_();break}a=o.batchId,JS(e,o)}catch(o){await Wu(e,o)}C_(e)&&O_(e)}function WS(s){return Ea(s)&&s.U_.length<10}function JS(s,e){s.U_.push(e);const i=Nr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function C_(s){return Ea(s)&&!Nr(s).u_()&&s.U_.length>0}function O_(s){Nr(s).start()}async function t2(s){Nr(s).C_()}async function e2(s){const e=Nr(s);for(const i of s.U_)e.b_(i.mutations)}async function n2(s,e,i){const a=s.U_.shift(),o=md.from(a,e,i);await D_(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await fc(s)}async function i2(s,e){e&&Nr(s).S_&&await async function(a,o){if(function(d){return jA(d)&&d!==et.ABORTED}(o.code)){const h=a.U_.shift();Nr(a).h_(),await D_(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await fc(a)}}(s,e),C_(s)&&O_(s)}async function Yy(s,e){const i=St(s);i.asyncQueue.verifyOperationInProgress(),ut(va,"RemoteStore received new credentials");const a=Ea(i);i.W_.add(3),await eo(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await hc(i)}async function r2(s,e){const i=St(s);e?(i.W_.delete(2),await hc(i)):e||(i.W_.add(2),await eo(i),i.j_.set("Unknown"))}function Ns(s){return s.J_||(s.J_=function(i,a,o){const h=St(i);return h.M_(),new qS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{xo:YS.bind(null,s),No:KS.bind(null,s),Lo:$S.bind(null,s),p_:ZS.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),bd(s)?Sd(s):s.j_.set("Unknown")):(await s.J_.stop(),R_(s))})),s.J_}function Nr(s){return s.Y_||(s.Y_=function(i,a,o){const h=St(i);return h.M_(),new HS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:t2.bind(null,s),Lo:i2.bind(null,s),D_:e2.bind(null,s),v_:n2.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await fc(s)):(await s.Y_.stop(),s.U_.length>0&&(ut(va,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,p=new wd(e,i,d,o,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rd(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Os(s))return new gt(et.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=jl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ys;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Z_=new re(pt.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class Ss{constructor(e,i,a,o,h,d,p,y,g){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new Ss(e,i,ys.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class s2{constructor(){this.queries=$y(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=St(i),h=o.queries;o.queries=$y(),h.forEach((d,p)=>{for(const y of p.ta)y.onError(a)})})(this,new gt(et.ABORTED,"Firestore shutting down"))}}function $y(){return new _a(s=>Kv(s),ac)}async function l2(s,e){const i=St(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(a=2):(h=new a2,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Rd(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Dd(i)}async function o2(s,e){const i=St(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function u2(s,e){const i=St(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ta)p.oa(o)&&(a=!0);d.ea=o}}a&&Dd(i)}function c2(s,e,i){const a=St(s),o=a.queries.get(e);if(o)for(const h of o.ta)h.onError(i);a.queries.delete(e)}function Dd(s){s.ia.forEach(e=>{e.next()})}var td,Zy;(Zy=td||(td={}))._a="default",Zy.Cache="cache";class h2{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ss(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.key=e}}class V_{constructor(e){this.key=e}}class f2{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=$v(e),this.wa=new ys(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Ky,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,R)=>{const T=o.get(E),A=sc(this.query,R)?R:null,O=!!T&&this.mutatedKeys.has(T.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;T&&A?T.data.isEqual(A.data)?O!==U&&(a.track({type:3,doc:A}),j=!0):this.va(T,A)||(a.track({type:2,doc:A}),j=!0,(y&&this.ya(A,y)>0||g&&this.ya(A,g)<0)&&(p=!0)):!T&&A?(a.track({type:0,doc:A}),j=!0):T&&!A&&(a.track({type:1,doc:T}),j=!0,(y||g)&&(p=!0)),j&&(A?(d=d.add(A),h=U?h.add(E):h.delete(E)):(d=d.delete(E),h=h.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),h=h.delete(E.key),a.track({type:1,doc:E})}return{wa:d,Da:a,ls:p,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,R)=>function(A,O){const U=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return U(A)-U(O)}(E.type,R.type)||this.ya(E.doc,R.doc)),this.Ca(a),o=o!=null&&o;const p=i&&!o?this.Fa():[],y=this.pa.size===0&&this.current&&!o?1:0,g=y!==this.ga;return this.ga=y,d.length!==0||g?{snapshot:new Ss(this.query,e.wa,h,d,e.mutatedKeys,y===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ky,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new V_(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new N_(a))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ss.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cd="SyncEngine";class d2{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class m2{constructor(e){this.key=e,this.Ba=!1}}class g2{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new _a(p=>Kv(p),ac),this.qa=new Map,this.Qa=new Set,this.$a=new re(pt.comparator),this.Ua=new Map,this.Ka=new yd,this.Wa={},this.Ga=new Map,this.za=As.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function p2(s,e,i=!0){const a=L_(s);let o;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await x_(a,e,i,!0),o}async function y2(s,e){const i=L_(s);await x_(i,e,!0,!1)}async function x_(s,e,i,a){const o=await IS(s.localStore,ti(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await v2(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&b_(s.remoteStore,o),p}async function v2(s,e,i,a,o){s.Ha=(R,T,A)=>async function(U,j,Y,G){let q=j.view.ba(Y);q.ls&&(q=await Hy(U.localStore,j.query,!1).then(({documents:N})=>j.view.ba(N,q)));const it=G&&G.targetChanges.get(j.targetId),$=G&&G.targetMismatches.get(j.targetId)!=null,rt=j.view.applyChanges(q,U.isPrimaryClient,it,$);return Jy(U,j.targetId,rt.Ma),rt.snapshot}(s,R,T,A);const h=await Hy(s.localStore,e,!0),d=new f2(e,h.gs),p=d.ba(h.documents),y=to.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),g=d.applyChanges(p,s.isPrimaryClient,y);Jy(s,i,g.Ma);const E=new d2(e,i,d);return s.ka.set(e,E),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),g.snapshot}async function _2(s,e,i){const a=St(s),o=a.ka.get(e),h=a.qa.get(o.targetId);if(h.length>1)return a.qa.set(o.targetId,h.filter(d=>!ac(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Wf(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Td(a.remoteStore,o.targetId),ed(a,o.targetId)}).catch(Cs)):(ed(a,o.targetId),await Wf(a.localStore,o.targetId,!0))}async function E2(s,e){const i=St(s),a=i.ka.get(e),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Td(i.remoteStore,a.targetId))}async function T2(s,e,i){const a=C2(s);try{const o=await function(d,p){const y=St(d),g=be.now(),E=p.reduce((A,O)=>A.add(O.key),Nt());let R,T;return y.persistence.runTransaction("Locally write mutations","readwrite",A=>{let O=Ii(),U=Nt();return y.ds.getEntries(A,E).next(j=>{O=j,O.forEach((Y,G)=>{G.isValidDocument()||(U=U.add(Y))})}).next(()=>y.localDocuments.getOverlayedDocuments(A,O)).next(j=>{R=j;const Y=[];for(const G of p){const q=IA(G,R.get(G.key).overlayedDocument);q!=null&&Y.push(new Mr(G.key,q,Pv(q.value.mapValue),ei.exists(!0)))}return y.mutationQueue.addMutationBatch(A,g,Y,p)}).next(j=>{T=j;const Y=j.applyToLocalDocumentSet(R,U);return y.documentOverlayCache.saveOverlays(A,j.batchId,Y)})}).then(()=>({batchId:T.batchId,changes:Wv(R)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,p,y){let g=d.Wa[d.currentUser.toKey()];g||(g=new re(Dt)),g=g.insert(p,y),d.Wa[d.currentUser.toKey()]=g}(a,o.batchId,i),await no(a,o.changes),await fc(a.remoteStore)}catch(o){const h=Rd(o,"Failed to persist write");i.reject(h)}}async function M_(s,e){const i=St(s);try{const a=await VS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await no(i,a,e)}catch(a){await Cs(a)}}function Wy(s,e,i){const a=St(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((h,d)=>{const p=d.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const y=St(d);y.onlineState=p;let g=!1;y.queries.forEach((E,R)=>{for(const T of R.ta)T.sa(p)&&(g=!0)}),g&&Dd(y)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function A2(s,e,i){const a=St(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Ua.get(e),h=o&&o.key;if(h){let d=new re(pt.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const p=Nt().add(h),y=new uc(Et.min(),new Map,new re(Dt),d,p);await M_(a,y),a.$a=a.$a.remove(h),a.Ua.delete(e),Od(a)}else await Wf(a.localStore,e,!1).then(()=>ed(a,e,i)).catch(Cs)}async function S2(s,e){const i=St(s),a=e.batch.batchId;try{const o=await NS(i.localStore,e);U_(i,a,null),I_(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await no(i,o)}catch(o){await Cs(o)}}async function b2(s,e,i){const a=St(s);try{const o=await function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return y.mutationQueue.lookupMutationBatch(g,p).next(R=>(Gt(R!==null),E=R.keys(),y.mutationQueue.removeMutationBatch(g,R))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>y.localDocuments.getDocuments(g,E))})}(a.localStore,e);U_(a,e,i),I_(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await no(a,o)}catch(o){await Cs(o)}}function I_(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function U_(s,e,i){const a=St(s);let o=a.Wa[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function ed(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||k_(s,a)})}function k_(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(Td(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),Od(s))}function Jy(s,e,i){for(const a of i)a instanceof N_?(s.Ka.addReference(a.key,e),w2(s,a)):a instanceof V_?(ut(Cd,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||k_(s,a.key)):_t()}function w2(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(ut(Cd,"New document in limbo: "+i),s.Qa.add(a),Od(s))}function Od(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new pt(Wt.fromString(e)),a=s.za.next();s.Ua.set(a,new m2(i)),s.$a=s.$a.insert(i,a),b_(s.remoteStore,new _r(ti(Yv(i.path)),a,"TargetPurposeLimboResolution",ec.ae))}}async function no(s,e,i){const a=St(s),o=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((p,y)=>{d.push(a.Ha(y,e,i).then(g=>{var E;if((g||i)&&a.isPrimaryClient){const R=g?!g.fromCache:(E=i==null?void 0:i.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(g){o.push(g);const R=_d.Yi(y.targetId,g);h.push(R)}}))}),await Promise.all(d),a.La.p_(o),await async function(y,g){const E=St(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>J.forEach(g,T=>J.forEach(T.Hi,A=>E.persistence.referenceDelegate.addReference(R,T.targetId,A)).next(()=>J.forEach(T.Ji,A=>E.persistence.referenceDelegate.removeReference(R,T.targetId,A)))))}catch(R){if(!Os(R))throw R;ut(Ed,"Failed to update sequence numbers: "+R)}for(const R of g){const T=R.targetId;if(!R.fromCache){const A=E.Ts.get(T),O=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(O);E.Ts=E.Ts.insert(T,U)}}}(a.localStore,h))}async function R2(s,e){const i=St(s);if(!i.currentUser.isEqual(e)){ut(Cd,"User change. New user:",e.toKey());const a=await E_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(p=>{p.forEach(y=>{y.reject(new gt(et.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await no(i,a.Rs)}}function D2(s,e){const i=St(s),a=i.Ua.get(e);if(a&&a.Ba)return Nt().add(a.key);{let o=Nt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const p=i.ka.get(d);o=o.unionWith(p.view.Sa)}return o}}function L_(s){const e=St(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=M_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A2.bind(null,e),e.La.p_=u2.bind(null,e.eventManager),e.La.Ja=c2.bind(null,e.eventManager),e}function C2(s){const e=St(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b2.bind(null,e),e}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return OS(this.persistence,new RS,e.initialUser,this.serializer)}Xa(e){return new __(vd.ri,this.serializer)}Za(e){return new kS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class O2 extends Ju{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof Zu);const a=this.persistence.referenceDelegate.garbageCollector;return new hS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new __(a=>Zu.ri(a,i),this.serializer)}}class nd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Wy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=R2.bind(null,this.syncEngine),await r2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s2}()}createDatastore(e){const i=cc(e.databaseInfo.databaseId),a=function(h){return new PS(h)}(e.databaseInfo);return function(h,d,p,y){return new FS(h,d,p,y)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,p){return new QS(a,o,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Wy(this.syncEngine,i,0),function(){return Xy.D()?new Xy:new LS}())}createSyncEngine(e,i){return function(o,h,d,p,y,g,E){const R=new g2(o,h,d,p,y,g);return E&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=St(o);ut(va,"RemoteStore shutting down."),h.W_.add(5),await eo(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}nd.provider={build:()=>new nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class V2{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{ut(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ut(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Rd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Mf(s,e){s.asyncQueue.verifyOperationInProgress(),ut(Vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await E_(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function tv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await x2(s);ut(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Yy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>Yy(e.remoteStore,o)),s._onlineComponents=e}async function x2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(Vr,"Using user provided OfflineComponentProvider");try{await Mf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;vs("Error using user provided cache. Falling back to memory cache: "+i),await Mf(s,new Ju)}}else ut(Vr,"Using default OfflineComponentProvider"),await Mf(s,new O2(void 0));return s._offlineComponents}async function z_(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(Vr,"Using user provided OnlineComponentProvider"),await tv(s,s._uninitializedComponentsProvider._online)):(ut(Vr,"Using default OnlineComponentProvider"),await tv(s,new nd))),s._onlineComponents}function M2(s){return z_(s).then(e=>e.syncEngine)}async function I2(s){const e=await z_(s),i=e.eventManager;return i.onListen=p2.bind(null,e.syncEngine),i.onUnlisten=_2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=y2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=E2.bind(null,e.syncEngine),i}function U2(s,e,i={}){const a=new Sr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,y,g){const E=new N2({next:T=>{E.su(),d.enqueueAndForget(()=>o2(h,R)),T.fromCache&&y.source==="server"?g.reject(new gt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),R=new h2(p,E,{includeMetadataChanges:!0,Ta:!0});return l2(h,R)}(await I2(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(s,e,i){if(!i)throw new gt(et.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function k2(s,e,i,a){if(e===!0&&a===!0)throw new gt(et.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function nv(s){if(!pt.isDocumentKey(s))throw new gt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function iv(s){if(pt.isDocumentKey(s))throw new gt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Nd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_t()}function bs(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new gt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nd(s);throw new gt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="firestore.googleapis.com",rv=!0;class av{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new gt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P_,this.ssl=rv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:rv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uS)throw new gt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j_((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new gt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new gt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new gt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new jT;switch(a.type){case"firstParty":return new HT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new gt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=ev.get(i);a&&(ut("ComponentProvider","Removing Datastore"),ev.delete(i),a.terminate())}(this),Promise.resolve()}}function L2(s,e,i,a={}){var o;const h=(s=bs(s,dc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),p=`${e}:${i}`;h.host!==P_&&h.host!==p&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:p,ssl:!1,emulatorOptions:a});if(!Bu(y,d)&&(s._setSettings(y),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=Fe.MOCK_USER;else{g=v1(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new gt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Fe(R)}s._authCredentials=new BT(new Ov(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new mc(this.firestore,e,this._query)}}class Nn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class br extends mc{constructor(e,i,a){super(e,i,Yv(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new pt(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function q_(s,e,...i){if(s=wr(s),B_("collection","path",e),s instanceof dc){const a=Wt.fromString(e,...i);return iv(a),new br(s,null,a)}{if(!(s instanceof Nn||s instanceof br))throw new gt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return iv(a),new br(s.firestore,null,a)}}function H_(s,e,...i){if(s=wr(s),arguments.length===1&&(e=Vv.newId()),B_("doc","path",e),s instanceof dc){const a=Wt.fromString(e,...i);return nv(a),new Nn(s,null,new pt(a))}{if(!(s instanceof Nn||s instanceof br))throw new gt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return nv(a),new Nn(s.firestore,s instanceof br?s.converter:null,new pt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new A_(this,"async_queue_retry"),this.Su=()=>{const a=xf();a&&ut(sv,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Sr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Os(e))throw e;ut(sv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(a);throw Mi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=wd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class gc extends dc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function z2(s,e){const i=typeof s=="object"?s:CT(),a=typeof s=="string"?s:Gu,o=ST(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=p1("firestore");h&&L2(o,...h)}return o}function G_(s){if(s._terminated)throw new gt(et.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||j2(s),s._firestoreClient}function j2(s){var e,i,a;const o=s._freezeSettings(),h=function(p,y,g,E){return new rA(p,y,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,j_(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new V2(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(Be.fromBase64String(e))}catch(i){throw new gt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ws(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new gt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=/^__.*__$/;class P2{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(e,this.data,i,this.fieldTransforms)}}class F_{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function X_(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Id{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Id(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(X_(this.Lu)&&B2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class q2{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||cc(e)}ju(e,i,a,o=!1){return new Id({Lu:e,methodName:i,zu:a,path:je.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q_(s){const e=s._freezeSettings(),i=cc(s._databaseId);return new q2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function H2(s,e,i,a,o,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,o);Ud("Data must be an object, but it was:",d,a);const p=Y_(a,d);let y,g;if(h.merge)y=new fn(d.fieldMask),g=d.fieldTransforms;else if(h.mergeFields){const E=[];for(const R of h.mergeFields){const T=id(e,R,i);if(!d.contains(T))throw new gt(et.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);$_(E,T)||E.push(T)}y=new fn(E),g=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,g=d.fieldTransforms;return new P2(new rn(p),y,g)}class yc extends Vd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yc}}function G2(s,e,i,a){const o=s.ju(1,e,i);Ud("Data must be an object, but it was:",o,a);const h=[],d=rn.empty();xr(a,(y,g)=>{const E=kd(e,y,i);g=wr(g);const R=o.Uu(E);if(g instanceof yc)h.push(E);else{const T=vc(g,R);T!=null&&(h.push(E),d.set(E,T))}});const p=new fn(h);return new F_(d,p,o.fieldTransforms)}function F2(s,e,i,a,o,h){const d=s.ju(1,e,i),p=[id(e,a,i)],y=[o];if(h.length%2!=0)throw new gt(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<h.length;T+=2)p.push(id(e,h[T])),y.push(h[T+1]);const g=[],E=rn.empty();for(let T=p.length-1;T>=0;--T)if(!$_(g,p[T])){const A=p[T];let O=y[T];O=wr(O);const U=d.Uu(A);if(O instanceof yc)g.push(A);else{const j=vc(O,U);j!=null&&(g.push(A),E.set(A,j))}}const R=new fn(g);return new F_(E,R,d.fieldTransforms)}function vc(s,e){if(K_(s=wr(s)))return Ud("Unsupported field value:",e,s),Y_(s,e);if(s instanceof Vd)return function(a,o){if(!X_(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const p of a){let y=vc(p,o.Ku(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=wr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return CA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=be.fromDate(a);return{timestampValue:$u(o.serializer,h)}}if(a instanceof be){const h=new be(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:$u(o.serializer,h)}}if(a instanceof xd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ws)return{bytesValue:h_(o.serializer,a._byteString)};if(a instanceof Nn){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:pd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Md)return function(d,p){return{mapValue:{fields:{[jv]:{stringValue:Bv},[Fu]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return dd(p.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Nd(a)}`)}(s,e)}function Y_(s,e){const i={};return Mv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(s,(a,o)=>{const h=vc(o,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function K_(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof be||s instanceof xd||s instanceof ws||s instanceof Nn||s instanceof Vd||s instanceof Md)}function Ud(s,e,i){if(!K_(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Nd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function id(s,e,i){if((e=wr(e))instanceof pc)return e._internalPath;if(typeof e=="string")return kd(s,e);throw tc("Field path arguments must be of type string or ",s,!1,void 0,i)}const X2=new RegExp("[~\\*/\\[\\]]");function kd(s,e,i){if(e.search(X2)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new pc(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function tc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new gt(et.INVALID_ARGUMENT,p+s+y)}function $_(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(W_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Q2 extends Z_{data(){return super.data()}}function W_(s,e){return typeof e=="string"?kd(s,e):e instanceof pc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new gt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K2{convertValue(e,i="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return xr(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[Fu].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new Md(h)}convertGeoPoint(e){return new xd(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ic(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Wt.fromString(e);Gt(y_(a));const o=new Kl(a.get(1),a.get(3)),h=new pt(a.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z2 extends Z_{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(W_("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class ku extends Z2{data(e={}){return super.data(e)}}class W2{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Nu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new ku(this._firestore,this._userDataWriter,a.key,a,new Nu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const y=new ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Nu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const y=new ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Nu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:J2(p.type),doc:y,oldIndex:g,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function J2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class tb extends K2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,i)}}function eb(s){s=bs(s,mc);const e=bs(s.firestore,gc),i=G_(e),a=new tb(e);return Y2(s._query),U2(i,s._query).then(o=>new W2(e,a,s,o))}function nb(s,e,i,...a){s=bs(s,Nn);const o=bs(s.firestore,gc),h=Q_(o);let d;return d=typeof(e=wr(e))=="string"||e instanceof pc?F2(h,"updateDoc",s._key,e,i,a):G2(h,"updateDoc",s._key,e),J_(o,[d.toMutation(s._key,ei.exists(!0))])}function ib(s,e){const i=bs(s.firestore,gc),a=H_(s),o=$2(s.converter,e);return J_(i,[H2(Q_(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ei.exists(!1))]).then(()=>a)}function J_(s,e){return function(a,o){const h=new Sr;return a.asyncQueue.enqueueAndForget(async()=>T2(await M2(a),o,h)),h.promise}(G_(s),e)}(function(e,i=!0){(function(o){Ds=o})(DT),qu(new Fl("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new gc(new PT(a.getProvider("auth-internal")),new GT(d,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new gt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(g.options.projectId,E)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),ps(dy,my,e),ps(dy,my,"esm2017")})();var rb="firebase",ab="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(rb,ab,"app");const sb={apiKey:"AIzaSyB8q0VG33RpBTlCcxm8bwa3rgsilkMowq8",authDomain:"naturaltask-6c6db.firebaseapp.com",projectId:"naturaltask-6c6db",storageBucket:"naturaltask-6c6db.firebasestorage.app",messagingSenderId:"12789069261",appId:"1:12789069261:web:9e63e9b2751b69a4ae4084",measurementId:"G-EF6ECNVKBQ"},lb=Ev(sb),Ld=z2(lb);async function t0(s){const e=q_(Ld,"users",s,"tasks");try{const i=await eb(e),a=[];return i.forEach(o=>{a.push({id:o.id,...o.data()})}),a}catch(i){throw console.error("Error fetching user tasks:",i),i}}t0("1acdf72f-2d1a-4506-8c5c-62eb2c0d1cf2").then(s=>console.log("User tasks:",s)).catch(s=>console.error("Error:",s));function ob(s){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"},child:[]}]})(s)}async function zd(){return new Promise((s,e)=>{var i;if((i=chrome==null?void 0:chrome.storage)!=null&&i.sync)chrome.storage.sync.get("userId",a=>{if(chrome.runtime.lastError)e(chrome.runtime.lastError);else if(a.userId)s(a.userId);else{const o=crypto.randomUUID();chrome.storage.sync.set({userId:o},()=>{chrome.runtime.lastError?e(chrome.runtime.lastError):s(o)})}});else{let a=localStorage.getItem("userId");a||(a=crypto.randomUUID(),localStorage.setItem("userId",a)),s(a)}})}const ub="/assets/christmas-stars-DKo1nKIU.png";chrome.alarms.onAlarm.addListener(s=>{console.log(`Alarm triggered: ${s.name}`),chrome.tabs.create({url:"https://leetcode.com"})});function cb({closeWindow:s,initialState:e="idle"}){const i=qt.useRef(null),[a,o]=qt.useState(e),[h,d]=qt.useState(!1),[p,y]=qt.useState(0),[g,E]=qt.useState(0),R=qt.useRef(null);qt.useEffect(()=>(a==="voice"?(T(),E(0),R.current=setInterval(()=>{E(G=>G+1)},1e3)):(A(),R.current&&clearInterval(R.current)),()=>{R.current&&clearInterval(R.current)}),[a]),qt.useEffect(()=>{if(a=="genwait"){const G=setTimeout(()=>{o("postgen")},1e3);return()=>clearTimeout(G)}},[a]);const T=async()=>{try{const G=await navigator.mediaDevices.getUserMedia({audio:!0}),q=new AudioContext,it=q.createMediaStreamSource(G),$=q.createAnalyser();$.fftSize=256,it.connect($),d(!0);const rt=new Uint8Array($.frequencyBinCount),N=()=>{if(!h)return;$.getByteFrequencyData(rt);const D=rt.reduce((x,k)=>x+k,0)/rt.length;y(D),document.querySelectorAll(".voice-circle").forEach(x=>{x.style.animationDuration=`${2-D/128}s`}),requestAnimationFrame(N)};N()}catch(G){console.error("Error accessing microphone:",G)}},A=()=>{d(!1)},[O,U]=qt.useState({title:"",description:null,date:"",time:"",start_date:null,end_date:null,website:null,frequency:"",recurring_until:null,type:"regular"}),j=async()=>{if(O.title.length!==0){console.log("Task Title:",O.title);try{const G=await fetch("https://naturaltask.onrender.com/generate-json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:O.title})});if(G.ok){const q=await G.json();console.log("Task created:",q),U({title:q.generated_json.task,description:q.generated_json.description,date:q.generated_json.date,time:q.generated_json.time,start_date:q.generated_json.start_date,end_date:q.generated_json.end_date,website:q.generated_json.website,frequency:q.generated_json.frequency,recurring_until:q.generated_json.recurring_until,type:q.generated_json.type}),o("postgen")}else console.error("Failed to create task:",G.statusText)}catch(G){console.error("Error creating task:",G)}}},Y=async()=>{try{var G;await zd().then($=>{console.log("User ID on this page:",$),G=$});const q=await ib(q_(Ld,"users",G,"tasks"),O);console.log("Task saved with ID:",q.id),console.log("docRef :",q);const it={id:q.id,title:O.title,date:O.date,time:O.time,frequency:"test"};console.log("Formatted Task:",it);try{chrome.alarms.create("shivu",{delayInMinutes:1}),console.log("Alarm shivu created to trigger in 1 minute.")}catch($){console.error("Error adding Chrome alarm for task:",$)}s()}catch(q){console.error("Error saving task to Firestore:",q)}};return M.jsx(M.Fragment,{children:M.jsxs("div",{className:"add-task",children:[M.jsx("div",{className:"atc-header",children:M.jsx("button",{className:"btn btn--secondary",onClick:s,children:"X"})}),M.jsxs("div",{className:"atc-container-"+a,children:[(a=="idle"||a=="text")&&M.jsxs(M.Fragment,{children:[M.jsxs("p",{className:"atc-example",children:['"',hb[0],'"']}),M.jsx("textarea",{ref:i,className:`atc-text-input ${O.title?"atc-text-input-nonempty":""}`,placeholder:"Type your task...",value:O.title,onChange:G=>{U({...O,title:G.target.value}),G.target.value.length>0?o("text"):o("idle")}}),M.jsxs("div",{className:"atc-btns",children:[M.jsxs("button",{className:"atc-voice-btn btn",disabled:O.title.length==0,onClick:j,children:[M.jsx("span",{children:"Go"}),M.jsx("img",{src:ub,alt:"AI Star",width:20,height:20})]}),M.jsx("span",{children:"OR"}),M.jsx("button",{className:"atc-voice-btn btn",onClick:()=>o("voice"),children:M.jsx(Uf,{})})]}),a=="idle"&&M.jsxs(M.Fragment,{children:[M.jsx("hr",{}),M.jsx("h4",{children:"OR"}),M.jsx("div",{className:"atc-btns",children:M.jsx("button",{className:"atc-voice-btn btn btn--secondary",children:"Add Manually"})})]})]}),a=="voice"&&M.jsxs("div",{className:"atc-vi-container",children:[M.jsx("div",{className:"atc-vi",children:M.jsxs("div",{className:"atc-vi-mic",children:[M.jsx(Uf,{style:{zIndex:100}}),M.jsxs("div",{className:"voice-visualizer",children:[M.jsx("div",{className:"voice-circle circle1"}),M.jsx("div",{className:"voice-circle circle2"}),M.jsx("div",{className:"voice-circle circle3"})]}),M.jsx("div",{className:"recording-timer",children:formatTime(g)})]})}),M.jsx("button",{className:"atc-voice-btn btn btn--secondary",onClick:()=>o("genwait"),children:"Done (Space)"})]}),a=="genwait"&&M.jsxs("div",{className:"atc-genwait-container",children:[M.jsx("h4",{children:"Understanding"}),M.jsx("span",{className:"loader"})]}),a=="postgen"&&M.jsxs("div",{className:"atc-postgen-container",children:[M.jsxs("div",{className:"atc-postgen-header",children:[M.jsx("h4",{children:"Your Task."}),M.jsxs("button",{className:"atc-voice-btn btn",onClick:Y,children:[M.jsx("span",{children:"Confirm"}),M.jsx(HE,{})]}),M.jsx("hr",{})]}),M.jsxs("form",{className:"atc-postgen-fields",children:[M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"title",children:"Title"}),M.jsx("input",{type:"text",id:"title",name:"title",value:O.title,onChange:G=>U({...O,title:G.target.value})})]}),M.jsxs("div",{className:"atc-grid",children:[M.jsxs("div",{className:"atc-row",children:[M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"date",children:"Date"}),M.jsx("input",{type:"date",id:"date",name:"date",value:O.date,onChange:G=>U({...O,date:G.target.value})})]}),M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"time",children:"Time"}),M.jsx("input",{type:"time",id:"time",name:"time",value:O.time,onChange:G=>U({...O,time:G.target.value})})]})]}),M.jsxs("div",{className:"atc-row",children:[M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"start_date",children:"Start Date"}),M.jsx("input",{type:"date",id:"start_date",name:"start_date",value:O.start_date||"",onChange:G=>U({...O,start_date:G.target.value})})]}),M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"end_date",children:"End Date"}),M.jsx("input",{type:"date",id:"end_date",name:"end_date",value:O.end_date||"",onChange:G=>U({...O,end_date:G.target.value})})]})]}),M.jsxs("div",{className:"atc-row",children:[M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"frequency",children:"Frequency"}),M.jsx("input",{type:"text",id:"frequency",name:"frequency",value:O.frequency,onChange:G=>U({...O,frequency:G.target.value})})]}),M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"recurring_until",children:"Recurring Until"}),M.jsx("input",{type:"date",id:"recurring_until",name:"recurring_until",value:O.recurring_until||"",onChange:G=>U({...O,recurring_until:G.target.value})})]})]})]}),M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"website",children:"Website"}),M.jsx("input",{type:"text",id:"website",name:"website",value:O.website||"",onChange:G=>U({...O,website:G.target.value})})]}),M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"type",children:"Type"}),M.jsx("input",{type:"text",id:"type",name:"type",value:O.type,onChange:G=>U({...O,type:G.target.value})})]}),M.jsxs("div",{className:"atc-postgen-field",children:[M.jsx("label",{htmlFor:"description",children:"Description"}),M.jsx("textarea",{id:"description",name:"description",value:O.description||"",onChange:G=>U({...O,description:G.target.value})})]})]})]})]})]})})}const hb=["Automata Theory Class at 8:55am on Mondays, 9:55am on Tuesdays and Thursdays, 10:55am on Wednesdays","Leetcode from 10pm-12am every day.","Prepare for OS Examination coming Saturday."];function fb({allTasks:s,closeWindow:e,openTask:i}){const[a,o]=qt.useState("regular");return M.jsxs("div",{className:"all-tasks",children:[M.jsx("div",{className:"atc-header",children:M.jsx("button",{className:"btn btn--secondary",onClick:e,children:"X"})}),M.jsx("h1",{className:"atc-header-title",children:"All Tasks"}),M.jsxs("div",{className:"atc-header-tabs",children:[M.jsx("p",{className:`atc-header-tab ${a==="regular"?"atc-header-tab-active":""}`,onClick:()=>o("regular"),children:"Regular"}),M.jsx("p",{className:`atc-header-tab ${a==="one_time"?"atc-header-tab-active":""}`,onClick:()=>o("reminder"),children:"One-Time"}),M.jsx("p",{className:`atc-header-tab ${a==="history"?"atc-header-tab-active":""}`,onClick:()=>o("history"),children:"History"})]}),M.jsx("div",{className:"atc-tasks-container",children:s.map((h,d)=>h.type===a&&M.jsx(hv,{task:h,clickOnTask:p=>{i(p),e()}},d))})]})}function db({task:s}){var y,g,E,R,T,A,O,U,j,Y,G,q,it,$,rt,N,D,w,x,k,B,V,Zt,Jt,st,yt,dt,zt,I,nt;const[e,i]=qt.useState(0),a=hs(((E=(g=(y=s.recurring_details)==null?void 0:y.streak)==null?void 0:g.longest_streak)==null?void 0:E.streak_start)||""),o=hs(((A=(T=(R=s.recurring_details)==null?void 0:R.streak)==null?void 0:T.longest_streak)==null?void 0:A.streak_end)||""),h=hs(((j=(U=(O=s.recurring_details)==null?void 0:O.streak)==null?void 0:U.previous_streak)==null?void 0:j.streak_start)||""),d=hs(((q=(G=(Y=s.recurring_details)==null?void 0:Y.streak)==null?void 0:G.previous_streak)==null?void 0:q.streak_end)||""),p=hs(((rt=($=(it=s.recurring_details)==null?void 0:it.streak)==null?void 0:$.current_streak)==null?void 0:rt.streak_start)||"");return qt.useEffect(()=>{var lt,ot,bt,Tt,te,Vt;const ht=(((bt=(ot=(lt=s.recurring_details)==null?void 0:lt.streak)==null?void 0:ot.current_streak)==null?void 0:bt.count)||0)/(((Vt=(te=(Tt=s.recurring_details)==null?void 0:Tt.streak)==null?void 0:te.longest_streak)==null?void 0:Vt.count)||1);i(ht)},[s]),M.jsxs("div",{className:"tv-streak-card",children:[M.jsxs("div",{className:"tv-streak-info",children:[M.jsx("div",{className:"tv-streak-icon-container",children:M.jsx(fv,{className:"streak-icon"})}),M.jsxs("div",{className:"tv-streak-details",children:[M.jsx("div",{className:"tv-streak-count",children:((w=(D=(N=s.recurring_details)==null?void 0:N.streak)==null?void 0:D.current_streak)==null?void 0:w.count)||0}),M.jsxs("div",{className:"streak-subtitle",children:["Current Streak From",M.jsx("p",{children:p.formattedDateTime||"N/A"})]})]})]}),M.jsx("div",{className:"tv-streak-progress",children:M.jsx("div",{className:"tv-progress-bar",children:M.jsx("div",{className:`tv-progress-fill ${e===1?"tv-streak-longest-effect":""}`,style:{width:`${e*100}%`}})})}),((B=(k=(x=s.recurring_details)==null?void 0:x.streak)==null?void 0:k.longest_streak)==null?void 0:B.count)>0&&M.jsxs("div",{className:"tv-streak-section",children:[M.jsxs("div",{className:"tv-streak-section-top",children:[M.jsx("div",{className:"tv-streak-section-title",children:"Longest Streak"}),M.jsx("div",{className:"tv-streak-section-count",children:((Jt=(Zt=(V=s.recurring_details)==null?void 0:V.streak)==null?void 0:Zt.longest_streak)==null?void 0:Jt.count)||0})]}),M.jsxs("div",{className:"tv-streak-section-date",children:[M.jsx("p",{children:a.formattedDate||"N/A"}),"To",M.jsx("p",{children:o.formattedDate||"N/A"})]})]}),((dt=(yt=(st=s.recurring_details)==null?void 0:st.streak)==null?void 0:yt.previous_streak)==null?void 0:dt.count)>0&&M.jsxs("div",{className:"tv-streak-section",children:[M.jsxs("div",{className:"tv-streak-section-top",children:[M.jsx("div",{className:"tv-streak-section-title",children:"Previous Streak"}),M.jsx("div",{className:"tv-streak-section-count",children:((nt=(I=(zt=s.recurring_details)==null?void 0:zt.streak)==null?void 0:I.previous_streak)==null?void 0:nt.count)||0})]}),M.jsxs("div",{className:"tv-streak-section-date",children:[M.jsx("p",{children:h.formattedDate||"N/A"}),"To",M.jsx("p",{children:d.formattedDate||"N/A"})]})]})]})}async function mb(s,e){try{const i=await zd(),a=H_(Ld,"users",i,"tasks",s);await nb(a,e),console.log("Task successfully updated:",s)}catch(i){console.error("Error updating task:",i)}}function gb({task:s,onClose:e}){var E,R;const[i,a]=qt.useState(s),[o,h]=qt.useState(!1),d=T=>{const{name:A,value:O}=T.target;a(U=>({...U,[A]:O}))},p=T=>{const{value:A}=T.target;a(O=>({...O,time:A}))},y=T=>{T.preventDefault(),o&&(mb(i.id,i),console.log("Updated Task:",i)),h(!1)},g=()=>{i.resource&&window.open(i.resource,"_blank")};return M.jsxs("div",{className:"tv",children:[M.jsxs("div",{className:"tv-header",children:[M.jsx("button",{className:"btn btn--secondary",onClick:e,children:"X"}),o?M.jsx("button",{className:"btn tv-edit-btn",onClick:y,children:"Save"}):M.jsx("button",{className:"btn tv-edit-btn",onClick:()=>h(!0),children:"Edit"})]}),M.jsx("div",{className:"tv-content-header",children:M.jsx("h2",{children:i.title})}),M.jsxs("form",{className:"tv-content",onSubmit:y,children:[M.jsx("p",{children:"MAIN"}),M.jsxs("div",{className:"tv-field",children:[M.jsx("div",{className:"tv-field-header",children:M.jsx("span",{children:"Title"})}),M.jsx("input",{type:"text",name:"title",value:i.title||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]}),M.jsxs("div",{className:"tv-field",children:[M.jsx("div",{className:"tv-field-header",children:M.jsx("span",{children:"Description"})}),M.jsx("textarea",{name:"description",value:i.description||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]}),i.type==="one_time"&&M.jsxs("div",{className:"tv-field",children:[M.jsx("div",{className:"tv-field-header",children:M.jsx("span",{children:"Scheduled Date & Time"})}),M.jsx("input",{type:"datetime-local",value:((R=(E=i.one_time_details)==null?void 0:E.scheduled_datetime)==null?void 0:R.slice(0,16))||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]}),M.jsx("p",{children:"CUSTOMIZE"}),M.jsxs("div",{className:"tv-field",children:[M.jsx("div",{className:"tv-field-header",children:M.jsx("span",{children:"Resource"})}),M.jsx("div",{className:"tv-nested-container",children:M.jsxs("div",{className:"tv-nested-field",children:[M.jsxs("div",{className:"tv-field-header",children:[M.jsx("span",{className:"tv-field-label",children:"URL"}),i.resource&&M.jsx("button",{type:"button",className:"tv-link-button",onClick:g,children:M.jsx(i1,{})})]}),M.jsx("input",{type:"text",name:"resource",value:i.resource||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]})})]}),M.jsxs("div",{className:"tv-field",children:[M.jsx("div",{className:"tv-field-header",children:M.jsx("span",{children:"Time"})}),M.jsx("input",{type:"time",name:"time",value:i.time||"05:00:00",onChange:p,disabled:!o,className:o?"tv-input-active":""})]}),i.type==="recurring"&&M.jsxs(M.Fragment,{children:[M.jsx("p",{children:"STREAKS"}),M.jsx(db,{task:i})]})]})]})}const If=[{id:"fzVrmS98N8eqV5ZSdiMk",frequency:null,description:null,type:"reminder",date:"2025-04-08",time:"17:00:00",start_date:null,end_date:null,website:null,recurring_until:null,title:"Google Meet"},{id:"dyRHeeGca4oxMRLD8awc",frequency:"daily",type:"regular",time:"18:00:00",date:"2025-04-07",website:null,end_date:"2025-06-25",start_date:"2025-04-07",title:"Leetcode",recurring_until:"2025-06-25",description:"Daily Leetcode practice"},{id:"B38xUUfkV8ByY3mysuCf",date:"2025-04-08",website:null,title:"Solve RD Sharma",start_date:null,recurring_until:null,description:"Solve RD Sharma problems daily",frequency:"daily",type:"regular",end_date:null,time:"20:00:00"}];function pb(){const[s,e]=qt.useState([]),[i,a]=qt.useState(null),[o,h]=qt.useState(!1),[d,p]=qt.useState(!1),[y,g]=qt.useState("idle"),E=()=>{g("idle"),p(!0)},R=()=>{g("voice"),p(!0)},T=O=>{a(O)},A=async()=>{var O;await zd().then(j=>{console.log("User ID on this page:",j),O=j});const U=await t0(O);console.log("Retrieved Tasks",JSON.stringify(U)),e(U)};return M.jsxs("div",{id:"home",children:[M.jsxs("section",{className:"new-task-buttons",children:[M.jsxs("button",{className:"btn",onClick:E,children:[M.jsx(ob,{}),"Add"]}),M.jsxs("button",{className:"btn",onClick:R,children:[M.jsx(Uf,{}),"Add w/ Voice"]}),M.jsx("button",{className:"btn btn--secondary",onClick:()=>{h(!0),A()},children:"All Tasks"})]}),M.jsxs("section",{children:[M.jsxs("div",{className:"task-section-header",children:[M.jsx("h4",{className:"subtitle",children:"UPCOMING TASKS"}),M.jsx("p",{children:"3 of 10"})]}),M.jsx("div",{id:"upcoming-tasks",children:If&&If.slice(0,3).map((O,U)=>M.jsx(hv,{task:O,clickOnTask:T},U))})]}),M.jsx(a1,{tasks:If,onClick:T}),d&&M.jsx(cb,{closeWindow:()=>p(!1),initialState:y}),o&&M.jsx(fb,{allTasks:s,closeWindow:()=>h(!1),openTask:T}),i&&M.jsx(gb,{task:s.find(O=>O.title===i),onClose:()=>a(null)})]})}function yb(s){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(s)}function vb(s){return Ui({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.839 17.525c-.006.002-.559.186-1.039.186-.265 0-.372-.055-.406-.079-.168-.117-.48-.336.054-1.4l1-1.994c.593-1.184.681-2.329.245-3.225-.356-.733-1.039-1.236-1.92-1.416-.317-.065-.639-.097-.958-.097-1.849 0-3.094 1.08-3.146 1.126-.179.158-.221.42-.102.626.12.206.367.3.595.222.005-.002.559-.187 1.039-.187.263 0 .369.055.402.078.169.118.482.34-.051 1.402l-1 1.995c-.594 1.185-.681 2.33-.245 3.225.356.733 1.038 1.236 1.921 1.416.314.063.636.097.954.097 1.85 0 3.096-1.08 3.148-1.126.179-.157.221-.42.102-.626-.12-.205-.369-.297-.593-.223z"},child:[]},{tag:"circle",attr:{cx:"13",cy:"6.001",r:"2.5"},child:[]}]})(s)}function _b(){return M.jsxs("div",{id:"header",children:[M.jsx("p",{children:"NaturalTask"}),M.jsxs("div",{id:"header-right",children:[M.jsx("button",{className:"header-button",onClick:()=>{},children:M.jsx(yb,{})}),M.jsx("button",{className:"header-button",onClick:()=>{},children:M.jsx(vb,{})})]})]})}function Eb(){const[s,e]=qt.useState(0);return M.jsxs(M.Fragment,{children:[M.jsx(_b,{}),M.jsx(pb,{})]})}UE.createRoot(document.getElementById("root")).render(M.jsx(qt.StrictMode,{children:M.jsx(Eb,{})}));
