(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function bE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function wE(){if(Bp)return kl;Bp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var Pp;function RE(){return Pp||(Pp=1,vf.exports=wE()),vf.exports}var x=RE(),_f={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function DE(){if(qp)return wt;qp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,M={};function L(k,it,ht){this.props=k,this.context=it,this.refs=M,this.updater=ht||A}L.prototype.isReactComponent={},L.prototype.setState=function(k,it){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,it,"setState")},L.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function Y(k,it,ht){this.props=k,this.context=it,this.refs=M,this.updater=ht||A}var z=Y.prototype=new Q;z.constructor=Y,I(z,L.prototype),z.isPureReactComponent=!0;var W=Array.isArray,Z={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function O(k,it,ht,lt,ot,bt){return ht=bt.ref,{$$typeof:a,type:k,key:it,ref:ht!==void 0?ht:null,props:bt}}function D(k,it){return O(k.type,it,void 0,void 0,void 0,k.props)}function w(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function V(k){var it={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ht){return it[ht]})}var U=/\/+/g;function P(k,it){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):it.toString(36)}function N(){}function Zt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(it){k.status==="pending"&&(k.status="fulfilled",k.value=it)},function(it){k.status==="pending"&&(k.status="rejected",k.reason=it)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Jt(k,it,ht,lt,ot){var bt=typeof k;(bt==="undefined"||bt==="boolean")&&(k=null);var Tt=!1;if(k===null)Tt=!0;else switch(bt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(k.$$typeof){case a:case e:Tt=!0;break;case T:return Tt=k._init,Jt(Tt(k._payload),it,ht,lt,ot)}}if(Tt)return ot=ot(k),Tt=lt===""?"."+P(k,0):lt,W(ot)?(ht="",Tt!=null&&(ht=Tt.replace(U,"$&/")+"/"),Jt(ot,it,ht,"",function(ae){return ae})):ot!=null&&(w(ot)&&(ot=D(ot,ht+(ot.key==null||k&&k.key===ot.key?"":(""+ot.key).replace(U,"$&/")+"/")+Tt)),it.push(ot)),1;Tt=0;var te=lt===""?".":lt+":";if(W(k))for(var Vt=0;Vt<k.length;Vt++)lt=k[Vt],bt=te+P(lt,Vt),Tt+=Jt(lt,it,ht,bt,ot);else if(Vt=E(k),typeof Vt=="function")for(k=Vt.call(k),Vt=0;!(lt=k.next()).done;)lt=lt.value,bt=te+P(lt,Vt++),Tt+=Jt(lt,it,ht,bt,ot);else if(bt==="object"){if(typeof k.then=="function")return Jt(Zt(k),it,ht,lt,ot);throw it=String(k),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function st(k,it,ht){if(k==null)return k;var lt=[],ot=0;return Jt(k,lt,"","",function(bt){return it.call(ht,bt,ot++)}),lt}function yt(k){if(k._status===-1){var it=k._result;it=it(),it.then(function(ht){(k._status===0||k._status===-1)&&(k._status=1,k._result=ht)},function(ht){(k._status===0||k._status===-1)&&(k._status=2,k._result=ht)}),k._status===-1&&(k._status=0,k._result=it)}if(k._status===1)return k._result.default;throw k._result}var dt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function jt(){}return wt.Children={map:st,forEach:function(k,it,ht){st(k,function(){it.apply(this,arguments)},ht)},count:function(k){var it=0;return st(k,function(){it++}),it},toArray:function(k){return st(k,function(it){return it})||[]},only:function(k){if(!w(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},wt.Component=L,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=Y,wt.StrictMode=s,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(k){return function(){return k.apply(null,arguments)}},wt.cloneElement=function(k,it,ht){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var lt=I({},k.props),ot=k.key,bt=void 0;if(it!=null)for(Tt in it.ref!==void 0&&(bt=void 0),it.key!==void 0&&(ot=""+it.key),it)!rt.call(it,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&it.ref===void 0||(lt[Tt]=it[Tt]);var Tt=arguments.length-2;if(Tt===1)lt.children=ht;else if(1<Tt){for(var te=Array(Tt),Vt=0;Vt<Tt;Vt++)te[Vt]=arguments[Vt+2];lt.children=te}return O(k.type,ot,void 0,void 0,bt,lt)},wt.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:h,_context:k},k},wt.createElement=function(k,it,ht){var lt,ot={},bt=null;if(it!=null)for(lt in it.key!==void 0&&(bt=""+it.key),it)rt.call(it,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ot[lt]=it[lt]);var Tt=arguments.length-2;if(Tt===1)ot.children=ht;else if(1<Tt){for(var te=Array(Tt),Vt=0;Vt<Tt;Vt++)te[Vt]=arguments[Vt+2];ot.children=te}if(k&&k.defaultProps)for(lt in Tt=k.defaultProps,Tt)ot[lt]===void 0&&(ot[lt]=Tt[lt]);return O(k,bt,void 0,void 0,null,ot)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(k){return{$$typeof:p,render:k}},wt.isValidElement=w,wt.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:yt}},wt.memo=function(k,it){return{$$typeof:g,type:k,compare:it===void 0?null:it}},wt.startTransition=function(k){var it=Z.T,ht={};Z.T=ht;try{var lt=k(),ot=Z.S;ot!==null&&ot(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(jt,dt)}catch(bt){dt(bt)}finally{Z.T=it}},wt.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},wt.use=function(k){return Z.H.use(k)},wt.useActionState=function(k,it,ht){return Z.H.useActionState(k,it,ht)},wt.useCallback=function(k,it){return Z.H.useCallback(k,it)},wt.useContext=function(k){return Z.H.useContext(k)},wt.useDebugValue=function(){},wt.useDeferredValue=function(k,it){return Z.H.useDeferredValue(k,it)},wt.useEffect=function(k,it){return Z.H.useEffect(k,it)},wt.useId=function(){return Z.H.useId()},wt.useImperativeHandle=function(k,it,ht){return Z.H.useImperativeHandle(k,it,ht)},wt.useInsertionEffect=function(k,it){return Z.H.useInsertionEffect(k,it)},wt.useLayoutEffect=function(k,it){return Z.H.useLayoutEffect(k,it)},wt.useMemo=function(k,it){return Z.H.useMemo(k,it)},wt.useOptimistic=function(k,it){return Z.H.useOptimistic(k,it)},wt.useReducer=function(k,it,ht){return Z.H.useReducer(k,it,ht)},wt.useRef=function(k){return Z.H.useRef(k)},wt.useState=function(k){return Z.H.useState(k)},wt.useSyncExternalStore=function(k,it,ht){return Z.H.useSyncExternalStore(k,it,ht)},wt.useTransition=function(){return Z.H.useTransition()},wt.version="19.0.0",wt}var Hp;function rd(){return Hp||(Hp=1,_f.exports=DE()),_f.exports}var zt=rd();const pa=bE(zt);var Ef={exports:{}},Ll={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function CE(){return Gp||(Gp=1,function(a){function e(st,yt){var dt=st.length;st.push(yt);t:for(;0<dt;){var jt=dt-1>>>1,k=st[jt];if(0<o(k,yt))st[jt]=yt,st[dt]=k,dt=jt;else break t}}function i(st){return st.length===0?null:st[0]}function s(st){if(st.length===0)return null;var yt=st[0],dt=st.pop();if(dt!==yt){st[0]=dt;t:for(var jt=0,k=st.length,it=k>>>1;jt<it;){var ht=2*(jt+1)-1,lt=st[ht],ot=ht+1,bt=st[ot];if(0>o(lt,dt))ot<k&&0>o(bt,lt)?(st[jt]=bt,st[ot]=dt,jt=ot):(st[jt]=lt,st[ht]=dt,jt=ht);else if(ot<k&&0>o(bt,dt))st[jt]=bt,st[ot]=dt,jt=ot;else break t}}return yt}function o(st,yt){var dt=st.sortIndex-yt.sortIndex;return dt!==0?dt:st.id-yt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],g=[],T=1,R=null,E=3,A=!1,I=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function z(st){for(var yt=i(g);yt!==null;){if(yt.callback===null)s(g);else if(yt.startTime<=st)s(g),yt.sortIndex=yt.expirationTime,e(y,yt);else break;yt=i(g)}}function W(st){if(M=!1,z(st),!I)if(i(y)!==null)I=!0,Zt();else{var yt=i(g);yt!==null&&Jt(W,yt.startTime-st)}}var Z=!1,rt=-1,O=5,D=-1;function w(){return!(a.unstable_now()-D<O)}function V(){if(Z){var st=a.unstable_now();D=st;var yt=!0;try{t:{I=!1,M&&(M=!1,Q(rt),rt=-1),A=!0;var dt=E;try{e:{for(z(st),R=i(y);R!==null&&!(R.expirationTime>st&&w());){var jt=R.callback;if(typeof jt=="function"){R.callback=null,E=R.priorityLevel;var k=jt(R.expirationTime<=st);if(st=a.unstable_now(),typeof k=="function"){R.callback=k,z(st),yt=!0;break e}R===i(y)&&s(y),z(st)}else s(y);R=i(y)}if(R!==null)yt=!0;else{var it=i(g);it!==null&&Jt(W,it.startTime-st),yt=!1}}break t}finally{R=null,E=dt,A=!1}yt=void 0}}finally{yt?U():Z=!1}}}var U;if(typeof Y=="function")U=function(){Y(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=V,U=function(){N.postMessage(null)}}else U=function(){L(V,0)};function Zt(){Z||(Z=!0,U())}function Jt(st,yt){rt=L(function(){st(a.unstable_now())},yt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(st){st.callback=null},a.unstable_continueExecution=function(){I||A||(I=!0,Zt())},a.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<st?Math.floor(1e3/st):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_getFirstCallbackNode=function(){return i(y)},a.unstable_next=function(st){switch(E){case 1:case 2:case 3:var yt=3;break;default:yt=E}var dt=E;E=yt;try{return st()}finally{E=dt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(st,yt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var dt=E;E=st;try{return yt()}finally{E=dt}},a.unstable_scheduleCallback=function(st,yt,dt){var jt=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?jt+dt:jt):dt=jt,st){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=dt+k,st={id:T++,callback:yt,priorityLevel:st,startTime:dt,expirationTime:k,sortIndex:-1},dt>jt?(st.sortIndex=dt,e(g,st),i(y)===null&&st===i(g)&&(M?(Q(rt),rt=-1):M=!0,Jt(W,dt-jt))):(st.sortIndex=k,e(y,st),I||A||(I=!0,Zt())),st},a.unstable_shouldYield=w,a.unstable_wrapCallback=function(st){var yt=E;return function(){var dt=E;E=yt;try{return st.apply(this,arguments)}finally{E=dt}}}}(Af)),Af}var Fp;function OE(){return Fp||(Fp=1,Tf.exports=CE()),Tf.exports}var Sf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function NE(){if(Xp)return He;Xp=1;var a=rd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,g,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:g,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return h(y,g,null,T)},He.flushSync=function(y){var g=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=g,s.p=T,s.d.f()}},He.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},He.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},He.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,R=p(T,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:R,integrity:E,fetchPriority:A}):T==="script"&&s.d.X(y,{crossOrigin:R,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},He.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},He.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,R=p(T,g.crossOrigin);s.d.L(y,T,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},He.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},He.requestFormReset=function(y){s.d.r(y)},He.unstable_batchedUpdates=function(y,g){return y(g)},He.useFormState=function(y,g,T){return d.H.useFormState(y,g,T)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Qp;function VE(){if(Qp)return Sf.exports;Qp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sf.exports=NE(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function xE(){if(Yp)return Ll;Yp=1;var a=OE(),e=rd(),i=VE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function rt(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case y:return"Fragment";case p:return"Portal";case T:return"Profiler";case g:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case I:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return n=t.displayName||null,n!==null?n:D(t.type)||"Memo";case Y:n=t._payload,t=t._init;try{return D(t(n))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,U,P;function N(t){if(U===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);U=n&&n[1]||"",P=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+t+P}var Zt=!1;function Jt(t,n){if(!t||Zt)return"";Zt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(K){var F=K}Reflect.construct(t,[],et)}else{try{et.call()}catch(K){F=K}t.call(et.prototype)}}else{try{throw Error()}catch(K){F=K}(et=t())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var C=_.split(`
`),B=S.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=c);break}}}finally{Zt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?N(r):""}function st(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=Jt(t.type,!1),t;case 11:return t=Jt(t.type.render,!1),t;case 1:return t=Jt(t.type,!0),t;default:return""}}function yt(t){try{var n="";do n+=st(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function dt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function jt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function k(t){if(dt(t)!==t)throw Error(s(188))}function it(t){var n=t.alternate;if(!n){if(n=dt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return k(c),t;if(f===l)return k(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,S=c.child;S;){if(S===r){_=!0,r=c,l=f;break}if(S===l){_=!0,l=c,r=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===r){_=!0,r=f,l=c;break}if(S===l){_=!0,l=f,r=c;break}S=S.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ht(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ht(t),n!==null)return n;t=t.sibling}return null}var lt=Array.isArray,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},Tt=[],te=-1;function Vt(t){return{current:t}}function ae(t){0>te||(t.current=Tt[te],Tt[te]=null,te--)}function Ft(t,n){te++,Tt[te]=t.current,t.current=n}var Qe=Vt(null),ai=Vt(null),dn=Vt(null),ki=Vt(null);function Li(t,n){switch(Ft(dn,n),Ft(ai,t),Ft(Qe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?gp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=gp(t),n=pp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(Qe),Ft(Qe,n)}function si(){ae(Qe),ae(ai),ae(dn)}function Vs(t){t.memoizedState!==null&&Ft(ki,t);var n=Qe.current,r=pp(n,t.type);n!==r&&(Ft(ai,t),Ft(Qe,r))}function Ta(t){ai.current===t&&(ae(Qe),ae(ai)),ki.current===t&&(ae(ki),Vl._currentValue=bt)}var Aa=Object.prototype.hasOwnProperty,Ir=a.unstable_scheduleCallback,Sa=a.unstable_cancelCallback,_c=a.unstable_shouldYield,xs=a.unstable_requestPaint,Je=a.unstable_now,io=a.unstable_getCurrentPriorityLevel,ye=a.unstable_ImmediatePriority,Re=a.unstable_UserBlockingPriority,li=a.unstable_NormalPriority,ro=a.unstable_LowPriority,Ms=a.unstable_IdlePriority,Ec=a.log,Ur=a.unstable_setDisableYieldValue,ji=null,Pe=null;function Is(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(ji,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof Ec=="function"&&Ur(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(ji,t)}catch{}}var Ye=Math.clz32?Math.clz32:so,Us=Math.log,ao=Math.LN2;function so(t){return t>>>=0,t===0?32:31-(Us(t)/ao|0)|0}var jn=128,zi=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var S=r&134217727;return S!==0?(r=S&~c,r!==0?l=Vn(r):(f&=S,f!==0?l=Vn(f):t||(_=S&~_,_!==0&&(l=Vn(_))))):(S=r&~c,S!==0?l=Vn(S):f!==0?l=Vn(f):t||(_=r&~_,_!==0&&(l=Vn(_)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,_=n&-n,c>=_||c===32&&(_&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ba(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var t=jn;return jn<<=1,(jn&4194176)===0&&(jn=128),t}function Pi(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function wa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ce(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lo(t,n,r,l,c,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(r=_&~r;0<r;){var $=31-Ye(r),et=1<<$;S[$]=0,C[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}r&=~et}l!==0&&qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Hi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function oo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uo(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:Ip(t.type))}function Gi(t,n){var r=ot.p;try{return ot.p=t,n()}finally{ot.p=r}}var zn=Math.random().toString(36).slice(2),De="__reactFiber$"+zn,ve="__reactProps$"+zn,oi="__reactContainer$"+zn,kr="__reactEvents$"+zn,Ra="__reactListeners$"+zn,Bn="__reactHandles$"+zn,Ls="__reactResources$"+zn,Fi="__reactMarker$"+zn;function Lr(t){delete t[De],delete t[ve],delete t[kr],delete t[Ra],delete t[Bn]}function xn(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[oi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_p(t);t!==null;){if(r=t[De])return r;t=_p(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[De]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Xi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qi(t){var n=t[Ls];return n||(n=t[Ls]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ee(t){t[Fi]=!0}var js=new Set,Da={};function an(t,n){tn(t,n),tn(t+"Capture",n)}function tn(t,n){for(Da[t]=n,t=0;t<n.length;t++)js.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},Bs={};function co(t){return Aa.call(Bs,t)?!0:Aa.call(zs,t)?!1:Tc.test(t)?Bs[t]=!0:(zs[t]=!0,!1)}function Yi(t,n,r){if(co(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ki(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ho(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ac(t){var n=ho(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function jr(t){t._valueTracker||(t._valueTracker=Ac(t))}function Ps(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ho(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function se(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $i(t,n,r,l,c,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Oa(t,_,Ke(n)):r!=null?Oa(t,_,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ke(S):t.removeAttribute("name")}function zr(t,n,r,l,c,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Oa(t,n,r){n==="number"&&Ca(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Br(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Sc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function fo(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&qs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&qs(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(t){return wc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function Na(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if($i(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ve]||null;if(!c)throw Error(s(90));$i(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ps(l)}break t;case"textarea":Br(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Bt(t,!!r.multiple,n,!1)}}}var Gs=!1;function mo(t,n,r){if(Gs)return t(n,r);Gs=!0;try{var l=t(n);return l}finally{if(Gs=!1,(hi!==null||fi!==null)&&(au(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ve]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var vn=!1;if(sn)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{vn=!1}var qn=null,Wi=null,mi=null;function Fs(){if(mi)return mi;var t,n=Wi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Xs(){return!1}function Ce(t){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Xs,this.isPropagationStopped=Xs,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Ce(Ht),Hr=V({},Ht,{view:0,detail:0}),go=Ce(Hr),xa,Ma,Fn,Gr=V({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(xa=t.screenX-Fn.screenX,Ma=t.screenY-Fn.screenY):Ma=xa=0,Fn=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),_n=Ce(Gr),po=V({},Gr,{dataTransfer:0}),Rc=Ce(po),Fr=V({},Hr,{relatedTarget:0}),Ia=Ce(Fr),Qs=V({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Ce(Qs),yo=V({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=Ce(yo),Dc=V({},Ht,{data:0}),Ys=Ce(Dc),Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_o[t])?!!n[t]:!1}function Qr(){return Ks}var Eo=V({},Hr,{key:function(t){if(t.key){var n=Xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),La=Ce(Eo),To=V({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Ce(To),gi=V({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Ao=Ce(gi),So=V({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),bo=Ce(So),wo=V({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ce(wo),$e=V({},Ht,{newState:0,oldState:0}),Ro=Ce($e),Do=[9,13,27,32],Xn=sn&&"CompositionEvent"in window,u=null;sn&&"documentMode"in document&&(u=document.documentMode);var m=sn&&"TextEvent"in window&&!u,v=sn&&(!Xn||u&&8<u&&11>=u),b=" ",H=!1;function X(t,n){switch(t){case"keyup":return Do.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function _e(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(H=!0,b);case"textInput":return t=n.data,t===b&&H?null:t;default:return null}}function It(t,n){if(Mt)return t==="compositionend"||!Xn&&X(t,n)?(t=Fs(),mi=Wi=qn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Oe[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=cu(n,"onChange"),0<n.length&&(r=new Va("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ie=null,Qn=null;function Zs(t){cp(t,0)}function Co(t){var n=Xi(t);if(Ps(n))return t}function zd(t,n){if(t==="change")return n}var Bd=!1;if(sn){var Cc;if(sn){var Oc="oninput"in document;if(!Oc){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),Oc=typeof Pd.oninput=="function"}Cc=Oc}else Cc=!1;Bd=Cc&&(!document.documentMode||9<document.documentMode)}function qd(){Ie&&(Ie.detachEvent("onpropertychange",Hd),Qn=Ie=null)}function Hd(t){if(t.propertyName==="value"&&Co(Qn)){var n=[];pi(n,Qn,t,Na(t)),mo(Zs,n)}}function t0(t,n,r){t==="focusin"?(qd(),Ie=n,Qn=r,Ie.attachEvent("onpropertychange",Hd)):t==="focusout"&&qd()}function e0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(Qn)}function n0(t,n){if(t==="click")return Co(n)}function i0(t,n){if(t==="input"||t==="change")return Co(n)}function r0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:r0;function Ws(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Aa.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,n){var r=Gd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Gd(r)}}function Xd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ca(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ca(t.document)}return n}function Nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function a0(t,n){var r=Qd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Xd(n.ownerDocument.documentElement,n)){if(l!==null&&Nc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Fd(n,f);var _=Fd(n,l);c&&_&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var s0=sn&&"documentMode"in document&&11>=document.documentMode,za=null,Vc=null,Js=null,xc=!1;function Yd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xc||za==null||za!==Ca(l)||(l=za,"selectionStart"in l&&Nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&Ws(Js,l)||(Js=l,l=cu(Vc,"onSelect"),0<l.length&&(n=new Va("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=za)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ba={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Mc={},Kd={};sn&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Kr(t){if(Mc[t])return Mc[t];if(!Ba[t])return t;var n=Ba[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Kd)return Mc[t]=n[r];return t}var $d=Kr("animationend"),Zd=Kr("animationiteration"),Wd=Kr("animationstart"),l0=Kr("transitionrun"),o0=Kr("transitionstart"),u0=Kr("transitioncancel"),Jd=Kr("transitionend"),tm=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(t,n){tm.set(t,n),an(n,[t])}var En=[],Pa=0,Ic=0;function Oo(){for(var t=Pa,n=Ic=Pa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&nm(r,c,f)}}function No(t,n,r,l){En[Pa++]=t,En[Pa++]=n,En[Pa++]=r,En[Pa++]=l,Ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,r,l){return No(t,n,r,l),Vo(t)}function Ji(t,n){return No(t,null,null,n),Vo(t)}function nm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Vo(t){if(50<bl)throw bl=0,Ph=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qa={},im=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=im.get(t);return r!==void 0?r:(n={value:t,source:n,stack:yt(n)},im.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var Ha=[],Ga=0,xo=null,Mo=0,An=[],Sn=0,$r=null,yi=1,vi="";function Zr(t,n){Ha[Ga++]=Mo,Ha[Ga++]=xo,xo=t,Mo=n}function rm(t,n,r){An[Sn++]=yi,An[Sn++]=vi,An[Sn++]=$r,$r=t;var l=yi;t=vi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,yi=1<<32-Ye(n)+c|r<<c|l,vi=f+t}else yi=1<<f|r<<c|l,vi=t}function kc(t){t.return!==null&&(Zr(t,1),rm(t,1,0))}function Lc(t){for(;t===xo;)xo=Ha[--Ga],Ha[Ga]=null,Mo=Ha[--Ga],Ha[Ga]=null;for(;t===$r;)$r=An[--Sn],An[Sn]=null,vi=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null}var Ze=null,Ue=null,Pt=!1,In=null,Yn=!1,jc=Error(s(519));function Wr(t){var n=Error(s(418,""));throw nl(Tn(n,t)),jc}function am(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)xt(Rl[r],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),jr(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Zi(n,l.value,l.defaultValue,l.children),jr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||mp(n.textContent,r)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=hu),n=!0):n=!1,n||Wr(t)}function sm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Yn=!0;return;case 5:case 13:Yn=!1;return;default:Ze=Ze.return}}function tl(t){if(t!==Ze)return!1;if(!Pt)return sm(t),Pt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||af(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Wr(t),sm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=kn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?kn(t.stateNode.nextSibling):null;return!0}function el(){Ue=Ze=null,Pt=!1}function nl(t){In===null?In=[t]:In.push(t)}var il=Error(s(460)),lm=Error(s(474)),zc={then:function(){}};function om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Io(){}function um(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Io,Io),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===il?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Io,Io);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===il?Error(s(483)):t}throw rl=n,il}}var rl=null;function cm(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}var Fa=null,al=0;function Uo(t){var n=al;return al+=1,Fa===null&&(Fa=[]),um(Fa,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ko(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hm(t){var n=t._init;return n(t._payload)}function fm(t){function n(q,j){if(t){var G=q.deletions;G===null?(q.deletions=[j],q.flags|=16):G.push(j)}}function r(q,j){if(!t)return null;for(;j!==null;)n(q,j),j=j.sibling;return null}function l(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function c(q,j){return q=hr(q,j),q.index=0,q.sibling=null,q}function f(q,j,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<j?(q.flags|=33554434,j):G):(q.flags|=33554434,j)):(q.flags|=1048576,j)}function _(q){return t&&q.alternate===null&&(q.flags|=33554434),q}function S(q,j,G,J){return j===null||j.tag!==6?(j=Mh(G,q.mode,J),j.return=q,j):(j=c(j,G),j.return=q,j)}function C(q,j,G,J){var ct=G.type;return ct===y?$(q,j,G.props.children,J,G.key):j!==null&&(j.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Y&&hm(ct)===j.type)?(j=c(j,G.props),sl(j,G),j.return=q,j):(j=tu(G.type,G.key,G.props,null,q.mode,J),sl(j,G),j.return=q,j)}function B(q,j,G,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=Ih(G,q.mode,J),j.return=q,j):(j=c(j,G.children||[]),j.return=q,j)}function $(q,j,G,J,ct){return j===null||j.tag!==7?(j=oa(G,q.mode,J,ct),j.return=q,j):(j=c(j,G),j.return=q,j)}function et(q,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Mh(""+j,q.mode,G),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case d:return G=tu(j.type,j.key,j.props,null,q.mode,G),sl(G,j),G.return=q,G;case p:return j=Ih(j,q.mode,G),j.return=q,j;case Y:var J=j._init;return j=J(j._payload),et(q,j,G)}if(lt(j)||rt(j))return j=oa(j,q.mode,G,null),j.return=q,j;if(typeof j.then=="function")return et(q,Uo(j),G);if(j.$$typeof===A)return et(q,Zo(q,j),G);ko(q,j)}return null}function F(q,j,G,J){var ct=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ct!==null?null:S(q,j,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return G.key===ct?C(q,j,G,J):null;case p:return G.key===ct?B(q,j,G,J):null;case Y:return ct=G._init,G=ct(G._payload),F(q,j,G,J)}if(lt(G)||rt(G))return ct!==null?null:$(q,j,G,J,null);if(typeof G.then=="function")return F(q,j,Uo(G),J);if(G.$$typeof===A)return F(q,j,Zo(q,G),J);ko(q,G)}return null}function K(q,j,G,J,ct){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get(G)||null,S(j,q,""+J,ct);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case d:return q=q.get(J.key===null?G:J.key)||null,C(j,q,J,ct);case p:return q=q.get(J.key===null?G:J.key)||null,B(j,q,J,ct);case Y:var Ct=J._init;return J=Ct(J._payload),K(q,j,G,J,ct)}if(lt(J)||rt(J))return q=q.get(G)||null,$(j,q,J,ct,null);if(typeof J.then=="function")return K(q,j,G,Uo(J),ct);if(J.$$typeof===A)return K(q,j,G,Zo(j,J),ct);ko(j,J)}return null}function ft(q,j,G,J){for(var ct=null,Ct=null,mt=j,vt=j=0,xe=null;mt!==null&&vt<G.length;vt++){mt.index>vt?(xe=mt,mt=null):xe=mt.sibling;var qt=F(q,mt,G[vt],J);if(qt===null){mt===null&&(mt=xe);break}t&&mt&&qt.alternate===null&&n(q,mt),j=f(qt,j,vt),Ct===null?ct=qt:Ct.sibling=qt,Ct=qt,mt=xe}if(vt===G.length)return r(q,mt),Pt&&Zr(q,vt),ct;if(mt===null){for(;vt<G.length;vt++)mt=et(q,G[vt],J),mt!==null&&(j=f(mt,j,vt),Ct===null?ct=mt:Ct.sibling=mt,Ct=mt);return Pt&&Zr(q,vt),ct}for(mt=l(mt);vt<G.length;vt++)xe=K(mt,q,vt,G[vt],J),xe!==null&&(t&&xe.alternate!==null&&mt.delete(xe.key===null?vt:xe.key),j=f(xe,j,vt),Ct===null?ct=xe:Ct.sibling=xe,Ct=xe);return t&&mt.forEach(function(vr){return n(q,vr)}),Pt&&Zr(q,vt),ct}function At(q,j,G,J){if(G==null)throw Error(s(151));for(var ct=null,Ct=null,mt=j,vt=j=0,xe=null,qt=G.next();mt!==null&&!qt.done;vt++,qt=G.next()){mt.index>vt?(xe=mt,mt=null):xe=mt.sibling;var vr=F(q,mt,qt.value,J);if(vr===null){mt===null&&(mt=xe);break}t&&mt&&vr.alternate===null&&n(q,mt),j=f(vr,j,vt),Ct===null?ct=vr:Ct.sibling=vr,Ct=vr,mt=xe}if(qt.done)return r(q,mt),Pt&&Zr(q,vt),ct;if(mt===null){for(;!qt.done;vt++,qt=G.next())qt=et(q,qt.value,J),qt!==null&&(j=f(qt,j,vt),Ct===null?ct=qt:Ct.sibling=qt,Ct=qt);return Pt&&Zr(q,vt),ct}for(mt=l(mt);!qt.done;vt++,qt=G.next())qt=K(mt,q,vt,qt.value,J),qt!==null&&(t&&qt.alternate!==null&&mt.delete(qt.key===null?vt:qt.key),j=f(qt,j,vt),Ct===null?ct=qt:Ct.sibling=qt,Ct=qt);return t&&mt.forEach(function(SE){return n(q,SE)}),Pt&&Zr(q,vt),ct}function ue(q,j,G,J){if(typeof G=="object"&&G!==null&&G.type===y&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case d:t:{for(var ct=G.key;j!==null;){if(j.key===ct){if(ct=G.type,ct===y){if(j.tag===7){r(q,j.sibling),J=c(j,G.props.children),J.return=q,q=J;break t}}else if(j.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Y&&hm(ct)===j.type){r(q,j.sibling),J=c(j,G.props),sl(J,G),J.return=q,q=J;break t}r(q,j);break}else n(q,j);j=j.sibling}G.type===y?(J=oa(G.props.children,q.mode,J,G.key),J.return=q,q=J):(J=tu(G.type,G.key,G.props,null,q.mode,J),sl(J,G),J.return=q,q=J)}return _(q);case p:t:{for(ct=G.key;j!==null;){if(j.key===ct)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){r(q,j.sibling),J=c(j,G.children||[]),J.return=q,q=J;break t}else{r(q,j);break}else n(q,j);j=j.sibling}J=Ih(G,q.mode,J),J.return=q,q=J}return _(q);case Y:return ct=G._init,G=ct(G._payload),ue(q,j,G,J)}if(lt(G))return ft(q,j,G,J);if(rt(G)){if(ct=rt(G),typeof ct!="function")throw Error(s(150));return G=ct.call(G),At(q,j,G,J)}if(typeof G.then=="function")return ue(q,j,Uo(G),J);if(G.$$typeof===A)return ue(q,j,Zo(q,G),J);ko(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(r(q,j.sibling),J=c(j,G),J.return=q,q=J):(r(q,j),J=Mh(G,q.mode,J),J.return=q,q=J),_(q)):r(q,j)}return function(q,j,G,J){try{al=0;var ct=ue(q,j,G,J);return Fa=null,ct}catch(mt){if(mt===il)throw mt;var Ct=Dn(29,mt,null,q.mode);return Ct.lanes=J,Ct.return=q,Ct}finally{}}}var Jr=fm(!0),dm=fm(!1),Xa=Vt(null),Lo=Vt(0);function mm(t,n){t=Oi,Ft(Lo,t),Ft(Xa,n),Oi=t|n.baseLanes}function Bc(){Ft(Lo,Oi),Ft(Xa,Xa.current)}function Pc(){Oi=Lo.current,ae(Xa),ae(Lo)}var bn=Vt(null),Kn=null;function tr(t){var n=t.alternate;Ft(Te,Te.current&1),Ft(bn,t),Kn===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(Kn=t)}function gm(t){if(t.tag===22){if(Ft(Te,Te.current),Ft(bn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else er()}function er(){Ft(Te,Te.current),Ft(bn,bn.current)}function _i(t){ae(bn),Kn===t&&(Kn=null),ae(Te)}var Te=Vt(0);function jo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var c0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},h0=a.unstable_scheduleCallback,f0=a.unstable_NormalPriority,Ae={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new c0,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&h0(f0,function(){t.controller.abort()})}var ol=null,Hc=0,Qa=0,Ya=null;function d0(t,n){if(ol===null){var r=ol=[];Hc=0,Qa=Kh(),Ya={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Hc++,n.then(pm,pm),n}function pm(){if(--Hc===0&&ol!==null){Ya!==null&&(Ya.status="fulfilled");var t=ol;ol=null,Qa=0,Ya=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function m0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var ym=w.S;w.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&d0(t,n),ym!==null&&ym(t,n)};var ta=Vt(null);function Gc(){var t=ta.current;return t!==null?t:Kt.pooledCache}function zo(t,n){n===null?Ft(ta,ta.current):Ft(ta,n.pool)}function vm(){var t=Gc();return t===null?null:{parent:Ae._currentValue,pool:t}}var nr=0,Rt=null,Xt=null,de=null,Bo=!1,Ka=!1,ea=!1,Po=0,ul=0,$a=null,g0=0;function he(){throw Error(s(321))}function Fc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Xc(t,n,r,l,c,f){return nr=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,w.H=t===null||t.memoizedState===null?na:ir,ea=!1,f=r(l,c),ea=!1,Ka&&(f=Em(n,r,l,c)),_m(t),f}function _m(t){w.H=$n;var n=Xt!==null&&Xt.next!==null;if(nr=0,de=Xt=Rt=null,Bo=!1,ul=0,$a=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&$o(t)&&(Ne=!0))}function Em(t,n,r,l){Rt=t;var c=0;do{if(Ka&&($a=null),ul=0,Ka=!1,25<=c)throw Error(s(301));if(c+=1,de=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}w.H=ia,f=n(r,l)}while(Ka);return f}function p0(){var t=w.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Qc(){var t=Po!==0;return Po=0,t}function Yc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Kc(t){if(Bo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bo=!1}nr=0,de=Xt=Rt=null,Ka=!1,ul=Po=0,$a=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Rt.memoizedState=de=t:de=de.next=t,de}function me(){if(Xt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=de===null?Rt.memoizedState:de.next;if(n!==null)de=n,Xt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},de===null?Rt.memoizedState=de=t:de=de.next=t}return de}var qo;qo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(t){var n=ul;return ul+=1,$a===null&&($a=[]),t=um($a,t,n),n=Rt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,w.H=n===null||n.memoizedState===null?na:ir),t}function Ho(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===A)return qe(t)}throw Error(s(438,String(t)))}function $c(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qo(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=W;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Go(t){var n=me();return Zc(n,Xt,t)}function Zc(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var S=_=null,C=null,B=n,$=!1;do{var et=B.lane&-536870913;if(et!==B.lane?(Ut&et)===et:(nr&et)===et){var F=B.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),et===Qa&&($=!0);else if((nr&F)===F){B=B.next,F===Qa&&($=!0);continue}else et={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=et,_=f):C=C.next=et,Rt.lanes|=F,fr|=F;et=B.action,ea&&r(f,et),f=B.hasEagerState?B.eagerState:r(f,et)}else F={lane:et,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=F,_=f):C=C.next=F,Rt.lanes|=et,fr|=et;B=B.next}while(B!==null&&B!==n);if(C===null?_=f:C.next=S,!ln(f,t.memoizedState)&&(Ne=!0,$&&(r=Ya,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wc(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=t(f,_.action),_=_.next;while(_!==c);ln(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Tm(t,n,r){var l=Rt,c=me(),f=Pt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!ln((Xt||c).memoizedState,r);if(_&&(c.memoizedState=r,Ne=!0),c=c.queue,eh(bm.bind(null,l,c,t),[t]),c.getSnapshot!==n||_||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Za(9,Sm.bind(null,l,c,r,n),{destroy:void 0},null),Kt===null)throw Error(s(349));f||(nr&60)!==0||Am(l,n,r)}return r}function Am(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=qo(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Sm(t,n,r,l){n.value=r,n.getSnapshot=l,wm(n)&&Rm(t)}function bm(t,n,r){return r(function(){wm(n)&&Rm(t)})}function wm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Rm(t){var n=Ji(t,2);n!==null&&We(n,t,2)}function Jc(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),ea){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Dm(t,n,r,l){return t.baseState=r,Zc(t,Xt,typeof l=="function"?l:Ei)}function y0(t,n,r,l,c){if(Qo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};w.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Cm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Cm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=w.T,_={};w.T=_;try{var S=r(c,l),C=w.S;C!==null&&C(_,S),Om(t,n,S)}catch(B){th(t,n,B)}finally{w.T=f}}else try{f=r(c,l),Om(t,n,f)}catch(B){th(t,n,B)}}function Om(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Nm(t,n,l)},function(l){return th(t,n,l)}):Nm(t,n,r)}function Nm(t,n,r){n.status="fulfilled",n.value=r,Vm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Cm(t,r)))}function th(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Vm(n),n=n.next;while(n!==l)}t.action=null}function Vm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xm(t,n){return n}function Mm(t,n){if(Pt){var r=Kt.formState;if(r!==null){t:{var l=Rt;if(Pt){if(Ue){e:{for(var c=Ue,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=kn(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:n},r.queue=l,r=Zm.bind(null,Rt,l),l.dispatch=r,l=Jc(!1),f=sh.bind(null,Rt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=y0.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Im(t){var n=me();return Um(n,Xt,t)}function Um(t,n,r){n=Zc(t,n,xm)[0],t=Go(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?cl(n):n;var l=me(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Rt.flags|=2048,Za(9,v0.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function v0(t,n){t.action=n}function km(t){var n=me(),r=Xt;if(r!==null)return Um(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Za(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Rt.updateQueue,n===null&&(n=qo(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Lm(){return me().memoizedState}function Fo(t,n,r,l){var c=en();Rt.flags|=t,c.memoizedState=Za(1|n,r,{destroy:void 0},l===void 0?null:l)}function Xo(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&Fc(l,Xt.memoizedState.deps)?c.memoizedState=Za(n,r,f,l):(Rt.flags|=t,c.memoizedState=Za(1|n,r,f,l))}function jm(t,n){Fo(8390656,8,t,n)}function eh(t,n){Xo(2048,8,t,n)}function zm(t,n){return Xo(4,2,t,n)}function Bm(t,n){return Xo(4,4,t,n)}function Pm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qm(t,n,r){r=r!=null?r.concat([t]):null,Xo(4,4,Pm.bind(null,n,t),r)}function nh(){}function Hm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Fc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Gm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Fc(n,l[1]))return l[0];if(l=t(),ea){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l}function ih(t,n,r){return r===void 0||(nr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Xg(),Rt.lanes|=t,fr|=t,r)}function Fm(t,n,r,l){return ln(r,n)?r:Xa.current!==null?(t=ih(t,r,l),ln(t,n)||(Ne=!0),t):(nr&42)===0?(Ne=!0,t.memoizedState=r):(t=Xg(),Rt.lanes|=t,fr|=t,n)}function Xm(t,n,r,l,c){var f=ot.p;ot.p=f!==0&&8>f?f:8;var _=w.T,S={};w.T=S,sh(t,!1,n,r);try{var C=c(),B=w.S;if(B!==null&&B(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=m0(C,l);hl(t,n,$,hn(t))}else hl(t,n,l,hn(t))}catch(et){hl(t,n,{then:function(){},status:"rejected",reason:et},hn())}finally{ot.p=f,w.T=_}}function _0(){}function rh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Qm(t).queue;Xm(t,c,n,bt,r===null?_0:function(){return Ym(t),r(l)})}function Qm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:bt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ym(t){var n=Qm(t).next.queue;hl(t,n,{},hn())}function ah(){return qe(Vl)}function Km(){return me().memoizedState}function $m(){return me().memoizedState}function E0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=sr(r);var l=lr(n,t,r);l!==null&&(We(l,n,r),ml(l,n,r)),n={cache:qc()},t.payload=n;return}n=n.return}}function T0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Qo(t)?Wm(n,r):(r=Uc(t,n,r,l),r!==null&&(We(r,t,l),Jm(r,n,l)))}function Zm(t,n,r){var l=hn();hl(t,n,r,l)}function hl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qo(t))Wm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,S=f(_,r);if(c.hasEagerState=!0,c.eagerState=S,ln(S,_))return No(t,n,c,0),Kt===null&&Oo(),!1}catch{}finally{}if(r=Uc(t,n,c,l),r!==null)return We(r,t,l),Jm(r,n,l),!0}return!1}function sh(t,n,r,l){if(l={lane:2,revertLane:Kh(),action:l,hasEagerState:!1,eagerState:null,next:null},Qo(t)){if(n)throw Error(s(479))}else n=Uc(t,r,l,2),n!==null&&We(n,t,2)}function Qo(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Wm(t,n){Ka=Bo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Jm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}var $n={readContext:qe,use:Ho,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he};$n.useCacheRefresh=he,$n.useMemoCache=he,$n.useHostTransitionStatus=he,$n.useFormState=he,$n.useActionState=he,$n.useOptimistic=he;var na={readContext:qe,use:Ho,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:jm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fo(4194308,4,Pm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fo(4194308,4,t,n)},useInsertionEffect:function(t,n){Fo(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(ea){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(ea){Ln(!0);try{r(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=T0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Jc(t);var n=t.queue,r=Zm.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:nh,useDeferredValue:function(t,n){var r=en();return ih(r,t,n)},useTransition:function(){var t=Jc(!1);return t=Xm.bind(null,Rt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=en();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Kt===null)throw Error(s(349));(Ut&60)!==0||Am(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,jm(bm.bind(null,l,f,t),[t]),l.flags|=2048,Za(9,Sm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=en(),n=Kt.identifierPrefix;if(Pt){var r=vi,l=yi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Po++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=g0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return en().memoizedState=E0.bind(null,Rt)}};na.useMemoCache=$c,na.useHostTransitionStatus=ah,na.useFormState=Mm,na.useActionState=Mm,na.useOptimistic=function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=sh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]};var ir={readContext:qe,use:Ho,useCallback:Hm,useContext:qe,useEffect:eh,useImperativeHandle:qm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:Gm,useReducer:Go,useRef:Lm,useState:function(){return Go(Ei)},useDebugValue:nh,useDeferredValue:function(t,n){var r=me();return Fm(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Go(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Tm,useId:Km};ir.useCacheRefresh=$m,ir.useMemoCache=$c,ir.useHostTransitionStatus=ah,ir.useFormState=Im,ir.useActionState=Im,ir.useOptimistic=function(t,n){var r=me();return Dm(r,Xt,t,n)};var ia={readContext:qe,use:Ho,useCallback:Hm,useContext:qe,useEffect:eh,useImperativeHandle:qm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:Gm,useReducer:Wc,useRef:Lm,useState:function(){return Wc(Ei)},useDebugValue:nh,useDeferredValue:function(t,n){var r=me();return Xt===null?ih(r,t,n):Fm(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Wc(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Tm,useId:Km};ia.useCacheRefresh=$m,ia.useMemoCache=$c,ia.useHostTransitionStatus=ah,ia.useFormState=km,ia.useActionState=km,ia.useOptimistic=function(t,n){var r=me();return Xt!==null?Dm(r,Xt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function lh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:V({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var oh={isMounted:function(t){return(t=t._reactInternals)?dt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=sr(l);c.payload=n,r!=null&&(c.callback=r),n=lr(t,c,l),n!==null&&(We(n,t,l),ml(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=sr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=lr(t,c,l),n!==null&&(We(n,t,l),ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=sr(r);l.tag=2,n!=null&&(l.callback=n),n=lr(t,l,r),n!==null&&(We(n,t,r),ml(n,t,r))}};function tg(t,n,r,l,c,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Ws(r,l)||!Ws(c,f):!0}function eg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&oh.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=V({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ng(t){Yo(t)}function ig(t){console.error(t)}function rg(t){Yo(t)}function Ko(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ag(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function uh(t,n,r){return r=sr(r),r.tag=3,r.payload={element:null},r.callback=function(){Ko(t,n)},r}function sg(t){return t=sr(t),t.tag=3,t}function lg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ag(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ag(n,r,l),typeof c!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function A0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&dl(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Kn===null?Gh():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===zc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Xh(t,l,c)),!1;case 22:return r.flags|=65536,l===zc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Xh(t,l,c)),!1}throw Error(s(435,r.tag))}return Xh(t,l,c),Gh(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==jc&&(t=Error(s(422),{cause:l}),nl(Tn(t,r)))):(l!==jc&&(n=Error(s(423),{cause:l}),nl(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=uh(t.stateNode,l,c),bh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),Al===null?Al=[f]:Al.push(f),oe!==4&&(oe=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=uh(r.stateNode,l,t),bh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(dr===null||!dr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=sg(c),lg(c,t,r,l),bh(r,c),!1}r=r.return}while(r!==null);return!1}var og=Error(s(461)),Ne=!1;function ke(t,n,r,l){n.child=t===null?dm(n,null,r,l):Jr(n,t.child,r,l)}function ug(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return sa(n),l=Xc(t,n,r,_,f,c),S=Qc(),t!==null&&!Ne?(Yc(t,n,c),Ti(t,n,c)):(Pt&&S&&kc(n),n.flags|=1,ke(t,n,l,c),n.child)}function cg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,hg(t,n,f,l,c)):(t=tu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!vh(t,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(_,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=hr(f,l),t.ref=n.ref,t.return=n,n.child=t}function hg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,vh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return ch(t,n,r,l,c)}function fg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(fl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=_!==null?_.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return dg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zo(n,_!==null?_.cachePool:null),_!==null?mm(n,_):Bc(),gm(n);else return n.lanes=n.childLanes=536870912,dg(t,n,_!==null?_.baseLanes|r:r,r)}else _!==null?(zo(n,_.cachePool),mm(n,_),er(),n.memoizedState=null):(t!==null&&zo(n,null),Bc(),er());return ke(t,n,c,r),n.child}function dg(t,n,r,l){var c=Gc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zo(n,null),Bc(),gm(n),t!==null&&dl(t,n,l,!0),null}function fl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function ch(t,n,r,l,c){return sa(n),r=Xc(t,n,r,l,void 0,c),l=Qc(),t!==null&&!Ne?(Yc(t,n,c),Ti(t,n,c)):(Pt&&l&&kc(n),n.flags|=1,ke(t,n,r,c),n.child)}function mg(t,n,r,l,c,f){return sa(n),n.updateQueue=null,r=Em(n,l,r,c),_m(t),l=Qc(),t!==null&&!Ne?(Yc(t,n,f),Ti(t,n,f)):(Pt&&l&&kc(n),n.flags|=1,ke(t,n,r,f),n.child)}function gg(t,n,r,l,c){if(sa(n),n.stateNode===null){var f=qa,_=r.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ah(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?qe(_):qa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(lh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&oh.enqueueReplaceState(f,f.state,null),pl(n,l,f,c),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,C=ra(r,S);f.props=C;var B=f.context,$=r.contextType;_=qa,typeof $=="object"&&$!==null&&(_=qe($));var et=r.getDerivedStateFromProps;$=typeof et=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||B!==_)&&eg(n,f,l,_),ar=!1;var F=n.memoizedState;f.state=F,pl(n,l,f,c),gl(),B=n.memoizedState,S||F!==B||ar?(typeof et=="function"&&(lh(n,r,et,l),B=n.memoizedState),(C=ar||tg(n,r,C,l,F,B,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Sh(t,n),_=n.memoizedProps,$=ra(r,_),f.props=$,et=n.pendingProps,F=f.context,B=r.contextType,C=qa,typeof B=="object"&&B!==null&&(C=qe(B)),S=r.getDerivedStateFromProps,(B=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==et||F!==C)&&eg(n,f,l,C),ar=!1,F=n.memoizedState,f.state=F,pl(n,l,f,c),gl();var K=n.memoizedState;_!==et||F!==K||ar||t!==null&&t.dependencies!==null&&$o(t.dependencies)?(typeof S=="function"&&(lh(n,r,S,l),K=n.memoizedState),($=ar||tg(n,r,$,l,F,K,C)||t!==null&&t.dependencies!==null&&$o(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=C,l=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,c),n.child=Jr(n,null,r,c)):ke(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function pg(t,n,r,l){return el(),n.flags|=256,ke(t,n,r,l),n.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function fh(t){return{baseLanes:t,cachePool:vm()}}function dh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function yg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?tr(n):er(),Pt){var S=Ue,C;if(C=S){t:{for(C=S,S=Yn;C.nodeType!==8;){if(!S){S=null;break t}if(C=kn(C.nextSibling),C===null){S=null;break t}}S=C}S!==null?(n.memoizedState={dehydrated:S,treeContext:$r!==null?{id:yi,overflow:vi}:null,retryLane:536870912},C=Dn(18,null,null,0),C.stateNode=S,C.return=n,n.child=C,Ze=n,Ue=null,C=!0):C=!1}C||Wr(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return S=l.children,l=l.fallback,c?(er(),c=n.mode,S=gh({mode:"hidden",children:S},c),l=oa(l,c,r,null),S.return=n,l.return=n,S.sibling=l,n.child=S,c=n.child,c.memoizedState=fh(r),c.childLanes=dh(t,_,r),n.memoizedState=hh,l):(tr(n),mh(n,S))}if(C=t.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(f)n.flags&256?(tr(n),n.flags&=-257,n=ph(t,n,r)):n.memoizedState!==null?(er(),n.child=t.child,n.flags|=128,n=null):(er(),c=l.fallback,S=n.mode,l=gh({mode:"visible",children:l.children},S),c=oa(c,S,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Jr(n,t.child,null,r),l=n.child,l.memoizedState=fh(r),l.childLanes=dh(t,_,r),n.memoizedState=hh,n=c);else if(tr(n),S.data==="$!"){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),n=ph(t,n,r)}else if(Ne||dl(t,n,r,!1),_=(r&t.childLanes)!==0,Ne||_){if(_=Kt,_!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Ji(t,l),We(_,t,l),og}S.data==="$?"||Gh(),n=ph(t,n,r)}else S.data==="$?"?(n.flags|=128,n.child=t.child,n=L0.bind(null,t),S._reactRetry=n,n=null):(t=C.treeContext,Ue=kn(S.nextSibling),Ze=n,Pt=!0,In=null,Yn=!1,t!==null&&(An[Sn++]=yi,An[Sn++]=vi,An[Sn++]=$r,yi=t.id,vi=t.overflow,$r=n),n=mh(n,l.children),n.flags|=4096);return n}return c?(er(),c=l.fallback,S=n.mode,C=t.child,B=C.sibling,l=hr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,B!==null?c=hr(B,c):(c=oa(c,S,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,S=t.child.memoizedState,S===null?S=fh(r):(C=S.cachePool,C!==null?(B=Ae._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=vm(),S={baseLanes:S.baseLanes|r,cachePool:C}),c.memoizedState=S,c.childLanes=dh(t,_,r),n.memoizedState=hh,l):(tr(n),r=t.child,t=r.sibling,r=hr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function mh(t,n){return n=gh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gh(t,n){return Hg(t,n,0,null)}function ph(t,n,r){return Jr(n,t.child,null,r),t=mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Eh(t.return,n,r)}function yh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function _g(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ke(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,r,n);else if(t.tag===19)vg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&jo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),yh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&jo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}yh(n,!0,r,null,f);break;case"together":yh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),fr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(dl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=hr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=hr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function vh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&$o(t)))}function S0(t,n,r){switch(n.tag){case 3:Li(n,n.stateNode.containerInfo),rr(n,Ae,t.memoizedState.cache),el();break;case 27:case 5:Vs(n);break;case 4:Li(n,n.stateNode.containerInfo);break;case 10:rr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yg(t,n,r):(tr(n),t=Ti(t,n,r),t!==null?t.sibling:null);tr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(dl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return _g(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,fg(t,n,r);case 24:rr(n,Ae,t.memoizedState.cache)}return Ti(t,n,r)}function Eg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!vh(t,r)&&(n.flags&128)===0)return Ne=!1,S0(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,Pt&&(n.flags&1048576)!==0&&rm(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")xh(l)?(t=ra(l,t),n.tag=1,n=gg(null,n,l,t,r)):(n.tag=0,n=ch(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===I){n.tag=11,n=ug(null,n,l,t,r);break t}else if(c===Q){n.tag=14,n=cg(null,n,l,t,r);break t}}throw n=D(l)||l,Error(s(306,n,""))}}return n;case 0:return ch(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),gg(t,n,l,c,r);case 3:t:{if(Li(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Sh(t,n),pl(n,f,null,r);var _=n.memoizedState;if(f=_.cache,rr(n,Ae,f),f!==c.cache&&Th(n,[Ae],r,!0),gl(),f=_.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=pg(t,n,f,r);break t}else if(f!==l){l=Tn(Error(s(424)),n),nl(l),n=pg(t,n,f,r);break t}else for(Ue=kn(n.stateNode.containerInfo.firstChild),Ze=n,Pt=!0,In=null,Yn=!0,r=dm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(el(),f===l){n=Ti(t,n,r);break t}ke(t,n,f,r)}n=n.child}return n;case 26:return fl(t,n),t===null?(r=Sp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=fu(dn.current).createElement(r),l[De]=n,l[ve]=t,Le(l,r,t),ee(l),n.stateNode=l):n.memoizedState=Sp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Vs(n),t===null&&Pt&&(l=n.stateNode=Ep(n.type,n.pendingProps,dn.current),Ze=n,Yn=!0,Ue=kn(l.firstChild)),l=n.pendingProps.children,t!==null||Pt?ke(t,n,l,r):n.child=Jr(n,null,l,r),fl(t,n),n.child;case 5:return t===null&&Pt&&((c=l=Ue)&&(l=J0(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,Ue=kn(l.firstChild),Yn=!1,c=!0):c=!1),c||Wr(n)),Vs(n),c=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,af(c,f)?l=null:_!==null&&af(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=Xc(t,n,p0,null,null,r),Vl._currentValue=c),fl(t,n),ke(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=Ue)&&(r=tE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Wr(n)),null;case 13:return yg(t,n,r);case 4:return Li(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,r):ke(t,n,l,r),n.child;case 11:return ug(t,n,n.type,n.pendingProps,r);case 7:return ke(t,n,n.pendingProps,r),n.child;case 8:return ke(t,n,n.pendingProps.children,r),n.child;case 12:return ke(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,rr(n,n.type,l.value),ke(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,sa(n),c=qe(c),l=l(c),n.flags|=1,ke(t,n,l,r),n.child;case 14:return cg(t,n,n.type,n.pendingProps,r);case 15:return hg(t,n,n.type,n.pendingProps,r);case 19:return _g(t,n,r);case 22:return fg(t,n,r);case 24:return sa(n),l=qe(Ae),t===null?(c=Gc(),c===null&&(c=Kt,f=qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Ah(n),rr(n,Ae,c)):((t.lanes&r)!==0&&(Sh(t,n),pl(n,null,null,r),gl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),rr(n,Ae,l)):(l=f.cache,rr(n,Ae,l),l!==c.cache&&Th(n,[Ae],r,!0))),ke(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var _h=Vt(null),aa=null,Ai=null;function rr(t,n,r){Ft(_h,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=_h.current,ae(_h)}function Eh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Th(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=c;for(var C=0;C<n.length;C++)if(S.context===n[C]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),Eh(f.return,r,t),l||(_=null);break t}f=S.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Eh(_,r,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function dl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=c.type;ln(c.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(c===ki.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}c=c.return}t!==null&&Th(n,t,r,l),n.flags|=262144}function $o(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){aa=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Tg(aa,t)}function Zo(t,n){return aa===null&&sa(t),Tg(t,n)}function Tg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var ar=!1;function Ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function lr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Vo(t),nm(t,null,r),n}return No(t,l,n,r),Vo(t)}function ml(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}function bh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var wh=!1;function gl(){if(wh){var t=Ya;if(t!==null)throw t}}function pl(t,n,r,l){wh=!1;var c=t.updateQueue;ar=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var C=S,B=C.next;C.next=null,_===null?f=B:_.next=B,_=C;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=B:S.next=B,$.lastBaseUpdate=C))}if(f!==null){var et=c.baseState;_=0,$=B=C=null,S=f;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(Ut&F)===F:(l&F)===F){F!==0&&F===Qa&&(wh=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=t,At=S;F=n;var ue=r;switch(At.tag){case 1:if(ft=At.payload,typeof ft=="function"){et=ft.call(ue,et,F);break t}et=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=At.payload,F=typeof ft=="function"?ft.call(ue,et,F):ft,F==null)break t;et=V({},et,F);break t;case 2:ar=!0}}F=S.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=c.callbacks,K===null?c.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(B=$=K,C=et):$=$.next=K,_|=F;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;K=S,S=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);$===null&&(C=et),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=$,f===null&&(c.shared.lanes=0),fr|=_,t.lanes=_,t.memoizedState=et}}function Ag(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Sg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Ag(r[t],n)}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(S){Yt(n,n.return,S)}}function or(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,c=n;var C=r;try{S()}catch(B){Yt(c,C,B)}}}l=l.next}while(l!==f)}}catch(B){Yt(n,n.return,B)}}function bg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Sg(n,r)}catch(l){Yt(t,t.return,l)}}}function wg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function la(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Yt(t,n,f)}}function on(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function Rg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function Dg(t,n,r){try{var l=t.stateNode;Y0(l,t.type,r,n),l[ve]=n}catch(c){Yt(t,t.return,c)}}function Cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Rh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=hu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Dh(t,n,r),t=t.sibling;t!==null;)Dh(t,n,r),t=t.sibling}function Wo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Wo(t,n,r),t=t.sibling;t!==null;)Wo(t,n,r),t=t.sibling}var bi=!1,le=!1,Ch=!1,Og=typeof WeakSet=="function"?WeakSet:Set,Ve=null,Ng=!1;function b0(t,n){if(t=t.containerInfo,nf=vu,t=Qd(t),Nc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,S=-1,C=-1,B=0,$=0,et=t,F=null;e:for(;;){for(var K;et!==r||c!==0&&et.nodeType!==3||(S=_+c),et!==f||l!==0&&et.nodeType!==3||(C=_+l),et.nodeType===3&&(_+=et.nodeValue.length),(K=et.firstChild)!==null;)F=et,et=K;for(;;){if(et===t)break e;if(F===r&&++B===c&&(S=_),F===f&&++$===l&&(C=_),(K=et.nextSibling)!==null)break;et=F,F=et.parentNode}et=K}r=S===-1||C===-1?null:{start:S,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:t,selectionRange:r},vu=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ft=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){Yt(r,r.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)of(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return ft=Ng,Ng=!1,ft}function Vg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(t,r),l&4&&yl(5,r);break;case 1:if(Ri(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(S){Yt(r,r.return,S)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Yt(r,r.return,S)}}l&64&&bg(r),l&512&&la(r,r.return);break;case 3:if(Ri(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Sg(l,t)}catch(S){Yt(r,r.return,S)}}break;case 26:Ri(t,r),l&512&&la(r,r.return);break;case 27:case 5:Ri(t,r),n===null&&l&4&&Rg(r),l&512&&la(r,r.return);break;case 12:Ri(t,r);break;case 13:Ri(t,r),l&4&&Ig(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||le;var f=bi,_=le;bi=c,(le=n)&&!_?ur(t,r,(r.subtreeFlags&8772)!==0):Ri(t,r),bi=f,le=_}l&512&&(r.memoizedProps.mode==="manual"?la(r,r.return):on(r,r.return));break;default:Ri(t,r)}}function xg(t){var n=t.alternate;n!==null&&(t.alternate=null,xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Lr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,un=!1;function wi(t,n,r){for(r=r.child;r!==null;)Mg(t,n,r),r=r.sibling}function Mg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(ji,r)}catch{}switch(r.tag){case 26:le||on(r,n),wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:le||on(r,n);var l=ge,c=un;for(ge=r.stateNode,wi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Lr(r),ge=l,un=c;break;case 5:le||on(r,n);case 6:c=ge;var f=un;if(ge=null,wi(t,n,r),ge=c,un=f,ge!==null)if(un)try{t=ge,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Yt(r,n,_)}else try{ge.removeChild(r.stateNode)}catch(_){Yt(r,n,_)}break;case 18:ge!==null&&(un?(n=ge,r=r.stateNode,n.nodeType===8?lf(n.parentNode,r):n.nodeType===1&&lf(n,r),Ul(n)):lf(ge,r.stateNode));break;case 4:l=ge,c=un,ge=r.stateNode.containerInfo,un=!0,wi(t,n,r),ge=l,un=c;break;case 0:case 11:case 14:case 15:le||or(2,r,n),le||or(4,r,n),wi(t,n,r);break;case 1:le||(on(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&wg(r,n,l)),wi(t,n,r);break;case 21:wi(t,n,r);break;case 22:le||on(r,n),le=(l=le)||r.memoizedState!==null,wi(t,n,r),le=l;break;default:wi(t,n,r)}}function Ig(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){Yt(n,n.return,r)}}function w0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Og),n;default:throw Error(s(435,t.tag))}}function Oh(t,n){var r=w0(t);n.forEach(function(l){var c=j0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,_=n,S=_;t:for(;S!==null;){switch(S.tag){case 27:case 5:ge=S.stateNode,un=!1;break t;case 3:ge=S.stateNode.containerInfo,un=!0;break t;case 4:ge=S.stateNode.containerInfo,un=!0;break t}S=S.return}if(ge===null)throw Error(s(160));Mg(f,_,c),ge=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ug(n,t),n=n.sibling}var Un=null;function Ug(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Rn(t),l&4&&(or(3,t,t.return),yl(3,t),or(5,t,t.return));break;case 1:wn(n,t),Rn(t),l&512&&(le||r===null||on(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(wn(n,t),Rn(t),l&512&&(le||r===null||on(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[De]=t,ee(f),l=f;break t;case"link":var _=Rp("link","href",c).get(l+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(_=Rp("meta","content",c).get(l+(r.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,ee(f),l=f}t.stateNode=l}else Dp(c,t.type,t.stateNode);else t.stateNode=wp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Dp(c,t.type,t.stateNode):wp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var C=c.firstChild;C;){var B=C.nextSibling,$=C.nodeName;C[Fi]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=B}for(var et=t.type,F=c.attributes;F.length;)c.removeAttributeNode(F[0]);Le(c,et,f),c[De]=t,c[ve]=f}catch(ft){Yt(t,t.return,ft)}}case 5:if(wn(n,t),Rn(t),l&512&&(le||r===null||on(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(ft){Yt(t,t.return,ft)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Dg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ch=!0);break;case 6:if(wn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ft){Yt(t,t.return,ft)}}break;case 3:if(gu=null,c=Un,Un=du(n.containerInfo),wn(n,t),Un=c,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(ft){Yt(t,t.return,ft)}Ch&&(Ch=!1,kg(t));break;case 4:l=Un,Un=du(t.stateNode.containerInfo),wn(n,t),Rn(t),Un=l;break;case 12:wn(n,t),Rn(t);break;case 13:wn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(jh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 22:if(l&512&&(le||r===null||on(r,r.return)),C=t.memoizedState!==null,B=r!==null&&r.memoizedState!==null,$=bi,et=le,bi=$||C,le=et||B,wn(n,t),le=et,bi=$,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=C?n._visibility&-2:n._visibility|1,C&&(n=bi||le,r===null||B||n||Wa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){B=r=n;try{if(c=B.stateNode,C)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{_=B.stateNode,S=B.memoizedProps.style;var K=S!=null&&S.hasOwnProperty("display")?S.display:null;_.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ft){Yt(B,B.return,ft)}}}else if(n.tag===6){if(r===null){B=n;try{B.stateNode.nodeValue=C?"":B.memoizedProps}catch(ft){Yt(B,B.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Oh(t,r))));break;case 19:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 21:break;default:wn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Cg(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=Rh(t);Wo(t,f,c);break;case 5:var _=l.stateNode;l.flags&32&&(pn(_,""),l.flags&=-33);var S=Rh(t);Wo(t,S,_);break;case 3:case 4:var C=l.stateNode.containerInfo,B=Rh(t);Dh(t,B,C);break;default:throw Error(s(161))}}}catch($){Yt(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vg(t,n.alternate,n),n=n.sibling}function Wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),Wa(n);break;case 1:on(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&wg(n,n.return,r),Wa(n);break;case 26:case 27:case 5:on(n,n.return),Wa(n);break;case 22:on(n,n.return),n.memoizedState===null&&Wa(n);break;default:Wa(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),yl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var S=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Ag(C[c],S)}catch(B){Yt(l,l.return,B)}}r&&_&64&&bg(f),la(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&_&4&&Rg(f),la(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&_&4&&Ig(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),la(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function Nh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ll(r))}function Vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function cr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lg(t,n,r,l),n=n.sibling}function Lg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:cr(t,n,r,l),c&2048&&yl(9,n);break;case 3:cr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){cr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else cr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?cr(t,n,r,l):vl(t,n):f._visibility&4?cr(t,n,r,l):(f._visibility|=4,Ja(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Nh(n.alternate,n);break;case 24:cr(t,n,r,l),c&2048&&Vh(n.alternate,n);break;default:cr(t,n,r,l)}}function Ja(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,S=r,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(f,_,S,C,c),yl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&4?Ja(f,_,S,C,c):vl(f,_):($._visibility|=4,Ja(f,_,S,C,c)),c&&B&2048&&Nh(_.alternate,_);break;case 24:Ja(f,_,S,C,c),c&&B&2048&&Vh(_.alternate,_);break;default:Ja(f,_,S,C,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&Nh(l.alternate,l);break;case 24:vl(r,l),c&2048&&Vh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var _l=8192;function ts(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 26:ts(t),t.flags&_l&&t.memoizedState!==null&&dE(Un,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var n=Un;Un=du(t.stateNode.containerInfo),ts(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=_l,_l=16777216,ts(t),_l=n):ts(t));break;default:ts(t)}}function zg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Pg(l,t)}zg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&or(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Jo(t)):El(t);break;default:El(t)}}function Jo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Pg(l,t)}zg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:or(8,n,n.return),Jo(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Jo(n));break;default:Jo(n)}t=t.sibling}}function Pg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:or(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(xg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}function R0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,l){return new R0(t,n,r,l)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hr(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function qg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function tu(t,n,r,l,c,f){var _=0;if(l=t,typeof t=="function")xh(t)&&(_=1);else if(typeof t=="string")_=hE(t,r,Qe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case y:return oa(r.children,c,f,n);case g:_=8,c|=24;break;case T:return t=Dn(12,r,n,c|2),t.elementType=T,t.lanes=f,t;case M:return t=Dn(13,r,n,c),t.elementType=M,t.lanes=f,t;case L:return t=Dn(19,r,n,c),t.elementType=L,t.lanes=f,t;case z:return Hg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case A:_=10;break t;case E:_=9;break t;case I:_=11;break t;case Q:_=14;break t;case Y:_=16,l=null;break t}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Dn(_,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function oa(t,n,r,l){return t=Dn(7,t,l,n),t.lanes=r,t}function Hg(t,n,r,l){t=Dn(22,t,l,n),t.elementType=z,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)===0){var _=Ji(f,2);_!==null&&(c._pendingVisibility|=2,We(_,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)!==0){var _=Ji(f,2);_!==null&&(c._pendingVisibility&=-3,We(_,f,2))}}};return t.stateNode=c,t}function Mh(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function Ih(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Gg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(n)){if(n=bn.current,n!==null&&((Ut&4194176)===Ut?Kn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Kn))throw rl=zc,lm;t.flags|=8192}}function eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pi():536870912,t.lanes|=n,ns|=n)}function Tl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function D0(t,n,r){var l=n.pendingProps;switch(Lc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ae),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,In!==null&&(qh(In),In=null))),ne(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ne(n),Gg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ne(n),Gg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ne(n),n.flags&=-16777217),null;case 27:Ta(n),r=dn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=Qe.current,tl(n)?am(n):(t=Ep(c,l,r),n.stateNode=t,Di(n))}return ne(n),null;case 5:if(Ta(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=Qe.current,tl(n))am(n);else{switch(c=fu(dn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[ve]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=dn.current,tl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||mp(t.nodeValue,r)),t||Wr(n)}else t=fu(t).createTextNode(l),t[De]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else In!==null&&(qh(In),In=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),eu(n,n.updateQueue),ne(n),null;case 4:return si(),t===null&&Jh(n.stateNode.containerInfo),ne(n),null;case 10:return Si(n.type),ne(n),null;case 19:if(ae(Te),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Tl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=jo(t),f!==null){for(n.flags|=128,Tl(c,!1),t=f.updateQueue,n.updateQueue=t,eu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)qg(r,t),r=r.sibling;return Ft(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>nu&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304)}else{if(!l)if(t=jo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,eu(n,t),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ne(n),null}else 2*Je()-c.renderingStartTime>nu&&r!==536870912&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Te.current,Ft(Te,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return _i(n),Pc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&eu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ae(ta),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ae),ne(n),null;case 25:return null}throw Error(s(156,n.tag))}function C0(t,n){switch(Lc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ae),si(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ta(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(Te),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return _i(n),Pc(),t!==null&&ae(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ae),null;case 25:return null;default:return null}}function Fg(t,n){switch(Lc(n),n.tag){case 3:Si(Ae),si();break;case 26:case 27:case 5:Ta(n);break;case 4:si();break;case 13:_i(n);break;case 19:ae(Te);break;case 10:Si(n.type);break;case 22:case 23:_i(n),Pc(),t!==null&&ae(ta);break;case 24:Si(Ae)}}var O0={getCacheForType:function(t){var n=qe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},N0=typeof WeakMap=="function"?WeakMap:Map,ie=0,Kt=null,Ot=null,Ut=0,$t=0,cn=null,Ci=!1,es=!1,Uh=!1,Oi=0,oe=0,fr=0,ua=0,kh=0,Cn=0,ns=0,Al=null,Zn=null,Lh=!1,jh=0,nu=1/0,iu=null,dr=null,ru=!1,ca=null,Sl=0,zh=0,Bh=null,bl=0,Ph=null;function hn(){if((ie&2)!==0&&Ut!==0)return Ut&-Ut;if(w.T!==null){var t=Qa;return t!==0?t:Kh()}return uo()}function Xg(){Cn===0&&(Cn=(Ut&536870912)===0||Pt?ks():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Cn}function We(t,n,r){(t===Kt&&$t===2||t.cancelPendingCommit!==null)&&(is(t,0),Ni(t,Ut,Cn,!1)),ce(t,r),((ie&2)===0||t!==Kt)&&(t===Kt&&((ie&2)===0&&(ua|=r),oe===4&&Ni(t,Ut,Cn,!1)),Wn(t))}function Qg(t,n,r){if((ie&6)!==0)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?M0(t,n):Fh(t,n,!0),f=l;do{if(c===0){es&&!l&&Ni(t,n,0,!1);break}else if(c===6)Ni(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!V0(r)){c=Fh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var S=t;c=Al;var C=S.current.memoizedState.isDehydrated;if(C&&(is(S,_).flags|=256),_=Fh(S,_,!1),_!==2){if(Uh&&!C){S.errorRecoveryDisabledLanes|=f,ua|=f,c=4;break t}f=Zn,Zn=c,f!==null&&qh(f)}c=_}if(f=!1,c!==2)continue}}if(c===1){is(t,0),Ni(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ni(l,n,Cn,!Ci);break t}break;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=jh+300-Je(),10<f)){if(Ni(l,n,Cn,!Ci),mn(l,0)!==0)break t;l.timeoutHandle=yp(Yg.bind(null,l,r,Zn,iu,Lh,n,Cn,ua,ns,Ci,2,-0,0),f);break t}Yg(l,r,Zn,iu,Lh,n,Cn,ua,ns,Ci,0,-0,0)}}break}while(!0);Wn(t)}function qh(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function Yg(t,n,r,l,c,f,_,S,C,B,$,et,F){var K=n.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:fE},jg(n),n=mE(),n!==null)){t.cancelPendingCommit=n(ep.bind(null,t,r,l,c,_,S,C,1,et,F)),Ni(t,f,_,!B);return}ep(t,r,l,c,_,S,C,$,et,F)}function V0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(t,n,r,l){n&=~kh,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&qi(t,r,n)}function au(){return(ie&6)===0?(wl(0),!1):!0}function Hh(){if(Ot!==null){if($t===0)var t=Ot.return;else t=Ot,Ai=aa=null,Kc(t),Fa=null,al=0,t=Ot;for(;t!==null;)Fg(t.alternate,t),t=t.return;Ot=null}}function is(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hh(),Kt=t,Ot=r=hr(t.current,null),Ut=n,$t=0,cn=null,Ci=!1,es=Bi(t,n),Uh=!1,ns=Cn=kh=ua=fr=oe=0,Zn=Al=null,Lh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,Oo(),r}function Kg(t,n){Rt=null,w.H=$n,n===il?(n=cm(),$t=3):n===lm?(n=cm(),$t=4):$t=n===og?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ot===null&&(oe=1,Ko(t,Tn(n,t.current)))}function $g(){var t=w.H;return w.H=$n,t===null?$n:t}function Zg(){var t=w.A;return w.A=O0,t}function Gh(){oe=4,Ci||(Ut&4194176)!==Ut&&bn.current!==null||(es=!0),(fr&134217727)===0&&(ua&134217727)===0||Kt===null||Ni(Kt,Ut,Cn,!1)}function Fh(t,n,r){var l=ie;ie|=2;var c=$g(),f=Zg();(Kt!==t||Ut!==n)&&(iu=null,is(t,n)),n=!1;var _=oe;t:do try{if($t!==0&&Ot!==null){var S=Ot,C=cn;switch($t){case 8:Hh(),_=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var B=$t;if($t=0,cn=null,rs(t,S,C,B),r&&es){_=0;break t}break;default:B=$t,$t=0,cn=null,rs(t,S,C,B)}}x0(),_=oe;break}catch($){Kg(t,$)}while(!0);return n&&t.shellSuspendCounter++,Ai=aa=null,ie=l,w.H=c,w.A=f,Ot===null&&(Kt=null,Ut=0,Oo()),_}function x0(){for(;Ot!==null;)Wg(Ot)}function M0(t,n){var r=ie;ie|=2;var l=$g(),c=Zg();Kt!==t||Ut!==n?(iu=null,nu=Je()+500,is(t,n)):es=Bi(t,n);t:do try{if($t!==0&&Ot!==null){n=Ot;var f=cn;e:switch($t){case 1:$t=0,cn=null,rs(t,n,f,1);break;case 2:if(om(f)){$t=0,cn=null,Jg(n);break}n=function(){$t===2&&Kt===t&&($t=7),Wn(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:om(f)?($t=0,cn=null,Jg(n)):($t=0,cn=null,rs(t,n,f,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var S=Ot;if(!_||Cp(_)){$t=0,cn=null;var C=S.sibling;if(C!==null)Ot=C;else{var B=S.return;B!==null?(Ot=B,su(B)):Ot=null}break e}}$t=0,cn=null,rs(t,n,f,5);break;case 6:$t=0,cn=null,rs(t,n,f,6);break;case 8:Hh(),oe=6;break t;default:throw Error(s(462))}}I0();break}catch($){Kg(t,$)}while(!0);return Ai=aa=null,w.H=l,w.A=c,ie=r,Ot!==null?0:(Kt=null,Ut=0,Oo(),oe)}function I0(){for(;Ot!==null&&!_c();)Wg(Ot)}function Wg(t){var n=Eg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?su(t):Ot=n}function Jg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=mg(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=mg(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Kc(n);default:Fg(r,n),n=Ot=qg(n,Oi),n=Eg(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?su(t):Ot=n}function rs(t,n,r,l){Ai=aa=null,Kc(n),Fa=null,al=0;var c=n.return;try{if(A0(t,c,n,r,Ut)){oe=1,Ko(t,Tn(r,t.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;oe=1,Ko(t,Tn(r,t.current)),Ot=null;return}n.flags&32768?(Pt||l===1?t=!0:es||(Ut&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),tp(n,t)):su(n)}function su(t){var n=t;do{if((n.flags&32768)!==0){tp(n,Ci);return}t=n.return;var r=D0(n.alternate,n,Oi);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);oe===0&&(oe=5)}function tp(t,n){do{var r=C0(t.alternate,t);if(r!==null){r.flags&=32767,Ot=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=r}while(t!==null);oe=6,Ot=null}function ep(t,n,r,l,c,f,_,S,C,B){var $=w.T,et=ot.p;try{ot.p=2,w.T=null,U0(t,n,r,l,et,c,f,_,S,C,B)}finally{w.T=$,ot.p=et}}function U0(t,n,r,l,c,f,_,S){do as();while(ca!==null);if((ie&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var B=C.lanes|C.childLanes;if(B|=Ic,lo(t,l,B,f,_,S),t===Kt&&(Ot=Kt=null,Ut=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||ru||(ru=!0,zh=B,Bh=r,z0(li,function(){return as(),null})),r=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||r?(r=w.T,w.T=null,f=ot.p,ot.p=2,_=ie,ie|=4,b0(t,C),Ug(C,t),a0(rf,t.containerInfo),vu=!!nf,rf=nf=null,t.current=C,Vg(t,C.alternate,C),xs(),ie=_,ot.p=f,w.T=r):t.current=C,ru?(ru=!1,ca=t,Sl=l):np(t,B),B=t.pendingLanes,B===0&&(dr=null),Is(C.stateNode),Wn(t),n!==null)for(c=t.onRecoverableError,C=0;C<n.length;C++)B=n[C],c(B.value,{componentStack:B.stack});return(Sl&3)!==0&&as(),B=t.pendingLanes,(l&4194218)!==0&&(B&42)!==0?t===Ph?bl++:(bl=0,Ph=t):bl=0,wl(0),null}function np(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function as(){if(ca!==null){var t=ca,n=zh;zh=0;var r=oo(Sl),l=w.T,c=ot.p;try{if(ot.p=32>r?32:r,w.T=null,ca===null)var f=!1;else{r=Bh,Bh=null;var _=ca,S=Sl;if(ca=null,Sl=0,(ie&6)!==0)throw Error(s(331));var C=ie;if(ie|=4,Bg(_.current),Lg(_,_.current,S,r),ie=C,wl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(ji,_)}catch{}f=!0}return f}finally{ot.p=c,w.T=l,np(t,n)}}return!1}function ip(t,n,r){n=Tn(r,n),n=uh(t.stateNode,n,2),t=lr(t,n,2),t!==null&&(ce(t,2),Wn(t))}function Yt(t,n,r){if(t.tag===3)ip(t,t,r);else for(;n!==null;){if(n.tag===3){ip(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){t=Tn(r,t),r=sg(2),l=lr(n,r,2),l!==null&&(lg(r,l,n,t),ce(l,2),Wn(l));break}}n=n.return}}function Xh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new N0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Uh=!0,c.add(r),t=k0.bind(null,t,n,r),n.then(t,t))}function k0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(Ut&r)===r&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>Je()-jh?(ie&2)===0&&is(t,0):kh|=r,ns===Ut&&(ns=0)),Wn(t)}function rp(t,n){n===0&&(n=Pi()),t=Ji(t,n),t!==null&&(ce(t,n),Wn(t))}function L0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),rp(t,r)}function j0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),rp(t,r)}function z0(t,n){return Ir(t,n)}var lu=null,ss=null,Qh=!1,ou=!1,Yh=!1,ha=0;function Wn(t){t!==ss&&t.next===null&&(ss===null?lu=ss=t:ss=ss.next=t),ou=!0,Qh||(Qh=!0,P0(B0))}function wl(t,n){if(!Yh&&ou){Yh=!0;do for(var r=!1,l=lu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(_&~S),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,lp(l,f))}else f=Ut,f=mn(l,l===Kt?f:0),(f&3)===0||Bi(l,f)||(r=!0,lp(l,f));l=l.next}while(r);Yh=!1}}function B0(){ou=Qh=!1;var t=0;ha!==0&&(K0()&&(t=ha),ha=0);for(var n=Je(),r=null,l=lu;l!==null;){var c=l.next,f=ap(l,n);f===0?(l.next=null,r===null?lu=c:r.next=c,c===null&&(ss=r)):(r=l,(t!==0||(f&3)!==0)&&(ou=!0)),l=c}wl(t)}function ap(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Ye(f),S=1<<_,C=c[_];C===-1?((S&r)===0||(S&l)!==0)&&(c[_]=ba(S,n)):C<=n&&(t.expiredLanes|=S),f&=~S}if(n=Kt,r=Ut,r=mn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sa(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Sa(l),oo(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Ms;break;default:r=li}return l=sp.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Sa(l),t.callbackPriority=2,t.callbackNode=null,2}function sp(t,n){var r=t.callbackNode;if(as()&&t.callbackNode!==r)return null;var l=Ut;return l=mn(t,t===Kt?l:0),l===0?null:(Qg(t,l,n),ap(t,Je()),t.callbackNode!=null&&t.callbackNode===r?sp.bind(null,t):null)}function lp(t,n){if(as())return null;Qg(t,n,!0)}function P0(t){Z0(function(){(ie&6)!==0?Ir(ye,t):t()})}function Kh(){return ha===0&&(ha=ks()),ha}function op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pn(""+t)}function up(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function q0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=op((c[ve]||null).action),_=l.submitter;_&&(n=(n=_[ve]||null)?op(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var S=new Va("action","action",null,l,c);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var C=_?up(c,_):new FormData(c);rh(r,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(S.preventDefault(),C=_?up(c,_):new FormData(c),rh(r,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var $h=0;$h<em.length;$h++){var Zh=em[$h],H0=Zh.toLowerCase(),G0=Zh[0].toUpperCase()+Zh.slice(1);Mn(H0,"on"+G0)}Mn($d,"onAnimationEnd"),Mn(Zd,"onAnimationIteration"),Mn(Wd,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(l0,"onTransitionRun"),Mn(o0,"onTransitionStart"),Mn(u0,"onTransitionCancel"),Mn(Jd,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function cp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var S=l[_],C=S.instance,B=S.currentTarget;if(S=S.listener,C!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=B;try{f(c)}catch($){Yo($)}c.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(S=l[_],C=S.instance,B=S.currentTarget,S=S.listener,C!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=B;try{f(c)}catch($){Yo($)}c.currentTarget=null,f=C}}}}function xt(t,n){var r=n[kr];r===void 0&&(r=n[kr]=new Set);var l=t+"__bubble";r.has(l)||(hp(n,t,2,!1),r.add(l))}function Wh(t,n,r){var l=0;n&&(l|=4),hp(r,t,l,n)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[uu]){t[uu]=!0,js.forEach(function(r){r!=="selectionchange"&&(F0.has(r)||Wh(r,!1,t),Wh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uu]||(n[uu]=!0,Wh("selectionchange",!1,n))}}function hp(t,n,r,l){switch(Ip(n)){case 2:var c=yE;break;case 8:c=vE;break;default:c=df}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;_=_.return}for(;S!==null;){if(_=xn(S),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue t}S=S.parentNode}}l=l.return}mo(function(){var B=f,$=Na(r),et=[];t:{var F=tm.get(t);if(F!==void 0){var K=Va,ft=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":K=La;break;case"focusin":ft="focus",K=Ia;break;case"focusout":ft="blur",K=Ia;break;case"beforeblur":case"afterblur":K=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ao;break;case $d:case Zd:case Wd:K=Ua;break;case Jd:K=bo;break;case"scroll":case"scrollend":K=go;break;case"wheel":K=ja;break;case"copy":case"cut":case"paste":K=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=$s;break;case"toggle":case"beforetoggle":K=Ro}var At=(n&4)!==0,ue=!At&&(t==="scroll"||t==="scrollend"),q=At?F!==null?F+"Capture":null:F;At=[];for(var j=B,G;j!==null;){var J=j;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||q===null||(J=Pr(j,q),J!=null&&At.push(Dl(j,J,G))),ue)break;j=j.return}0<At.length&&(F=new K(F,ft,null,r,$),et.push({event:F,listeners:At}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&r!==yn&&(ft=r.relatedTarget||r.fromElement)&&(xn(ft)||ft[oi]))break t;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ft=r.relatedTarget||r.toElement,K=B,ft=ft?xn(ft):null,ft!==null&&(ue=dt(ft),At=ft.tag,ft!==ue||At!==5&&At!==27&&At!==6)&&(ft=null)):(K=null,ft=B),K!==ft)){if(At=_n,J="onMouseLeave",q="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(At=$s,J="onPointerLeave",q="onPointerEnter",j="pointer"),ue=K==null?F:Xi(K),G=ft==null?F:Xi(ft),F=new At(J,j+"leave",K,r,$),F.target=ue,F.relatedTarget=G,J=null,xn($)===B&&(At=new At(q,j+"enter",ft,r,$),At.target=G,At.relatedTarget=ue,J=At),ue=J,K&&ft)e:{for(At=K,q=ft,j=0,G=At;G;G=ls(G))j++;for(G=0,J=q;J;J=ls(J))G++;for(;0<j-G;)At=ls(At),j--;for(;0<G-j;)q=ls(q),G--;for(;j--;){if(At===q||q!==null&&At===q.alternate)break e;At=ls(At),q=ls(q)}At=null}else At=null;K!==null&&fp(et,F,K,At,!1),ft!==null&&ue!==null&&fp(et,ue,ft,At,!0)}}t:{if(F=B?Xi(B):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var ct=zd;else if(Ee(F))if(Bd)ct=i0;else{ct=e0;var Ct=t0}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Hs(B.elementType)&&(ct=zd):ct=n0;if(ct&&(ct=ct(t,B))){pi(et,ct,r,$);break t}Ct&&Ct(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Oa(F,"number",F.value)}switch(Ct=B?Xi(B):window,t){case"focusin":(Ee(Ct)||Ct.contentEditable==="true")&&(za=Ct,Vc=B,Js=null);break;case"focusout":Js=Vc=za=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,Yd(et,r,$);break;case"selectionchange":if(s0)break;case"keydown":case"keyup":Yd(et,r,$)}var mt;if(Xn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Mt?X(t,r)&&(vt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(vt="onCompositionStart");vt&&(v&&r.locale!=="ko"&&(Mt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Mt&&(mt=Fs()):(qn=$,Wi="value"in qn?qn.value:qn.textContent,Mt=!0)),Ct=cu(B,vt),0<Ct.length&&(vt=new Ys(vt,t,null,r,$),et.push({event:vt,listeners:Ct}),mt?vt.data=mt:(mt=at(r),mt!==null&&(vt.data=mt)))),(mt=m?_e(t,r):It(t,r))&&(vt=cu(B,"onBeforeInput"),0<vt.length&&(Ct=new Ys("onBeforeInput","beforeinput",null,r,$),et.push({event:Ct,listeners:vt}),Ct.data=mt)),q0(et,t,B,r,$)}cp(et,n)})}function Dl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function cu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pr(t,r),c!=null&&l.unshift(Dl(t,c,f)),c=Pr(t,n),c!=null&&l.push(Dl(t,c,f))),t=t.return}return l}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fp(t,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var S=r,C=S.alternate,B=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||B===null||(C=B,c?(B=Pr(r,f),B!=null&&_.unshift(Dl(r,B,C))):c||(B=Pr(r,f),B!=null&&_.push(Dl(r,B,C)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var X0=/\r\n?/g,Q0=/\u0000|\uFFFD/g;function dp(t){return(typeof t=="string"?t:""+t).replace(X0,`
`).replace(Q0,"")}function mp(t,n){return n=dp(n),dp(t)===n}function hu(){}function Qt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,r,l);break;case"style":fo(t,l,f);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=hu);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Pn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bc.get(r)||r,Yi(t,r,l))}}function ef(t,n,r,l,c,f){switch(r){case"style":fo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Yi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,f,_,r,null)}}c&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":xt("invalid",t);var S=f=_=c=null,C=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var $=r[l];if($!=null)switch(l){case"name":c=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":B=$;break;case"value":f=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:Qt(t,n,l,$,r,null)}}zr(t,f,S,C,B,_,c,!1),jr(t);return;case"select":xt("invalid",t),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(S=r[c],S!=null))switch(c){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Qt(t,n,c,S,r,null)}n=f,r=_,t.multiple=!!l,n!=null?Bt(t,!!l,n,!1):r!=null&&Bt(t,!!l,r,!0);return;case"textarea":xt("invalid",t),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":c=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Qt(t,n,_,S,r,null)}Zi(t,l,c,f),jr(t);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(l=r[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,C,l,r,null)}return;case"dialog":xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)xt(Rl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,B,l,r,null)}return;default:if(Hs(n)){for($ in r)r.hasOwnProperty($)&&(l=r[$],l!==void 0&&ef(t,n,$,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&Qt(t,n,S,l,r,null))}function Y0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,S=null,C=null,B=null,$=null;for(K in r){var et=r[K];if(r.hasOwnProperty(K)&&et!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=et;default:l.hasOwnProperty(K)||Qt(t,n,K,null,l,et)}}for(var F in l){var K=l[F];if(et=r[F],l.hasOwnProperty(F)&&(K!=null||et!=null))switch(F){case"type":f=K;break;case"name":c=K;break;case"checked":B=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:K!==et&&Qt(t,n,F,K,l,et)}}$i(t,_,S,C,B,$,f,c);return;case"select":K=_=S=F=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=r[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":F=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==C&&Qt(t,n,c,f,l,C)}n=S,r=_,l=K,F!=null?Bt(t,!!r,F,!1):!!l!=!!r&&(n!=null?Bt(t,!!r,n,!0):Bt(t,!!r,r?[]:"",!1));return;case"textarea":K=F=null;for(S in r)if(c=r[S],r.hasOwnProperty(S)&&c!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Qt(t,n,S,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":F=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Qt(t,n,_,c,l,f)}Br(t,F,K);return;case"option":for(var ft in r)if(F=r[ft],r.hasOwnProperty(ft)&&F!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Qt(t,n,ft,null,l,F)}for(C in l)if(F=l[C],K=r[C],l.hasOwnProperty(C)&&F!==K&&(F!=null||K!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Qt(t,n,C,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in r)F=r[At],r.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At)&&Qt(t,n,At,null,l,F);for(B in l)if(F=l[B],K=r[B],l.hasOwnProperty(B)&&F!==K&&(F!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Qt(t,n,B,F,l,K)}return;default:if(Hs(n)){for(var ue in r)F=r[ue],r.hasOwnProperty(ue)&&F!==void 0&&!l.hasOwnProperty(ue)&&ef(t,n,ue,void 0,l,F);for($ in l)F=l[$],K=r[$],!l.hasOwnProperty($)||F===K||F===void 0&&K===void 0||ef(t,n,$,F,l,K);return}}for(var q in r)F=r[q],r.hasOwnProperty(q)&&F!=null&&!l.hasOwnProperty(q)&&Qt(t,n,q,null,l,F);for(et in l)F=l[et],K=r[et],!l.hasOwnProperty(et)||F===K||F==null&&K==null||Qt(t,n,et,F,l,K)}var nf=null,rf=null;function fu(t){return t.nodeType===9?t:t.ownerDocument}function gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function K0(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var yp=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,Z0=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(t){return vp.resolve(null).then(t).catch(W0)}:yp;function W0(t){setTimeout(function(){throw t})}function lf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Ul(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Ul(n)}function of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":of(r),Lr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function J0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function tE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function _p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Ep(t,n,r){switch(n=fu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var On=new Map,Tp=new Set;function du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Vi=ot.d;ot.d={f:eE,r:nE,D:iE,C:rE,L:aE,m:sE,X:oE,S:lE,M:uE};function eE(){var t=Vi.f(),n=au();return t||n}function nE(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?Ym(n):Vi.r(t)}var os=typeof document>"u"?null:document;function Ap(t,n,r){var l=os;if(l&&typeof n=="string"&&n){var c=se(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Tp.has(c)||(Tp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),ee(n),l.head.appendChild(n)))}}function iE(t){Vi.D(t),Ap("dns-prefetch",t,null)}function rE(t,n){Vi.C(t,n),Ap("preconnect",t,n)}function aE(t,n,r){Vi.L(t,n,r);var l=os;if(l&&t&&n){var c='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+se(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+se(r.imageSizes)+'"]')):c+='[href="'+se(t)+'"]';var f=c;switch(n){case"style":f=us(t);break;case"script":f=cs(t)}On.has(f)||(t=V({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),On.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),Le(n,"link",t),ee(n),l.head.appendChild(n)))}}function sE(t,n){Vi.m(t,n);var r=os;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+se(l)+'"][href="'+se(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cs(t)}if(!On.has(f)&&(t=V({rel:"modulepreload",href:t},n),On.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),Le(l,"link",t),ee(l),r.head.appendChild(l)}}}function lE(t,n,r){Vi.S(t,n,r);var l=os;if(l&&t){var c=Qi(l).hoistableStyles,f=us(t);n=n||"default";var _=c.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Cl(f)))S.loading=5;else{t=V({rel:"stylesheet",href:t,"data-precedence":n},r),(r=On.get(f))&&uf(t,r);var C=_=l.createElement("link");ee(C),Le(C,"link",t),C._p=new Promise(function(B,$){C.onload=B,C.onerror=$}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,mu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:S},c.set(f,_)}}}function oE(t,n){Vi.X(t,n);var r=os;if(r&&t){var l=Qi(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=V({src:t,async:!0},n),(n=On.get(c))&&cf(t,n),f=r.createElement("script"),ee(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function uE(t,n){Vi.M(t,n);var r=os;if(r&&t){var l=Qi(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=V({src:t,async:!0,type:"module"},n),(n=On.get(c))&&cf(t,n),f=r.createElement("script"),ee(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Sp(t,n,r,l){var c=(c=dn.current)?du(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=us(r.href),r=Qi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=us(r.href);var f=Qi(c).hoistableStyles,_=f.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=c.querySelector(Cl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),On.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(t,r),f||cE(c,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(r),r=Qi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function us(t){return'href="'+se(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function bp(t){return V({},t,{"data-precedence":t.precedence,precedence:null})}function cE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),ee(n),t.head.appendChild(n))}function cs(t){return'[src="'+se(t)+'"]'}function Ol(t){return"script[async]"+t}function wp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+se(r.href)+'"]');if(l)return n.instance=l,ee(l),l;var c=V({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ee(l),Le(l,"style",c),mu(l,r.precedence,t),n.instance=l;case"stylesheet":c=us(r.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,ee(f),f;l=bp(r),(c=On.get(c))&&uf(l,c),f=(t.ownerDocument||t).createElement("link"),ee(f);var _=f;return _._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),Le(f,"link",l),n.state.loading|=4,mu(f,r.precedence,t),n.instance=f;case"script":return f=cs(r.src),(c=t.querySelector(Ol(f)))?(n.instance=c,ee(c),c):(l=r,(c=On.get(f))&&(l=V({},r),cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ee(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mu(l,r.precedence,t));return n.instance}function mu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===n)f=S;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gu=null;function Rp(t,n,r){if(gu===null){var l=new Map,c=gu=new Map;c.set(r,l)}else c=gu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Fi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function Dp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function hE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function fE(){}function dE(t,n,r){if(Nl===null)throw Error(s(475));var l=Nl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=us(r.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=pu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ee(f);return}f=t.ownerDocument||t,r=bp(r),(c=On.get(c))&&uf(r,c),f=f.createElement("link"),ee(f);var _=f;_._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=pu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function mE(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function pu(){if(this.count--,this.count===0){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yu=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yu=new Map,n.forEach(gE,t),yu=null,pu.call(t))}function gE(t,n){if(!(n.state.loading&4)){var r=yu.get(t);if(r)var l=r.get(null);else{r=new Map,yu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=pu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Vl={$$typeof:A,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function pE(t,n,r,l,c,f,_,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Op(t,n,r,l,c,f,_,S,C,B,$,et){return t=new pE(t,n,r,_,S,C,B,et),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Ah(f),t}function Np(t){return t?(t=qa,t):qa}function Vp(t,n,r,l,c,f){c=Np(c),l.context===null?l.context=c:l.pendingContext=c,l=sr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=lr(t,l,n),r!==null&&(We(r,t,n),ml(r,t,n))}function xp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ff(t,n){xp(t,n),(t=t.alternate)&&xp(t,n)}function Mp(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&We(n,t,67108864),ff(t,67108864)}}var vu=!0;function yE(t,n,r,l){var c=w.T;w.T=null;var f=ot.p;try{ot.p=2,df(t,n,r,l)}finally{ot.p=f,w.T=c}}function vE(t,n,r,l){var c=w.T;w.T=null;var f=ot.p;try{ot.p=8,df(t,n,r,l)}finally{ot.p=f,w.T=c}}function df(t,n,r,l){if(vu){var c=mf(l);if(c===null)tf(t,n,l,_u,r),Up(t,l);else if(EE(c,t,n,r,l))l.stopPropagation();else if(Up(t,l),n&4&&-1<_E.indexOf(t)){for(;c!==null;){var f=ui(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Vn(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var C=1<<31-Ye(_);S.entanglements[1]|=C,_&=~C}Wn(f),(ie&6)===0&&(nu=Je()+500,wl(0))}}break;case 13:S=Ji(f,2),S!==null&&We(S,f,2),au(),ff(f,2)}if(f=mf(l),f===null&&tf(t,n,l,_u,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(t,n,l,null,r)}}function mf(t){return t=Na(t),gf(t)}var _u=null;function gf(t){if(_u=null,t=xn(t),t!==null){var n=dt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=jt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _u=t,null}function Ip(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(io()){case ye:return 2;case Re:return 8;case li:case ro:return 32;case Ms:return 268435456;default:return 32}default:return 32}}var pf=!1,mr=null,gr=null,pr=null,xl=new Map,Ml=new Map,yr=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Up(t,n){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&Mp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function EE(t,n,r,l,c){switch(n){case"focusin":return mr=Il(mr,t,n,r,l,c),!0;case"dragenter":return gr=Il(gr,t,n,r,l,c),!0;case"mouseover":return pr=Il(pr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Il(xl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,Il(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function kp(t){var n=xn(t.target);if(n!==null){var r=dt(n);if(r!==null){if(n=r.tag,n===13){if(n=jt(r),n!==null){t.blockedOn=n,Gi(t.priority,function(){if(r.tag===13){var l=hn(),c=Ji(r,l);c!==null&&We(c,r,l),ff(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=mf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yn=l,r.target.dispatchEvent(l),yn=null}else return n=ui(r),n!==null&&Mp(n),t.blockedOn=r,!1;n.shift()}return!0}function Lp(t,n,r){Eu(t)&&r.delete(n)}function TE(){pf=!1,mr!==null&&Eu(mr)&&(mr=null),gr!==null&&Eu(gr)&&(gr=null),pr!==null&&Eu(pr)&&(pr=null),xl.forEach(Lp),Ml.forEach(Lp)}function Tu(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,TE)))}var Au=null;function jp(t){Au!==t&&(Au=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Au===t&&(Au=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(gf(l||r)===null)continue;break}var f=ui(r);f!==null&&(t.splice(n,3),n-=3,rh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(C){return Tu(C,t)}mr!==null&&Tu(mr,t),gr!==null&&Tu(gr,t),pr!==null&&Tu(pr,t),xl.forEach(n),Ml.forEach(n);for(var r=0;r<yr.length;r++){var l=yr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)kp(r),r.blockedOn===null&&yr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[ve]||null;if(typeof f=="function")_||jp(r);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[ve]||null)S=_.formAction;else if(gf(c)!==null)continue}else S=_.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),jp(r)}}}function yf(t){this._internalRoot=t}Su.prototype.render=yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();Vp(r,l,t,n,null,null)},Su.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&as(),Vp(t.current,2,null,t,null,null),au(),n[oi]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var n=uo();t={blockedOn:null,target:t,priority:n};for(var r=0;r<yr.length&&n!==0&&n<yr[r].priority;r++);yr.splice(r,0,t),r===0&&kp(t)}};var zp=e.version;if(zp!=="19.0.0")throw Error(s(527,zp,"19.0.0"));ot.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=it(n),t=t!==null?ht(t):null,t=t===null?null:t.stateNode,t};var AE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{ji=bu.inject(AE),Pe=bu}catch{}}return Ll.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=ng,f=ig,_=rg,S=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Op(t,1,!1,null,null,r,l,c,f,_,S,null),t[oi]=n.current,Jh(t.nodeType===8?t.parentNode:t),new yf(n)},Ll.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=ng,_=ig,S=rg,C=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(C=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Op(t,1,!0,n,r??null,l,c,f,_,S,C,B),n.context=Np(null),r=n.current,l=hn(),c=sr(l),c.callback=null,lr(r,c,l),n.current.lanes=l,ce(n,l),Wn(n),t[oi]=n.current,Jh(t),new Su(n)},Ll.version="19.0.0",Ll}var Kp;function ME(){if(Kp)return Ef.exports;Kp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ef.exports=xE(),Ef.exports}var IE=ME(),ov={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$p=pa.createContext&&pa.createContext(ov),UE=["attr","size","title"];function kE(a,e){if(a==null)return{};var i=LE(a,e),s,o;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(o=0;o<h.length;o++)s=h[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function LE(a,e){if(a==null)return{};var i={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(e.indexOf(s)>=0)continue;i[s]=a[s]}return i}function Lu(){return Lu=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},Lu.apply(this,arguments)}function Zp(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function ju(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Zp(Object(i),!0).forEach(function(s){jE(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Zp(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}function jE(a,e,i){return e=zE(e),e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function zE(a){var e=BE(a,"string");return typeof e=="symbol"?e:e+""}function BE(a,e){if(typeof a!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function uv(a){return a&&a.map((e,i)=>pa.createElement(e.tag,ju({key:i},e.attr),uv(e.child)))}function Ui(a){return e=>pa.createElement(PE,Lu({attr:ju({},a.attr)},e),uv(a.child))}function PE(a){var e=i=>{var{attr:s,size:o,title:h}=a,d=kE(a,UE),p=o||i.size||"1em",y;return i.className&&(y=i.className),a.className&&(y=(y?y+" ":"")+a.className),pa.createElement("svg",Lu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,d,{className:y,style:ju(ju({color:a.color||i.color},i.style),a.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),h&&pa.createElement("title",null,h),a.children)};return $p!==void 0?pa.createElement($p.Consumer,null,i=>e(i)):e(ov)}function qE(a){return Ui({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(a)}function HE(a){return Ui({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"},child:[]}]})(a)}function Uf(a){return Ui({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z"},child:[]}]})(a)}function hs(a){const[e,i]=zt.useState("");function s(g){if(g>3&&g<21)return"th";switch(g%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function o(g){if(!g)return"";const T=new Date(g);if(isNaN(T.getTime()))return"Invalid date";const R=T.getDate(),E=s(R),A=T.toLocaleString("en-US",{month:"short"}),I=T.getFullYear(),M=new Date().getFullYear();return I===M?`${R}${E} ${A}`:`${R}${E} ${A} ${I}`}function h(g){let T=g.getHours();const R=g.getMinutes(),E=T>=12?"pm":"am",A=T%12||12;return R>0?`${A}:${R<10?"0"+R:R}${E}`:`${A}${E}`}function d(g){if(!g)return"";let T,R;g.includes("/")?[T,R]=g.split("/"):(T=g,R=null);const E=new Date(T);if(isNaN(E.getTime()))return"Invalid date";const M=Math.floor((E-new Date)/(1e3*60*60*24))<=10,L=M?`${o(T)} | ${h(E)}`:o(T);if(R){const Q=new Date(R);return isNaN(Q.getTime())?"Invalid date":E.toDateString()===Q.toDateString()?M?`${o(T)} | ${h(E)} - ${h(Q)}`:o(T):M?`${L} - ${o(R)} | ${h(Q)}`:`${o(T)} - ${o(R)}`}return L}function p(g){if(!g)return"";const T=g.includes("/")?g.split("/")[0]:g,R=new Date(T);if(isNaN(R.getTime()))return"Invalid date";const A=R-new Date,I=Math.floor(A/(1e3*60)),M=Math.floor(A/(1e3*60*60)),L=Math.floor(A/(1e3*60*60*24)),Q=Math.floor(A/(1e3*60*60*24*30)),Y=Math.floor(A/(1e3*60*60*24*365));if(A<0){const z=Math.abs(I),W=Math.abs(M),Z=Math.abs(L),rt=Math.abs(Q),O=Math.abs(Y);return z<60?`${z} minutes ago`:W<24?`${W} hours ago`:Z<30?`${Z} days ago`:rt<12?`${rt} months ago`:`${O} years ago`}else return I<1?"Happening now":I<60?`In ${I} minutes`:M<24?`In ${M} hours`:L<30?`In ${L} days`:Q<12?`In ${Q} months`:`In ${Y} years`}function y(g){if(!g)return"";const T=g.includes("/")?g.split("/")[0]:g,R=new Date(T);return isNaN(R.getTime())?"Invalid date":h(R)}return zt.useEffect(()=>{const g=()=>{i(p(a))};g();const T=setInterval(g,6e4);return()=>clearInterval(T)},[a]),{formattedDateTime:d(a),formattedDate:o(a),relativeTime:e,formatDateTime:d,getDifference:p,getTimeOnly:y}}function bf(a){return{second:a.getSeconds(),minute:a.getMinutes(),hour:a.getHours(),day:a.getDate(),month:a.getMonth(),weekday:a.getDay(),year:a.getFullYear()}}function Wp(a,e){return new Date(a,e+1,0).getDate()}function Jp(a,e){return a<=e?e-a:6-a+e+1}class GE{constructor({seconds:e,minutes:i,hours:s,days:o,months:h,weekdays:d}){if(!e||e.size===0)throw new Error("There must be at least one allowed second.");if(!i||i.size===0)throw new Error("There must be at least one allowed minute.");if(!s||s.size===0)throw new Error("There must be at least one allowed hour.");if(!h||h.size===0)throw new Error("There must be at least one allowed month.");if((!d||d.size===0)&&(!o||o.size===0))throw new Error("There must be at least one allowed day or weekday.");this.seconds=Array.from(e).sort((y,g)=>y-g),this.minutes=Array.from(i).sort((y,g)=>y-g),this.hours=Array.from(s).sort((y,g)=>y-g),this.days=Array.from(o).sort((y,g)=>y-g),this.months=Array.from(h).sort((y,g)=>y-g),this.weekdays=Array.from(d).sort((y,g)=>y-g);const p=(y,g,T)=>{if(g.some(R=>typeof R!="number"||R%1!==0||R<T.min||R>T.max))throw new Error(`${y} must only consist of integers which are within the range of ${T.min} and ${T.max}`)};p("seconds",this.seconds,{min:0,max:59}),p("minutes",this.minutes,{min:0,max:59}),p("hours",this.hours,{min:0,max:23}),p("days",this.days,{min:1,max:31}),p("months",this.months,{min:0,max:11}),p("weekdays",this.weekdays,{min:0,max:6}),this.reversed={seconds:this.seconds.map(y=>y).reverse(),minutes:this.minutes.map(y=>y).reverse(),hours:this.hours.map(y=>y).reverse(),days:this.days.map(y=>y).reverse(),months:this.months.map(y=>y).reverse(),weekdays:this.weekdays.map(y=>y).reverse()}}findAllowedHour(e,i){return e==="next"?this.hours.find(s=>s>=i):this.reversed.hours.find(s=>s<=i)}findAllowedMinute(e,i){return e==="next"?this.minutes.find(s=>s>=i):this.reversed.minutes.find(s=>s<=i)}findAllowedSecond(e,i){return e==="next"?this.seconds.find(s=>s>i):this.reversed.seconds.find(s=>s<i)}findAllowedTime(e,i){let s=this.findAllowedHour(e,i.hour);if(s!==void 0)if(s===i.hour){let o=this.findAllowedMinute(e,i.minute);if(o!==void 0)if(o===i.minute){const h=this.findAllowedSecond(e,i.second);if(h!==void 0)return{hour:s,minute:o,second:h};if(o=this.findAllowedMinute(e,e==="next"?i.minute+1:i.minute-1),o!==void 0)return{hour:s,minute:o,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:s,minute:o,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]};if(s=this.findAllowedHour(e,e==="next"?i.hour+1:i.hour-1),s!==void 0)return{hour:s,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:s,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}findAllowedDayInMonth(e,i,s,o){var h,d;if(o<1)throw new Error("startDay must not be smaller than 1.");const p=Wp(i,s),y=this.days.length!==31,g=this.weekdays.length!==7;if(!y&&!g)return o>p?e==="next"?void 0:p:o;let T;y&&(T=e==="next"?this.days.find(E=>E>=o):this.reversed.days.find(E=>E<=o),T!==void 0&&T>p&&(T=void 0));let R;if(g){const E=new Date(i,s,o).getDay(),A=e==="next"?(h=this.weekdays.find(I=>I>=E))!==null&&h!==void 0?h:this.weekdays[0]:(d=this.reversed.weekdays.find(I=>I<=E))!==null&&d!==void 0?d:this.reversed.weekdays[0];if(A!==void 0){const I=e==="next"?Jp(E,A):Jp(A,E);R=e==="next"?o+I:o-I,(R>p||R<1)&&(R=void 0)}}if(T!==void 0&&R!==void 0)return e==="next"?Math.min(T,R):Math.max(T,R);if(T!==void 0)return T;if(R!==void 0)return R}getNextDate(e=new Date){const i=bf(e);let s=i.year,o=this.months.findIndex(d=>d>=i.month);o===-1&&(o=0,s++);const h=this.months.length*5;for(let d=0;d<h;d++){const p=s+Math.floor((o+d)/this.months.length),y=this.months[(o+d)%this.months.length],g=p===i.year&&y===i.month;let T=this.findAllowedDayInMonth("next",p,y,g?i.day:1),R=g&&T===i.day;if(T!==void 0&&R){const E=this.findAllowedTime("next",i);if(E!==void 0)return new Date(p,y,T,E.hour,E.minute,E.second);T=this.findAllowedDayInMonth("next",p,y,T+1),R=!1}if(T!==void 0&&!R)return new Date(p,y,T,this.hours[0],this.minutes[0],this.seconds[0])}throw new Error("No valid next date was found.")}getNextDates(e,i){const s=[];let o;for(let h=0;h<e;h++)o=this.getNextDate(o??i),s.push(o);return s}*getNextDatesIterator(e,i){let s;for(;;){if(s=this.getNextDate(s??e),i&&i.getTime()<s.getTime())return;yield s}}getPrevDate(e=new Date){const i=bf(e);let s=i.year,o=this.reversed.months.findIndex(d=>d<=i.month);o===-1&&(o=0,s--);const h=this.reversed.months.length*5;for(let d=0;d<h;d++){const p=s-Math.floor((o+d)/this.reversed.months.length),y=this.reversed.months[(o+d)%this.reversed.months.length],g=p===i.year&&y===i.month;let T=this.findAllowedDayInMonth("prev",p,y,g?i.day:Wp(p,y)),R=g&&T===i.day;if(T!==void 0&&R){const E=this.findAllowedTime("prev",i);if(E!==void 0)return new Date(p,y,T,E.hour,E.minute,E.second);T>1&&(T=this.findAllowedDayInMonth("prev",p,y,T-1),R=!1)}if(T!==void 0&&!R)return new Date(p,y,T,this.reversed.hours[0],this.reversed.minutes[0],this.reversed.seconds[0])}throw new Error("No valid previous date was found.")}getPrevDates(e,i){const s=[];let o;for(let h=0;h<e;h++)o=this.getPrevDate(o??i),s.push(o);return s}*getPrevDatesIterator(e,i){let s;for(;;){if(s=this.getPrevDate(s??e),i&&i.getTime()>s.getTime())return;yield s}}matchDate(e){const{second:i,minute:s,hour:o,day:h,month:d,weekday:p}=bf(e);return this.seconds.indexOf(i)===-1||this.minutes.indexOf(s)===-1||this.hours.indexOf(o)===-1||this.months.indexOf(d)===-1?!1:this.days.length!==31&&this.weekdays.length!==7?this.days.indexOf(h)!==-1||this.weekdays.indexOf(p)!==-1:this.days.indexOf(h)!==-1&&this.weekdays.indexOf(p)!==-1}}const FE={min:0,max:59},XE={min:0,max:59},QE={min:0,max:23},YE={min:1,max:31},KE={min:1,max:12,aliases:{jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"}},cv={min:0,max:7,aliases:{mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6",sun:"7"}},$E={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *","@minutely":"* * * * *"};function da(a,e){const i=new Set;if(a==="*"){for(let T=e.min;T<=e.max;T=T+1)i.add(T);return i}const s=a.split(",");if(s.length>1){for(const T of s){const R=da(T,e);for(const E of R)i.add(E)}return i}const o=T=>{var R,E;T=(E=(R=e.aliases)===null||R===void 0?void 0:R[T.toLowerCase()])!==null&&E!==void 0?E:T;const A=Number.parseInt(T,10);if(Number.isNaN(A))throw new Error(`Failed to parse ${a}: ${T} is NaN.`);if(A<e.min||A>e.max)throw new Error(`Failed to parse ${a}: ${T} is outside of constraint range of ${e.min} - ${e.max}.`);return A},h=/^(([0-9a-zA-Z]+)-([0-9a-zA-Z]+)|\*)(\/([0-9]+))?$/.exec(a);if(h===null)return i.add(o(a)),i;let d=h[1]==="*"?e.min:o(h[2]);const p=h[1]==="*"?e.max:o(h[3]);if(e===cv&&d===7&&p!==7&&(d=0),d>p)throw new Error(`Failed to parse ${a}: Invalid range (start: ${d}, end: ${p}).`);const y=h[5];let g=1;if(y!==void 0){if(g=Number.parseInt(y,10),Number.isNaN(g))throw new Error(`Failed to parse step: ${y} is NaN.`);if(g<1)throw new Error(`Failed to parse step: Expected ${y} to be greater than 0.`)}for(let T=d;T<=p;T=T+g)i.add(T);return i}function ZE(a){var e;if(typeof a!="string")throw new TypeError("Invalid cron expression: must be of type string.");a=(e=$E[a.toLowerCase()])!==null&&e!==void 0?e:a;const i=a.split(" ").filter(g=>g.length>0);if(i.length<5||i.length>6)throw new Error("Invalid cron expression: expected 5 or 6 elements.");const s=i.length===6?i[0]:"0",o=i.length===6?i[1]:i[0],h=i.length===6?i[2]:i[1],d=i.length===6?i[3]:i[2],p=i.length===6?i[4]:i[3],y=i.length===6?i[5]:i[4];return new GE({seconds:da(s,FE),minutes:da(o,XE),hours:da(h,QE),days:da(d,YE),months:new Set(Array.from(da(p,KE)).map(g=>g-1)),weekdays:new Set(Array.from(da(y,cv)).map(g=>g%7))})}var fa={},ty;function WE(){if(ty)return fa;ty=1;var a=fa&&fa.__assign||function(){return a=Object.assign||function(z){for(var W,Z=1,rt=arguments.length;Z<rt;Z++){W=arguments[Z];for(var O in W)Object.prototype.hasOwnProperty.call(W,O)&&(z[O]=W[O])}return z},a.apply(this,arguments)};Object.defineProperty(fa,"__esModule",{value:!0}),fa.isValidCron=void 0;var e=function(z){return/^\d+$/.test(z)?Number(z):NaN},i=function(z){return z==="*"},s=function(z){return z==="?"},o=function(z,W,Z){return z>=W&&z<=Z},h=function(z,W,Z){var rt=z.split("-");switch(rt.length){case 1:return i(z)||o(e(z),W,Z);case 2:var O=rt.map(function(V){return e(V)}),D=O[0],w=O[1];return D<=w&&o(D,W,Z)&&o(w,W,Z);default:return!1}},d=function(z){return z===void 0||z.search(/[^\d]/)===-1&&e(z)>0},p=function(z,W,Z){if(z.search(/[^\d-,\/*]/)!==-1)return!1;var rt=z.split(",");return rt.every(function(O){var D=O.split("/");if(O.trim().endsWith("/")||D.length>2)return!1;var w=D[0],V=D[1];return h(w,W,Z)&&d(V)})},y=function(z){return p(z,0,59)},g=function(z){return p(z,0,59)},T=function(z){return p(z,0,23)},R=function(z,W){return W&&s(z)||p(z,1,31)},E={jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"},A=function(z,W){if(z.search(/\/[a-zA-Z]/)!==-1)return!1;if(W){var Z=z.toLowerCase().replace(/[a-z]{3}/g,function(rt){return E[rt]===void 0?rt:E[rt]});return p(Z,1,12)}return p(z,1,12)},I={sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"},M=function(z,W,Z,rt){if(Z&&s(z))return!0;if(!Z&&s(z)||z.search(/\/[a-zA-Z]/)!==-1)return!1;if(W){var O=z.toLowerCase().replace(/[a-z]{3}/g,function(D){return I[D]===void 0?D:I[D]});return p(O,0,rt?7:6)}return p(z,0,rt?7:6)},L=function(z,W,Z){return!(Z&&s(z)&&s(W))},Q=function(z){return z.trim().split(/\s+/)},Y={alias:!1,seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!1};return fa.isValidCron=function(z,W){W=a(a({},Y),W);var Z=Q(z);if(Z.length>(W.seconds?6:5)||Z.length<5)return!1;var rt=[];if(Z.length===6){var O=Z.shift();O&&rt.push(y(O))}var D=Z[0],w=Z[1],V=Z[2],U=Z[3],P=Z[4];return rt.push(g(D)),rt.push(T(w)),rt.push(R(V,W.allowBlankDay)),rt.push(A(U,W.alias)),rt.push(M(P,W.alias,W.allowBlankDay,W.allowSevenAsSunday)),rt.push(L(V,P,W.allowBlankDay)),rt.every(Boolean)},fa}WE();var wf={exports:{}},ey;function JE(){return ey||(ey=1,function(a,e){(function(s,o){a.exports=o()})(globalThis,()=>(()=>{var i={949:(d,p,y)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CronParser=void 0;var g=y(515),T=function(){function R(E,A,I){A===void 0&&(A=!0),I===void 0&&(I=!1),this.expression=E,this.dayOfWeekStartIndexZero=A,this.monthStartIndexZero=I}return R.prototype.parse=function(){var E,A,I=(E=this.expression)!==null&&E!==void 0?E:"";if(I.startsWith("@")){var M=this.parseSpecial(this.expression);A=this.extractParts(M)}else A=this.extractParts(this.expression);return this.normalize(A),this.validate(A),A},R.prototype.parseSpecial=function(E){var A={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@midnight":"0 0 * * *","@hourly":"0 * * * *"},I=A[E];if(!I)throw new Error("Unknown special expression.");return I},R.prototype.extractParts=function(E){if(!this.expression)throw new Error("cron expression is empty");for(var A=E.trim().split(/[ ]+/),I=0;I<A.length;I++)if(A[I].includes(",")){var M=A[I].split(",").map(function(Q){return Q.trim()}).filter(function(Q){return Q!==""}).map(function(Q){return isNaN(Number(Q))?Q:Number(Q)}).filter(function(Q){return Q!==null&&Q!==""});M.length===0&&M.push("*"),M.sort(function(Q,Y){return Q!==null&&Y!==null?Q-Y:0}),A[I]=M.map(function(Q){return Q!==null?Q.toString():""}).join(",")}if(A.length<5)throw new Error("Expression has only ".concat(A.length," part").concat(A.length==1?"":"s",". At least 5 parts are required."));if(A.length==5)A.unshift(""),A.push("");else if(A.length==6){var L=/\d{4}$/.test(A[5])||A[4]=="?"||A[2]=="?";L?A.unshift(""):A.push("")}else if(A.length>7)throw new Error("Expression has ".concat(A.length," parts; too many!"));return A},R.prototype.normalize=function(E){var A=this;if(E[3]=E[3].replace("?","*"),E[5]=E[5].replace("?","*"),E[2]=E[2].replace("?","*"),E[0].indexOf("0/")==0&&(E[0]=E[0].replace("0/","*/")),E[1].indexOf("0/")==0&&(E[1]=E[1].replace("0/","*/")),E[2].indexOf("0/")==0&&(E[2]=E[2].replace("0/","*/")),E[3].indexOf("1/")==0&&(E[3]=E[3].replace("1/","*/")),E[4].indexOf("1/")==0&&(E[4]=E[4].replace("1/","*/")),E[6].indexOf("1/")==0&&(E[6]=E[6].replace("1/","*/")),E[5]=E[5].replace(/(^\d)|([^#/\s]\d)/g,function(Z){var rt=Z.replace(/\D/,""),O=rt;return A.dayOfWeekStartIndexZero?rt=="7"&&(O="0"):O=(parseInt(rt)-1).toString(),Z.replace(rt,O)}),E[5]=="L"&&(E[5]="6"),E[3]=="?"&&(E[3]="*"),E[3].indexOf("W")>-1&&(E[3].indexOf(",")>-1||E[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var I={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var M in I)E[5]=E[5].replace(new RegExp(M,"gi"),I[M].toString());E[4]=E[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(Z){var rt=Z.replace(/\D/,""),O=rt;return A.monthStartIndexZero&&(O=(parseInt(rt)+1).toString()),Z.replace(rt,O)});var L={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var Q in L)E[4]=E[4].replace(new RegExp(Q,"gi"),L[Q].toString());E[0]=="0"&&(E[0]=""),!/\*|\-|\,|\//.test(E[2])&&(/\*|\//.test(E[1])||/\*|\//.test(E[0]))&&(E[2]+="-".concat(E[2]));for(var Y=0;Y<E.length;Y++)if(E[Y].indexOf(",")!=-1&&(E[Y]=E[Y].split(",").filter(function(Z){return Z!==""}).join(",")||"*"),E[Y]=="*/1"&&(E[Y]="*"),E[Y].indexOf("/")>-1&&!/^\*|\-|\,/.test(E[Y])){var z=null;switch(Y){case 4:z="12";break;case 5:z="6";break;case 6:z="9999";break;default:z=null;break}if(z!==null){var W=E[Y].split("/");E[Y]="".concat(W[0],"-").concat(z,"/").concat(W[1])}}},R.prototype.validate=function(E){var A="0-9,\\-*/";this.validateOnlyExpectedCharactersFound(E[0],A),this.validateOnlyExpectedCharactersFound(E[1],A),this.validateOnlyExpectedCharactersFound(E[2],A),this.validateOnlyExpectedCharactersFound(E[3],"0-9,\\-*/LW"),this.validateOnlyExpectedCharactersFound(E[4],A),this.validateOnlyExpectedCharactersFound(E[5],"0-9,\\-*/L#"),this.validateOnlyExpectedCharactersFound(E[6],A),this.validateAnyRanges(E)},R.prototype.validateAnyRanges=function(E){g.default.secondRange(E[0]),g.default.minuteRange(E[1]),g.default.hourRange(E[2]),g.default.dayOfMonthRange(E[3]),g.default.monthRange(E[4],this.monthStartIndexZero),g.default.dayOfWeekRange(E[5],this.dayOfWeekStartIndexZero)},R.prototype.validateOnlyExpectedCharactersFound=function(E,A){var I=E.match(new RegExp("[^".concat(A,"]+"),"gi"));if(I&&I.length)throw new Error("Expression contains invalid values: '".concat(I.toString(),"'"))},R}();p.CronParser=T},333:(d,p,y)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ExpressionDescriptor=void 0;var g=y(823),T=y(949),R=function(){function E(A,I){if(this.expression=A,this.options=I,this.expressionParts=new Array(5),!this.options.locale&&E.defaultLocale&&(this.options.locale=E.defaultLocale),!E.locales[this.options.locale]){var M=Object.keys(E.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(M,"'.")),this.options.locale=M}this.i18n=E.locales[this.options.locale],I.use24HourTimeFormat===void 0&&(I.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return E.toString=function(A,I){var M=I===void 0?{}:I,L=M.throwExceptionOnParseError,Q=L===void 0?!0:L,Y=M.verbose,z=Y===void 0?!1:Y,W=M.dayOfWeekStartIndexZero,Z=W===void 0?!0:W,rt=M.monthStartIndexZero,O=rt===void 0?!1:rt,D=M.use24HourTimeFormat,w=M.locale,V=w===void 0?null:w,U=M.tzOffset,P=U===void 0?0:U,N={throwExceptionOnParseError:Q,verbose:z,dayOfWeekStartIndexZero:Z,monthStartIndexZero:O,use24HourTimeFormat:D,locale:V,tzOffset:P};N.tzOffset&&console.warn("'tzOffset' option has been deprecated and will be removed in a future release.");var Zt=new E(A,N);return Zt.getFullDescription()},E.initialize=function(A,I){I===void 0&&(I="en"),E.specialCharacters=["/","-",",","*"],E.defaultLocale=I,A.load(E.locales)},E.prototype.getFullDescription=function(){var A="";try{var I=new T.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=I.parse();var M=this.getTimeOfDayDescription(),L=this.getDayOfMonthDescription(),Q=this.getMonthDescription(),Y=this.getDayOfWeekDescription(),z=this.getYearDescription();A+=M+L+Y+Q+z,A=this.transformVerbosity(A,!!this.options.verbose),A=A.charAt(0).toLocaleUpperCase()+A.substr(1)}catch(W){if(!this.options.throwExceptionOnParseError)A=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(W)}return A},E.prototype.getTimeOfDayDescription=function(){var A=this.expressionParts[0],I=this.expressionParts[1],M=this.expressionParts[2],L="";if(!g.StringUtilities.containsAny(I,E.specialCharacters)&&!g.StringUtilities.containsAny(M,E.specialCharacters)&&!g.StringUtilities.containsAny(A,E.specialCharacters))L+=this.i18n.atSpace()+this.formatTime(M,I,A);else if(!A&&I.indexOf("-")>-1&&!(I.indexOf(",")>-1)&&!(I.indexOf("/")>-1)&&!g.StringUtilities.containsAny(M,E.specialCharacters)){var Q=I.split("-");L+=g.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(M,Q[0],""),this.formatTime(M,Q[1],""))}else if(!A&&M.indexOf(",")>-1&&M.indexOf("-")==-1&&M.indexOf("/")==-1&&!g.StringUtilities.containsAny(I,E.specialCharacters)){var Y=M.split(",");L+=this.i18n.at();for(var z=0;z<Y.length;z++)L+=" ",L+=this.formatTime(Y[z],I,""),z<Y.length-2&&(L+=","),z==Y.length-2&&(L+=this.i18n.spaceAnd())}else{var W=this.getSecondsDescription(),Z=this.getMinutesDescription(),rt=this.getHoursDescription();if(L+=W,L&&Z&&(L+=", "),L+=Z,Z===rt)return L;L&&rt&&(L+=", "),L+=rt}return L},E.prototype.getSecondsDescription=function(){var A=this,I=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(M){return M},function(M){return g.StringUtilities.format(A.i18n.everyX0Seconds(M),M)},function(M){return A.i18n.secondsX0ThroughX1PastTheMinute()},function(M){return M=="0"?"":parseInt(M)<20?A.i18n.atX0SecondsPastTheMinute(M):A.i18n.atX0SecondsPastTheMinuteGt20()||A.i18n.atX0SecondsPastTheMinute(M)});return I},E.prototype.getMinutesDescription=function(){var A=this,I=this.expressionParts[0],M=this.expressionParts[2],L=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(Q){return Q},function(Q){return g.StringUtilities.format(A.i18n.everyX0Minutes(Q),Q)},function(Q){return A.i18n.minutesX0ThroughX1PastTheHour()},function(Q){try{return Q=="0"&&M.indexOf("/")==-1&&I==""?A.i18n.everyHour():parseInt(Q)<20?A.i18n.atX0MinutesPastTheHour(Q):A.i18n.atX0MinutesPastTheHourGt20()||A.i18n.atX0MinutesPastTheHour(Q)}catch{return A.i18n.atX0MinutesPastTheHour(Q)}});return L},E.prototype.getHoursDescription=function(){var A=this,I=this.expressionParts[2],M=this.getSegmentDescription(I,this.i18n.everyHour(),function(Y){return A.formatTime(Y,"0","")},function(Y){return g.StringUtilities.format(A.i18n.everyX0Hours(Y),Y)},function(Y){return A.i18n.betweenX0AndX1()},function(Y){return A.i18n.atX0()});if(M&&I.includes("-")&&this.expressionParts[1]!="0"){var L=Array.from(M.matchAll(/:00/g));if(L.length>1){var Q=L[L.length-1].index;M=M.substring(0,Q)+":59"+M.substring(Q+3)}}return M},E.prototype.getDayOfWeekDescription=function(){var A=this,I=this.i18n.daysOfTheWeek(),M=null;return this.expressionParts[5]=="*"?M="":M=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(L,Q){var Y=L;L.indexOf("#")>-1?Y=L.substring(0,L.indexOf("#")):L.indexOf("L")>-1&&(Y=Y.replace("L",""));var z=parseInt(Y);if(A.options.tzOffset){var W=A.expressionParts[2],Z=parseInt(W)+(A.options.tzOffset?A.options.tzOffset:0);Z>=24?z++:Z<0&&z--,z>6?z=0:z<0&&(z=6)}var rt=A.i18n.daysOfTheWeekInCase?A.i18n.daysOfTheWeekInCase(Q)[z]:I[z];if(L.indexOf("#")>-1){var O=null,D=L.substring(L.indexOf("#")+1),w=L.substring(0,L.indexOf("#"));switch(D){case"1":O=A.i18n.first(w);break;case"2":O=A.i18n.second(w);break;case"3":O=A.i18n.third(w);break;case"4":O=A.i18n.fourth(w);break;case"5":O=A.i18n.fifth(w);break}rt=O+" "+rt}return rt},function(L){return parseInt(L)==1?"":g.StringUtilities.format(A.i18n.commaEveryX0DaysOfTheWeek(L),L)},function(L){var Q=L.substring(0,L.indexOf("-")),Y=A.expressionParts[3]!="*";return Y?A.i18n.commaAndX0ThroughX1(Q):A.i18n.commaX0ThroughX1(Q)},function(L){var Q=null;if(L.indexOf("#")>-1){var Y=L.substring(L.indexOf("#")+1),z=L.substring(0,L.indexOf("#"));Q=A.i18n.commaOnThe(Y,z).trim()+A.i18n.spaceX0OfTheMonth()}else if(L.indexOf("L")>-1)Q=A.i18n.commaOnTheLastX0OfTheMonth(L.replace("L",""));else{var W=A.expressionParts[3]!="*";Q=W?A.i18n.commaAndOnX0():A.i18n.commaOnlyOnX0(L)}return Q}),M},E.prototype.getMonthDescription=function(){var A=this,I=this.i18n.monthsOfTheYear(),M=this.getSegmentDescription(this.expressionParts[4],"",function(L,Q){return Q&&A.i18n.monthsOfTheYearInCase?A.i18n.monthsOfTheYearInCase(Q)[parseInt(L)-1]:I[parseInt(L)-1]},function(L){return parseInt(L)==1?"":g.StringUtilities.format(A.i18n.commaEveryX0Months(L),L)},function(L){return A.i18n.commaMonthX0ThroughMonthX1()||A.i18n.commaX0ThroughX1()},function(L){return A.i18n.commaOnlyInMonthX0?A.i18n.commaOnlyInMonthX0():A.i18n.commaOnlyInX0()});return M},E.prototype.getDayOfMonthDescription=function(){var A=this,I=null,M=this.expressionParts[3];switch(M){case"L":I=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":I=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var L=M.match(/(\d{1,2}W)|(W\d{1,2})/);if(L){var Q=parseInt(L[0].replace("W","")),Y=Q==1?this.i18n.firstWeekday():g.StringUtilities.format(this.i18n.weekdayNearestDayX0(),Q.toString());I=g.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),Y);break}else{var z=M.match(/L-(\d{1,2})/);if(z){var W=z[1];I=g.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(W),W);break}else{if(M=="*"&&this.expressionParts[5]!="*")return"";I=this.getSegmentDescription(M,this.i18n.commaEveryDay(),function(Z){return Z=="L"?A.i18n.lastDay():A.i18n.dayX0?g.StringUtilities.format(A.i18n.dayX0(),Z):Z},function(Z){return Z=="1"?A.i18n.commaEveryDay():A.i18n.commaEveryX0Days(Z)},function(Z){return A.i18n.commaBetweenDayX0AndX1OfTheMonth(Z)},function(Z){return A.i18n.commaOnDayX0OfTheMonth(Z)})}break}}return I},E.prototype.getYearDescription=function(){var A=this,I=this.getSegmentDescription(this.expressionParts[6],"",function(M){return/^\d+$/.test(M)?new Date(parseInt(M),1).getFullYear().toString():M},function(M){return g.StringUtilities.format(A.i18n.commaEveryX0Years(M),M)},function(M){return A.i18n.commaYearX0ThroughYearX1()||A.i18n.commaX0ThroughX1()},function(M){return A.i18n.commaOnlyInYearX0?A.i18n.commaOnlyInYearX0():A.i18n.commaOnlyInX0()});return I},E.prototype.getSegmentDescription=function(A,I,M,L,Q,Y){var z=null,W=A.indexOf("/")>-1,Z=A.indexOf("-")>-1,rt=A.indexOf(",")>-1;if(!A)z="";else if(A==="*")z=I;else if(!W&&!Z&&!rt)z=g.StringUtilities.format(Y(A),M(A));else if(rt){for(var O=A.split(","),D="",w=0;w<O.length;w++)if(w>0&&O.length>2&&(D+=",",w<O.length-1&&(D+=" ")),w>0&&O.length>1&&(w==O.length-1||O.length==2)&&(D+="".concat(this.i18n.spaceAnd()," ")),O[w].indexOf("/")>-1||O[w].indexOf("-")>-1){var V=O[w].indexOf("-")>-1&&O[w].indexOf("/")==-1,U=this.getSegmentDescription(O[w],I,M,L,V?this.i18n.commaX0ThroughX1:Q,Y);V&&(U=U.replace(", ","")),D+=U}else W?D+=this.getSegmentDescription(O[w],I,M,L,Q,Y):D+=M(O[w]);W?z=D:z=g.StringUtilities.format(Y(A),D)}else if(W){var O=A.split("/");if(z=g.StringUtilities.format(L(O[1]),O[1]),O[0].indexOf("-")>-1){var P=this.generateRangeSegmentDescription(O[0],Q,M);P.indexOf(", ")!=0&&(z+=", "),z+=P}else if(O[0].indexOf("*")==-1){var N=g.StringUtilities.format(Y(O[0]),M(O[0]));N=N.replace(", ",""),z+=g.StringUtilities.format(this.i18n.commaStartingX0(),N)}}else Z&&(z=this.generateRangeSegmentDescription(A,Q,M));return z},E.prototype.generateRangeSegmentDescription=function(A,I,M){var L="",Q=A.split("-"),Y=M(Q[0],1),z=M(Q[1],2),W=I(A);return L+=g.StringUtilities.format(W,Y,z),L},E.prototype.formatTime=function(A,I,M){var L=0,Q=0;this.options.tzOffset&&(L=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),Q=parseFloat((this.options.tzOffset%1).toFixed(2)),Q!=0&&(Q*=60));var Y=parseInt(A)+L,z=parseInt(I)+Q;z>=60?(z-=60,Y+=1):z<0&&(z+=60,Y-=1),Y>=24?Y=Y-24:Y<0&&(Y=24+Y);var W="",Z=!1;this.options.use24HourTimeFormat||(Z=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),W=Z?"".concat(this.getPeriod(Y)," "):" ".concat(this.getPeriod(Y)),Y>12&&(Y-=12),Y===0&&(Y=12));var rt="";return M&&(rt=":".concat(("00"+M).substring(M.length))),"".concat(Z?W:"").concat(("00"+Y.toString()).substring(Y.toString().length),":").concat(("00"+z.toString()).substring(z.toString().length)).concat(rt).concat(Z?"":W)},E.prototype.transformVerbosity=function(A,I){if(!I&&(A=A.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),A=A.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),A=A.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),A=A.replace(/\, ?$/,""),this.i18n.conciseVerbosityReplacements))for(var M=0,L=Object.entries(this.i18n.conciseVerbosityReplacements());M<L.length;M++){var Q=L[M],Y=Q[0],z=Q[1];A=A.replace(new RegExp(Y,"g"),z)}return A},E.prototype.getPeriod=function(A){return A>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},E.locales={},E}();p.ExpressionDescriptor=R},747:(d,p,y)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.enLocaleLoader=void 0;var g=y(486),T=function(){function R(){}return R.prototype.load=function(E){E.en=new g.en},R}();p.enLocaleLoader=T},486:(d,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.en=void 0;var y=function(){function g(){}return g.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},g.prototype.atX0MinutesPastTheHourGt20=function(){return null},g.prototype.commaMonthX0ThroughMonthX1=function(){return null},g.prototype.commaYearX0ThroughYearX1=function(){return null},g.prototype.use24HourTimeFormatByDefault=function(){return!1},g.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occurred when generating the expression description. Check the cron expression syntax."},g.prototype.everyMinute=function(){return"every minute"},g.prototype.everyHour=function(){return"every hour"},g.prototype.atSpace=function(){return"At "},g.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},g.prototype.at=function(){return"At"},g.prototype.spaceAnd=function(){return" and"},g.prototype.everySecond=function(){return"every second"},g.prototype.everyX0Seconds=function(){return"every %s seconds"},g.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},g.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},g.prototype.everyX0Minutes=function(){return"every %s minutes"},g.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},g.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},g.prototype.everyX0Hours=function(){return"every %s hours"},g.prototype.betweenX0AndX1=function(){return"between %s and %s"},g.prototype.atX0=function(){return"at %s"},g.prototype.commaEveryDay=function(){return", every day"},g.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},g.prototype.commaX0ThroughX1=function(){return", %s through %s"},g.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},g.prototype.first=function(){return"first"},g.prototype.second=function(){return"second"},g.prototype.third=function(){return"third"},g.prototype.fourth=function(){return"fourth"},g.prototype.fifth=function(){return"fifth"},g.prototype.commaOnThe=function(){return", on the "},g.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},g.prototype.lastDay=function(){return"the last day"},g.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},g.prototype.commaOnlyOnX0=function(){return", only on %s"},g.prototype.commaAndOnX0=function(){return", and on %s"},g.prototype.commaEveryX0Months=function(){return", every %s months"},g.prototype.commaOnlyInX0=function(){return", only in %s"},g.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},g.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},g.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},g.prototype.firstWeekday=function(){return"first weekday"},g.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},g.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},g.prototype.commaEveryX0Days=function(){return", every %s days"},g.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},g.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},g.prototype.commaEveryHour=function(){return", every hour"},g.prototype.commaEveryX0Years=function(){return", every %s years"},g.prototype.commaStartingX0=function(){return", starting %s"},g.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},g}();p.en=y},515:(d,p)=>{Object.defineProperty(p,"__esModule",{value:!0});function y(T,R){if(!T)throw new Error(R)}var g=function(){function T(){}return T.secondRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var I=parseInt(E[A],10);y(I>=0&&I<=59,"seconds part must be >= 0 and <= 59")}},T.minuteRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var I=parseInt(E[A],10);y(I>=0&&I<=59,"minutes part must be >= 0 and <= 59")}},T.hourRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var I=parseInt(E[A],10);y(I>=0&&I<=23,"hours part must be >= 0 and <= 23")}},T.dayOfMonthRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var I=parseInt(E[A],10);y(I>=1&&I<=31,"DOM part must be >= 1 and <= 31")}},T.monthRange=function(R,E){for(var A=R.split(","),I=0;I<A.length;I++)if(!isNaN(parseInt(A[I],10))){var M=parseInt(A[I],10);y(M>=1&&M<=12,E?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},T.dayOfWeekRange=function(R,E){for(var A=R.split(","),I=0;I<A.length;I++)if(!isNaN(parseInt(A[I],10))){var M=parseInt(A[I],10);y(M>=0&&M<=6,E?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},T}();p.default=g},823:(d,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.StringUtilities=void 0;var y=function(){function g(){}return g.format=function(T){for(var R=[],E=1;E<arguments.length;E++)R[E-1]=arguments[E];return T.replace(/%s/g,function(A){return R.shift()})},g.containsAny=function(T,R){return R.some(function(E){return T.indexOf(E)>-1})},g}();p.StringUtilities=y}},s={};function o(d){var p=s[d];if(p!==void 0)return p.exports;var y=s[d]={exports:{}};return i[d](y,y.exports,o),y.exports}var h={};return(()=>{var d=h;Object.defineProperty(d,"__esModule",{value:!0}),d.toString=void 0;var p=o(333),y=o(747);p.ExpressionDescriptor.initialize(new y.enLocaleLoader),d.default=p.ExpressionDescriptor;var g=p.ExpressionDescriptor.toString;d.toString=g})(),h})())}(wf)),wf.exports}JE();function t1(a,e,i){return ZE(a).getNextDates(i,e).map(o=>o.toISOString())}function hv({task:a,clickOnTask:e}){var y,g;const[i,s]=zt.useState(a.graphic),[o,h]=zt.useState([]),{relativeTime:d,getTimeOnly:p}=hs(a.dueDate);return zt.useEffect(()=>{if(a.resource&&!a.resource.local&&a.resource.url){const T=a.resource.url.split("/"),R=T[0]+"//"+T[2];s(R+"/favicon.ico")}},[a]),zt.useEffect(()=>{if(a.recurring_details){const T=t1(a.recurring_details.cron_rules[0],new Date,3);h(T)}else a.one_time_details&&(console.log(a.one_time_details),h(a.one_time_details.scheduled_datetime))},[a]),x.jsxs("div",{id:"task-card",className:"light",onClick:()=>e(a.title),children:[!((y=a==null?void 0:a.resource)!=null&&y.local)&&x.jsx("img",{src:i,alt:"",className:"tc-graphic"}),((g=a==null?void 0:a.resource)==null?void 0:g.local)&&x.jsx("div",{className:"tc-graphic",children:x.jsx(HE,{className:"tc-graphic"})}),x.jsxs("div",{className:"tc-content",children:[x.jsx("p",{children:x.jsx("b",{children:a.title})}),x.jsx("p",{children:a.description&&String(a.description).substring(0,30)+"..."}),x.jsx("b",{children:x.jsx("p",{children:d})})]}),x.jsx("div",{className:"tc-time",children:x.jsx("p",{children:p(o[0])})})]})}function fv(a){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"},child:[]},{tag:"path",attr:{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52z"},child:[]}]})(a)}function e1(a){return Ui({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"},child:[]}]})(a)}function n1(a){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(a)}function i1({task:a,onClick:e}){var o,h,d;const[i,s]=zt.useState(0);return zt.useEffect(()=>{var y,g,T,R,E,A;const p=(((T=(g=(y=a.recurring_details)==null?void 0:y.streak)==null?void 0:g.current_streak)==null?void 0:T.count)||0)/(((A=(E=(R=a.recurring_details)==null?void 0:R.streak)==null?void 0:E.longest_streak)==null?void 0:A.count)||1);s(p),console.log(p)},[a]),x.jsxs("div",{className:"streak-card",onClick:e,children:[x.jsxs("span",{className:"streak-label",children:[a.title," ",x.jsx(e1,{})]}),x.jsxs("div",{className:"streak-info",children:[x.jsx("div",{className:"streak-icon-container",children:x.jsx(fv,{className:"streak-icon"})}),x.jsxs("div",{className:"streak-details",children:[x.jsx("div",{className:"streak-count",children:((d=(h=(o=a.recurring_details)==null?void 0:o.streak)==null?void 0:h.current_streak)==null?void 0:d.count)||0}),x.jsx("div",{className:"streak-subtitle",children:"Current Streak"})]})]}),x.jsx("div",{className:"streak-progress",children:x.jsx("div",{className:"progress-bar",children:x.jsx("div",{className:`progress-fill ${i===1?"streak-longest-effect":""}`,style:{width:`${i*100}%`}})})})]})}function r1({tasks:a,onClick:e}){const[i,s]=zt.useState([]);return zt.useEffect(()=>{s(a.filter(o=>o.type==="recurring"))},[a]),x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"task-section-header",children:x.jsx("h4",{className:"subtitle",children:"YOUR STREAK"})}),x.jsx("div",{id:"streak-container",children:x.jsx("div",{className:"streak-box-grid",children:i.map(o=>x.jsx(i1,{task:o,onClick:()=>e(o.title)},o.title))})})]})}const a1=()=>{};var ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},s1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,y=o+2<a.length,g=y?a[o+2]:0,T=h>>2,R=(h&3)<<4|p>>4;let E=(p&15)<<2|g>>6,A=g&63;y||(A=64,d||(E=64)),s.push(i[T],i[R],i[E],i[A])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(dv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):s1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const g=o<a.length?i[a.charAt(o)]:64;++o;const R=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||g==null||R==null)throw new l1;const E=h<<2|p>>4;if(s.push(E),g!==64){const A=p<<4&240|g>>2;if(s.push(A),R!==64){const I=g<<6&192|R;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o1=function(a){const e=dv(a);return mv.encodeByteArray(e,!0)},zu=function(a){return o1(a).replace(/\./g,"")},u1=function(a){try{return mv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=()=>c1().__FIREBASE_DEFAULTS__,f1=()=>{if(typeof process>"u"||typeof ny>"u")return;const a=ny.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},d1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&u1(a[1]);return e&&JSON.parse(e)},ad=()=>{try{return a1()||h1()||f1()||d1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},m1=a=>{var e,i;return(i=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},g1=a=>{const e=m1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},gv=()=>{var a;return(a=ad())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[zu(JSON.stringify(i)),zu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _1(){var a;const e=(a=ad())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){return!_1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T1(){try{return typeof indexedDB=="object"}catch{return!1}}function A1(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="FirebaseError";class Rs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=S1,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pv.prototype.create)}}class pv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?b1(h,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,p,s)}}function b1(a,e){return a.replace(w1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const w1=/\{\$([^}]+)}/g;function Bu(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(iy(h)&&iy(d)){if(!Bu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function iy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(a){return a&&a._delegate?a._delegate:a}class Fl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new p1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C1(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:D1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(a){return a===ma?void 0:a}function C1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new R1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const N1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},V1=Lt.INFO,x1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},M1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=x1[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yv{constructor(e){this.name=e,this._logLevel=V1,this._logHandler=M1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const I1=(a,e)=>e.some(i=>a instanceof i);let ry,ay;function U1(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k1(){return ay||(ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vv=new WeakMap,kf=new WeakMap,_v=new WeakMap,Rf=new WeakMap,sd=new WeakMap;function L1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Er(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&vv.set(i,a)}).catch(()=>{}),sd.set(e,a),e}function j1(a){if(kf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});kf.set(a,e)}let Lf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return kf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||_v.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function z1(a){Lf=a(Lf)}function B1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Df(this),e,...i);return _v.set(s,e.sort?e.sort():[e]),Er(s)}:k1().includes(a)?function(...e){return a.apply(Df(this),e),Er(vv.get(this))}:function(...e){return Er(a.apply(Df(this),e))}}function P1(a){return typeof a=="function"?B1(a):(a instanceof IDBTransaction&&j1(a),I1(a,U1())?new Proxy(a,Lf):a)}function Er(a){if(a instanceof IDBRequest)return L1(a);if(Rf.has(a))return Rf.get(a);const e=P1(a);return e!==a&&(Rf.set(a,e),sd.set(e,a)),e}const Df=a=>sd.get(a);function q1(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),p=Er(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Er(d.result),y.oldVersion,y.newVersion,Er(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const H1=["get","getKey","getAll","getAllKeys","count"],G1=["put","add","delete","clear"],Cf=new Map;function sy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=G1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||H1.includes(i)))return;const h=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),o&&y.done]))[0]};return Cf.set(e,h),h}z1(a=>({...a,get:(e,i,s)=>sy(e,i)||a.get(e,i,s),has:(e,i)=>!!sy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(X1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function X1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",ly="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new yv("@firebase/app"),Q1="@firebase/app-compat",Y1="@firebase/analytics-compat",K1="@firebase/analytics",$1="@firebase/app-check-compat",Z1="@firebase/app-check",W1="@firebase/auth",J1="@firebase/auth-compat",tT="@firebase/database",eT="@firebase/data-connect",nT="@firebase/database-compat",iT="@firebase/functions",rT="@firebase/functions-compat",aT="@firebase/installations",sT="@firebase/installations-compat",lT="@firebase/messaging",oT="@firebase/messaging-compat",uT="@firebase/performance",cT="@firebase/performance-compat",hT="@firebase/remote-config",fT="@firebase/remote-config-compat",dT="@firebase/storage",mT="@firebase/storage-compat",gT="@firebase/firestore",pT="@firebase/vertexai",yT="@firebase/firestore-compat",vT="firebase",_T="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",ET={[jf]:"fire-core",[Q1]:"fire-core-compat",[K1]:"fire-analytics",[Y1]:"fire-analytics-compat",[Z1]:"fire-app-check",[$1]:"fire-app-check-compat",[W1]:"fire-auth",[J1]:"fire-auth-compat",[tT]:"fire-rtdb",[eT]:"fire-data-connect",[nT]:"fire-rtdb-compat",[iT]:"fire-fn",[rT]:"fire-fn-compat",[aT]:"fire-iid",[sT]:"fire-iid-compat",[lT]:"fire-fcm",[oT]:"fire-fcm-compat",[uT]:"fire-perf",[cT]:"fire-perf-compat",[hT]:"fire-rc",[fT]:"fire-rc-compat",[dT]:"fire-gcs",[mT]:"fire-gcs-compat",[gT]:"fire-fst",[yT]:"fire-fst-compat",[pT]:"fire-vertex","fire-js":"fire-js",[vT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,TT=new Map,Bf=new Map;function oy(a,e){try{a.container.addComponent(e)}catch(i){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function qu(a){const e=a.name;if(Bf.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,a);for(const i of Pu.values())oy(i,a);for(const i of TT.values())oy(i,a);return!0}function AT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function ST(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new pv("app","Firebase",bT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=_T;function Ev(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:zf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=gv()),!i)throw Tr.create("no-options");const h=Pu.get(o);if(h){if(Bu(i,h.options)&&Bu(s,h.config))return h;throw Tr.create("duplicate-app",{appName:o})}const d=new O1(o);for(const y of Bf.values())d.addComponent(y);const p=new wT(i,s,d);return Pu.set(o,p),p}function DT(a=zf){const e=Pu.get(a);if(!e&&a===zf&&gv())return Ev();if(!e)throw Tr.create("no-app",{appName:a});return e}function ps(a,e,i){var s;let o=(s=ET[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${o}" with version "${e}":`];h&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(p.join(" "));return}qu(new Fl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebase-heartbeat-database",OT=1,Xl="firebase-heartbeat-store";let Of=null;function Tv(){return Of||(Of=q1(CT,OT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Tr.create("idb-open",{originalErrorMessage:a.message})})),Of}async function NT(a){try{const i=(await Tv()).transaction(Xl),s=await i.objectStore(Xl).get(Av(a));return await i.done,s}catch(e){if(e instanceof Rs)xi.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(i.message)}}}async function uy(a,e){try{const s=(await Tv()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,Av(a)),await s.done}catch(i){if(i instanceof Rs)xi.warn(i.message);else{const s=Tr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(s.message)}}}function Av(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=1024,xT=30;class MT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new UT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=cy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>xT){const d=kT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=cy(),{heartbeatsToSend:s,unsentEntries:o}=IT(this._heartbeatsCache.heartbeats),h=zu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return xi.warn(i),""}}}function cy(){return new Date().toISOString().substring(0,10)}function IT(a,e=VT){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),hy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),hy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class UT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T1()?A1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await NT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hy(a){return zu(JSON.stringify({version:2,heartbeats:a})).length}function kT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(a){qu(new Fl("platform-logger",e=>new F1(e),"PRIVATE")),qu(new Fl("heartbeat",e=>new MT(e),"PRIVATE")),ps(jf,ly,a),ps(jf,ly,"esm2017"),ps("fire-js","")}LT("");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,Sv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,D){function w(){}w.prototype=D.prototype,O.D=D.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(V,U,P){for(var N=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)N[Zt-2]=arguments[Zt];return D.prototype[U].apply(V,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,D,w){w||(w=0);var V=Array(16);if(typeof D=="string")for(var U=0;16>U;++U)V[U]=D.charCodeAt(w++)|D.charCodeAt(w++)<<8|D.charCodeAt(w++)<<16|D.charCodeAt(w++)<<24;else for(U=0;16>U;++U)V[U]=D[w++]|D[w++]<<8|D[w++]<<16|D[w++]<<24;D=O.g[0],w=O.g[1],U=O.g[2];var P=O.g[3],N=D+(P^w&(U^P))+V[0]+3614090360&4294967295;D=w+(N<<7&4294967295|N>>>25),N=P+(U^D&(w^U))+V[1]+3905402710&4294967295,P=D+(N<<12&4294967295|N>>>20),N=U+(w^P&(D^w))+V[2]+606105819&4294967295,U=P+(N<<17&4294967295|N>>>15),N=w+(D^U&(P^D))+V[3]+3250441966&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(P^w&(U^P))+V[4]+4118548399&4294967295,D=w+(N<<7&4294967295|N>>>25),N=P+(U^D&(w^U))+V[5]+1200080426&4294967295,P=D+(N<<12&4294967295|N>>>20),N=U+(w^P&(D^w))+V[6]+2821735955&4294967295,U=P+(N<<17&4294967295|N>>>15),N=w+(D^U&(P^D))+V[7]+4249261313&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(P^w&(U^P))+V[8]+1770035416&4294967295,D=w+(N<<7&4294967295|N>>>25),N=P+(U^D&(w^U))+V[9]+2336552879&4294967295,P=D+(N<<12&4294967295|N>>>20),N=U+(w^P&(D^w))+V[10]+4294925233&4294967295,U=P+(N<<17&4294967295|N>>>15),N=w+(D^U&(P^D))+V[11]+2304563134&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(P^w&(U^P))+V[12]+1804603682&4294967295,D=w+(N<<7&4294967295|N>>>25),N=P+(U^D&(w^U))+V[13]+4254626195&4294967295,P=D+(N<<12&4294967295|N>>>20),N=U+(w^P&(D^w))+V[14]+2792965006&4294967295,U=P+(N<<17&4294967295|N>>>15),N=w+(D^U&(P^D))+V[15]+1236535329&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(U^P&(w^U))+V[1]+4129170786&4294967295,D=w+(N<<5&4294967295|N>>>27),N=P+(w^U&(D^w))+V[6]+3225465664&4294967295,P=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(P^D))+V[11]+643717713&4294967295,U=P+(N<<14&4294967295|N>>>18),N=w+(P^D&(U^P))+V[0]+3921069994&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(U^P&(w^U))+V[5]+3593408605&4294967295,D=w+(N<<5&4294967295|N>>>27),N=P+(w^U&(D^w))+V[10]+38016083&4294967295,P=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(P^D))+V[15]+3634488961&4294967295,U=P+(N<<14&4294967295|N>>>18),N=w+(P^D&(U^P))+V[4]+3889429448&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(U^P&(w^U))+V[9]+568446438&4294967295,D=w+(N<<5&4294967295|N>>>27),N=P+(w^U&(D^w))+V[14]+3275163606&4294967295,P=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(P^D))+V[3]+4107603335&4294967295,U=P+(N<<14&4294967295|N>>>18),N=w+(P^D&(U^P))+V[8]+1163531501&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(U^P&(w^U))+V[13]+2850285829&4294967295,D=w+(N<<5&4294967295|N>>>27),N=P+(w^U&(D^w))+V[2]+4243563512&4294967295,P=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(P^D))+V[7]+1735328473&4294967295,U=P+(N<<14&4294967295|N>>>18),N=w+(P^D&(U^P))+V[12]+2368359562&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(w^U^P)+V[5]+4294588738&4294967295,D=w+(N<<4&4294967295|N>>>28),N=P+(D^w^U)+V[8]+2272392833&4294967295,P=D+(N<<11&4294967295|N>>>21),N=U+(P^D^w)+V[11]+1839030562&4294967295,U=P+(N<<16&4294967295|N>>>16),N=w+(U^P^D)+V[14]+4259657740&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(w^U^P)+V[1]+2763975236&4294967295,D=w+(N<<4&4294967295|N>>>28),N=P+(D^w^U)+V[4]+1272893353&4294967295,P=D+(N<<11&4294967295|N>>>21),N=U+(P^D^w)+V[7]+4139469664&4294967295,U=P+(N<<16&4294967295|N>>>16),N=w+(U^P^D)+V[10]+3200236656&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(w^U^P)+V[13]+681279174&4294967295,D=w+(N<<4&4294967295|N>>>28),N=P+(D^w^U)+V[0]+3936430074&4294967295,P=D+(N<<11&4294967295|N>>>21),N=U+(P^D^w)+V[3]+3572445317&4294967295,U=P+(N<<16&4294967295|N>>>16),N=w+(U^P^D)+V[6]+76029189&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(w^U^P)+V[9]+3654602809&4294967295,D=w+(N<<4&4294967295|N>>>28),N=P+(D^w^U)+V[12]+3873151461&4294967295,P=D+(N<<11&4294967295|N>>>21),N=U+(P^D^w)+V[15]+530742520&4294967295,U=P+(N<<16&4294967295|N>>>16),N=w+(U^P^D)+V[2]+3299628645&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(U^(w|~P))+V[0]+4096336452&4294967295,D=w+(N<<6&4294967295|N>>>26),N=P+(w^(D|~U))+V[7]+1126891415&4294967295,P=D+(N<<10&4294967295|N>>>22),N=U+(D^(P|~w))+V[14]+2878612391&4294967295,U=P+(N<<15&4294967295|N>>>17),N=w+(P^(U|~D))+V[5]+4237533241&4294967295,w=U+(N<<21&4294967295|N>>>11),N=D+(U^(w|~P))+V[12]+1700485571&4294967295,D=w+(N<<6&4294967295|N>>>26),N=P+(w^(D|~U))+V[3]+2399980690&4294967295,P=D+(N<<10&4294967295|N>>>22),N=U+(D^(P|~w))+V[10]+4293915773&4294967295,U=P+(N<<15&4294967295|N>>>17),N=w+(P^(U|~D))+V[1]+2240044497&4294967295,w=U+(N<<21&4294967295|N>>>11),N=D+(U^(w|~P))+V[8]+1873313359&4294967295,D=w+(N<<6&4294967295|N>>>26),N=P+(w^(D|~U))+V[15]+4264355552&4294967295,P=D+(N<<10&4294967295|N>>>22),N=U+(D^(P|~w))+V[6]+2734768916&4294967295,U=P+(N<<15&4294967295|N>>>17),N=w+(P^(U|~D))+V[13]+1309151649&4294967295,w=U+(N<<21&4294967295|N>>>11),N=D+(U^(w|~P))+V[4]+4149444226&4294967295,D=w+(N<<6&4294967295|N>>>26),N=P+(w^(D|~U))+V[11]+3174756917&4294967295,P=D+(N<<10&4294967295|N>>>22),N=U+(D^(P|~w))+V[2]+718787259&4294967295,U=P+(N<<15&4294967295|N>>>17),N=w+(P^(U|~D))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+D&4294967295,O.g[1]=O.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,D){D===void 0&&(D=O.length);for(var w=D-this.blockSize,V=this.B,U=this.h,P=0;P<D;){if(U==0)for(;P<=w;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<D;)if(V[U++]=O.charCodeAt(P++),U==this.blockSize){o(this,V),U=0;break}}else for(;P<D;)if(V[U++]=O[P++],U==this.blockSize){o(this,V),U=0;break}}this.h=U,this.o+=D},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var D=1;D<O.length-8;++D)O[D]=0;var w=8*this.o;for(D=O.length-8;D<O.length;++D)O[D]=w&255,w/=256;for(this.u(O),O=Array(16),D=w=0;4>D;++D)for(var V=0;32>V;V+=8)O[w++]=this.g[D]>>>V&255;return O};function h(O,D){var w=p;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=D(O)}function d(O,D){this.h=D;for(var w=[],V=!0,U=O.length-1;0<=U;U--){var P=O[U]|0;V&&P==D||(w[U]=P,V=!1)}this.g=w}var p={};function y(O){return-128<=O&&128>O?h(O,function(D){return new d([D|0],0>D?-1:0)}):new d([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return R;if(0>O)return L(g(-O));for(var D=[],w=1,V=0;O>=w;V++)D[V]=O/w|0,w*=4294967296;return new d(D,0)}function T(O,D){if(O.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O.charAt(0)=="-")return L(T(O.substring(1),D));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(D,8)),V=R,U=0;U<O.length;U+=8){var P=Math.min(8,O.length-U),N=parseInt(O.substring(U,U+P),D);8>P?(P=g(Math.pow(D,P)),V=V.j(P).add(g(N))):(V=V.j(w),V=V.add(g(N)))}return V}var R=y(0),E=y(1),A=y(16777216);a=d.prototype,a.m=function(){if(M(this))return-L(this).m();for(var O=0,D=1,w=0;w<this.g.length;w++){var V=this.i(w);O+=(0<=V?V:4294967296+V)*D,D*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(M(this))return"-"+L(this).toString(O);for(var D=g(Math.pow(O,6)),w=this,V="";;){var U=W(w,D).g;w=Q(w,U.j(D));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=U,I(w))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var D=0;D<O.g.length;D++)if(O.g[D]!=0)return!1;return!0}function M(O){return O.h==-1}a.l=function(O){return O=Q(this,O),M(O)?-1:I(O)?0:1};function L(O){for(var D=O.g.length,w=[],V=0;V<D;V++)w[V]=~O.g[V];return new d(w,~O.h).add(E)}a.abs=function(){return M(this)?L(this):this},a.add=function(O){for(var D=Math.max(this.g.length,O.g.length),w=[],V=0,U=0;U<=D;U++){var P=V+(this.i(U)&65535)+(O.i(U)&65535),N=(P>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);V=N>>>16,P&=65535,N&=65535,w[U]=N<<16|P}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Q(O,D){return O.add(L(D))}a.j=function(O){if(I(this)||I(O))return R;if(M(this))return M(O)?L(this).j(L(O)):L(L(this).j(O));if(M(O))return L(this.j(L(O)));if(0>this.l(A)&&0>O.l(A))return g(this.m()*O.m());for(var D=this.g.length+O.g.length,w=[],V=0;V<2*D;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<O.g.length;U++){var P=this.i(V)>>>16,N=this.i(V)&65535,Zt=O.i(U)>>>16,Jt=O.i(U)&65535;w[2*V+2*U]+=N*Jt,Y(w,2*V+2*U),w[2*V+2*U+1]+=P*Jt,Y(w,2*V+2*U+1),w[2*V+2*U+1]+=N*Zt,Y(w,2*V+2*U+1),w[2*V+2*U+2]+=P*Zt,Y(w,2*V+2*U+2)}for(V=0;V<D;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=D;V<2*D;V++)w[V]=0;return new d(w,0)};function Y(O,D){for(;(O[D]&65535)!=O[D];)O[D+1]+=O[D]>>>16,O[D]&=65535,D++}function z(O,D){this.g=O,this.h=D}function W(O,D){if(I(D))throw Error("division by zero");if(I(O))return new z(R,R);if(M(O))return D=W(L(O),D),new z(L(D.g),L(D.h));if(M(D))return D=W(O,L(D)),new z(L(D.g),D.h);if(30<O.g.length){if(M(O)||M(D))throw Error("slowDivide_ only works with positive integers.");for(var w=E,V=D;0>=V.l(O);)w=Z(w),V=Z(V);var U=rt(w,1),P=rt(V,1);for(V=rt(V,2),w=rt(w,2);!I(V);){var N=P.add(V);0>=N.l(O)&&(U=U.add(w),P=N),V=rt(V,1),w=rt(w,1)}return D=Q(O,U.j(D)),new z(U,D)}for(U=R;0<=O.l(D);){for(w=Math.max(1,Math.floor(O.m()/D.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=g(w),N=P.j(D);M(N)||0<N.l(O);)w-=V,P=g(w),N=P.j(D);I(P)&&(P=E),U=U.add(P),O=Q(O,N)}return new z(U,O)}a.A=function(O){return W(this,O).h},a.and=function(O){for(var D=Math.max(this.g.length,O.g.length),w=[],V=0;V<D;V++)w[V]=this.i(V)&O.i(V);return new d(w,this.h&O.h)},a.or=function(O){for(var D=Math.max(this.g.length,O.g.length),w=[],V=0;V<D;V++)w[V]=this.i(V)|O.i(V);return new d(w,this.h|O.h)},a.xor=function(O){for(var D=Math.max(this.g.length,O.g.length),w=[],V=0;V<D;V++)w[V]=this.i(V)^O.i(V);return new d(w,this.h^O.h)};function Z(O){for(var D=O.g.length+1,w=[],V=0;V<D;V++)w[V]=O.i(V)<<1|O.i(V-1)>>>31;return new d(w,O.h)}function rt(O,D){var w=D>>5;D%=32;for(var V=O.g.length-w,U=[],P=0;P<V;P++)U[P]=0<D?O.i(P+w)>>>D|O.i(P+w+1)<<32-D:O.i(P+w);return new d(U,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Sv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,Ar=d}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bv,jl,wv,Vu,Pf,Rv,Dv,Cv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var H=u[b];if(!(H in v))break t;v=v[H]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var v=0,b=!1,H={next:function(){if(!b&&v<u.length){var X=v++;return{value:m(X,u[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,v){return u.call.apply(u.bind,arguments)}function R(u,m,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),u.apply(m,H)}}return function(){return u.apply(m,arguments)}}function E(u,m,v){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,E.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function I(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,H,X){for(var at=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)at[Mt-2]=arguments[Mt];return m.prototype[H].apply(b,at)}}function M(u){const m=u.length;if(0<m){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function L(u,m){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(y(b)){const H=u.length||0,X=b.length||0;u.length=H+X;for(let at=0;at<X;at++)u[H+at]=b[at]}else u.push(b)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function W(u){return W[" "](u),u}W[" "]=function(){};var Z=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function rt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function O(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let v,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(v in b)u[v]=b[v];for(let X=0;X<w.length;X++)v=w[X],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function U(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function P(u){p.setTimeout(()=>{throw u},0)}function N(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Zt{constructor(){this.h=this.g=null}add(m,v){const b=Jt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Jt=new Q(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,dt=!1,jt=new Zt,k=()=>{const u=p.Promise.resolve(void 0);yt=()=>{u.then(it)}};var it=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){P(v)}var m=Jt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return u}();function bt(u,m){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Z){t:{try{W(m.nodeName);var H=!0;break t}catch{}H=!1}H||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}I(bt,lt);var Tt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function ae(u,m,v,b,H){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=H,this.key=++Vt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,v,b,H){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var at=dn(u,m,b,H);return-1<at?(m=u[at],v||(m.fa=!1)):(m=new ae(m,this.src,X,!!b,H),m.fa=v,u.push(m)),m};function ai(u,m){var v=m.type;if(v in u.g){var b=u.g[v],H=Array.prototype.indexOf.call(b,m,void 0),X;(X=0<=H)&&Array.prototype.splice.call(b,H,1),X&&(Ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function dn(u,m,v,b){for(var H=0;H<u.length;++H){var X=u[H];if(!X.da&&X.listener==m&&X.capture==!!v&&X.ha==b)return H}return-1}var ki="closure_lm_"+(1e6*Math.random()|0),Li={};function si(u,m,v,b,H){if(Array.isArray(m)){for(var X=0;X<m.length;X++)si(u,m[X],v,b,H);return null}return v=io(v),u&&u[te]?u.K(m,v,g(b)?!!b.capture:!1,H):Vs(u,m,v,!1,b,H)}function Vs(u,m,v,b,H,X){if(!m)throw Error("Invalid event type");var at=g(H)?!!H.capture:!!H,Mt=xs(u);if(Mt||(u[ki]=Mt=new Qe(u)),v=Mt.add(m,v,b,at,X),v.proxy)return v;if(b=Ta(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)ot||(H=at),H===void 0&&(H=!1),u.addEventListener(m.toString(),b,H);else if(u.attachEvent)u.attachEvent(Sa(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ta(){function u(v){return m.call(u.src,u.listener,v)}const m=_c;return u}function Aa(u,m,v,b,H){if(Array.isArray(m))for(var X=0;X<m.length;X++)Aa(u,m[X],v,b,H);else b=g(b)?!!b.capture:!!b,v=io(v),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(X=u.g[m],v=dn(X,v,b,H),-1<v&&(Ft(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete u.g[m],u.h--)))):u&&(u=xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=dn(m,v,b,H)),(v=-1<u?m[u]:null)&&Ir(v))}function Ir(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])ai(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Sa(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=xs(m))?(ai(v,u),v.h==0&&(v.src=null,m[ki]=null)):Ft(u)}}}function Sa(u){return u in Li?Li[u]:Li[u]="on"+u}function _c(u,m){if(u.da)u=!0;else{m=new bt(m,this);var v=u.listener,b=u.ha||u.src;u.fa&&Ir(u),u=v.call(b,m)}return u}function xs(u){return u=u[ki],u instanceof Qe?u:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function io(u){return typeof u=="function"?u:(u[Je]||(u[Je]=function(m){return u.handleEvent(m)}),u[Je])}function ye(){ht.call(this),this.i=new Qe(this),this.M=this,this.F=null}I(ye,ht),ye.prototype[te]=!0,ye.prototype.removeEventListener=function(u,m,v,b){Aa(this,u,m,v,b)};function Re(u,m){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new lt(m,u);else if(m instanceof lt)m.target=m.target||u;else{var H=m;m=new lt(b,u),V(m,H)}if(H=!0,v)for(var X=v.length-1;0<=X;X--){var at=m.g=v[X];H=li(at,b,!0,m)&&H}if(at=m.g=u,H=li(at,b,!0,m)&&H,H=li(at,b,!1,m)&&H,v)for(X=0;X<v.length;X++)at=m.g=v[X],H=li(at,b,!1,m)&&H}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],b=0;b<v.length;b++)Ft(v[b]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ye.prototype.L=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function li(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var H=!0,X=0;X<m.length;++X){var at=m[X];if(at&&!at.da&&at.capture==v){var Mt=at.listener,_e=at.ha||at.src;at.fa&&ai(u.i,at),H=Mt.call(_e,b)!==!1&&H}}return H&&!b.defaultPrevented}function ro(u,m,v){if(typeof u=="function")v&&(u=E(u,v));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Ms(u){u.g=ro(()=>{u.g=null,u.i&&(u.i=!1,Ms(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ec extends ht{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(u){ht.call(this),this.h=u,this.g={}}I(Ur,ht);var ji=[];function Pe(u){rt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ir(m)},u),u.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),Pe(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=p.JSON.stringify,Ln=p.JSON.parse,Ye=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Us(){}Us.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function so(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){lt.call(this,"d")}I(zi,lt);function Vn(){lt.call(this,"c")}I(Vn,lt);var mn={},Bi=null;function ba(){return Bi=Bi||new ye}mn.La="serverreachability";function ks(u){lt.call(this,mn.La,u)}I(ks,lt);function Pi(u){const m=ba();Re(m,new ks(m))}mn.STAT_EVENT="statevent";function wa(u,m){lt.call(this,mn.STAT_EVENT,u),this.stat=m}I(wa,lt);function ce(u){const m=ba();Re(m,new wa(m,u))}mn.Ma="timingevent";function lo(u,m){lt.call(this,mn.Ma,u),this.size=m}I(lo,lt);function qi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function oo(u,m,v,b,H,X){u.info(function(){if(u.g)if(X)for(var at="",Mt=X.split("&"),_e=0;_e<Mt.length;_e++){var It=Mt[_e].split("=");if(1<It.length){var Oe=It[0];It=It[1];var Ee=Oe.split("_");at=2<=Ee.length&&Ee[1]=="type"?at+(Oe+"="+It+"&"):at+(Oe+"=redacted&")}}else at=null;else at=X;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+m+`
`+v+`
`+at})}function uo(u,m,v,b,H,X,at){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+m+`
`+v+`
`+X+" "+at})}function Gi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,v)+(b?" "+b:"")})}function zn(u,m){u.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var at=1;at<H.length;at++)H[at]=""}}}}return Is(v)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kr;function Ra(){}I(Ra,Us),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},kr=new Ra;function Bn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.R=b||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ls}function Ls(){this.i=null,this.g="",this.h=!1}var Fi={},Lr={};function xn(u,m,v){u.L=1,u.v=Br(se(m)),u.m=v,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),ee(u),u.A=se(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),fi(v.i,"t",b),u.C=0,v=u.j.J,u.h=new Ls,u.g=bo(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ec(E(u.Y,u,u.g),u.O)),m=u.U,v=u.g,b=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(ji[0]=H.toString()),H=ji);for(var X=0;X<H.length;X++){var at=si(v,H[X],b||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?D(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pi(),oo(u.i,u.u,u.A,u.l,u.R,u.m)}Bn.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=_n(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||po(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=pi?Pi(3):Pi(2)),Da(this);var v=this.g.Z();this.X=v;e:if(Xi(this)){var b=po(this.g);u="";var H=b.length,X=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),an(this);var at="";break e}this.h.i=new p.TextDecoder}for(m=0;m<H;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(X&&m==H-1)});b.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=v==200,uo(this.i,this.u,this.A,this.l,this.R,Ee,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,_e=this.g;if((Mt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Mt)){var It=Mt;break e}}It=null}if(v=It)Gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,v);else{this.o=!1,this.s=3,ce(12),tn(this),an(this);break t}}if(this.P){v=!0;let Ie;for(;!this.J&&this.C<at.length;)if(Ie=Qi(this,at),Ie==Lr){Ee==4&&(this.s=4,ce(14),v=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Fi){this.s=4,ce(15),Gi(this.i,this.l,at,"[Invalid Chunk]"),v=!1;break}else Gi(this.i,this.l,Ie,null),sn(this,Ie);if(Xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||at.length!=0||this.h.h||(this.s=1,ce(16),v=!1),this.o=this.o&&v,!v)Gi(this.i,this.l,at,"[Invalid Chunked Response]"),tn(this),an(this);else if(0<at.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Qr(Oe),Oe.M=!0,ce(11))}}else Gi(this.i,this.l,at,null),sn(this,at);Ee==4&&tn(this),this.o&&!this.J&&(Ee==4?To(this.j,this):(this.o=!1,ee(this)))}else Rc(this.g),v==400&&0<at.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),tn(this),an(this)}}}catch{}finally{}};function Xi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qi(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Lr:(v=Number(m.substring(v,b)),isNaN(v)?Fi:(b+=1,b+v>m.length?Lr:(m=m.slice(b,b+v),u.C=b+v,m)))}Bn.prototype.cancel=function(){this.J=!0,tn(this)};function ee(u){u.S=Date.now()+u.I,js(u,u.I)}function js(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qi(E(u.ba,u),m)}function Da(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(zn(this.i,this.A),this.L!=2&&(Pi(),ce(17)),tn(this),this.s=2,an(this)):js(this,this.S-u)};function an(u){u.j.G==0||u.J||To(u.j,u)}function tn(u){Da(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sn(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Yi(v.h,u))){if(!u.K&&Yi(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)La(v),Ua(v);else break t;Ks(v),ce(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=qi(E(v.Za,v),6e3));if(1>=co(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gi(v,11)}else if((u.K||v.g==u)&&La(v),!Y(m))for(H=v.Da.g.parse(m),m=0;m<H.length;m++){let It=H[m];if(v.T=It[0],It=It[1],v.G==2)if(It[0]=="c"){v.K=It[1],v.ia=It[2];const Oe=It[3];Oe!=null&&(v.la=Oe,v.j.info("VER="+v.la));const Ee=It[4];Ee!=null&&(v.Aa=Ee,v.j.info("SVER="+v.Aa));const pi=It[5];pi!=null&&typeof pi=="number"&&0<pi&&(b=1.5*pi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ie=u.g;if(Ie){const Qn=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var X=b.h;X.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ki(X,X.h),X.h=null))}if(b.D){const Zs=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(b.ya=Zs,Bt(b.I,b.D,Zs))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var at=u;if(b.qa=So(b,b.J?b.ia:null,b.W),at.K){gn(b.h,at);var Mt=at,_e=b.L;_e&&(Mt.I=_e),Mt.B&&(Da(Mt),ee(Mt)),b.g=at}else _o(b);0<v.i.length&&ka(v)}else It[0]!="stop"&&It[0]!="close"||gi(v,7);else v.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?gi(v,7):Qs(v):It[0]!="noop"&&v.l&&v.l.ta(It),v.v=0)}}Pi(4)}catch{}}var Tc=class{constructor(u,m){this.g=u,this.map=m}};function zs(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function co(u){return u.h?1:u.g?u.g.size:0}function Yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ki(u,m){u.g?u.g.add(m):u.h=m}function gn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zs.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ke(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return M(u.i)}function ho(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],v=u.length,b=0;b<v;b++)m.push(u[b]);return m}m=[],v=0;for(b in u)m[v++]=u[b];return m}function Ac(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const b in u)m[v++]=b;return m}}}function jr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ac(u),b=ho(u),H=b.length,X=0;X<H;X++)m.call(void 0,b[X],v&&v[X],u)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),H=null;if(0<=b){var X=u[v].substring(0,b);H=u[v].substring(b+1)}else X=u[v];m(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ci(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ci){this.h=u.h,$i(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.s),this.l=u.l;var m=u.i,v=new Pn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Oa(this,v),this.m=u.m}else u&&(m=String(u).match(Ps))?(this.h=!1,$i(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),zr(this,m[4]),this.l=Zi(m[5]||"",!0),Oa(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new Pn(null,this.h))}ci.prototype.toString=function(){var u=[],m=this.j;m&&u.push(pn(m,qs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pn(m,qs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pn(v,v.charAt(0)=="/"?Hs:fo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pn(v,wc)),u.join("")};function se(u){return new ci(u)}function $i(u,m,v){u.j=v?Zi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Oa(u,m,v){m instanceof Pn?(u.i=m,Gs(u.i,u.h)):(v||(m=pn(m,bc)),u.i=new Pn(m,u.h))}function Bt(u,m,v){u.i.set(m,v)}function Br(u){return Bt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Zi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pn(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Sc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,fo=/[#\?:]/g,Hs=/[#\?]/g,bc=/[#\?@]/g,wc=/#/g;function Pn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ca(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=Pn.prototype,a.add=function(u,m){yn(this),this.i=null,u=di(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Na(u,m){yn(u),m=di(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hi(u,m){return yn(u),m=di(u,m),u.g.has(m)}a.forEach=function(u,m){yn(this),this.g.forEach(function(v,b){v.forEach(function(H){u.call(m,H,b,this)},this)},this)},a.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){const H=u[b];for(let X=0;X<H.length;X++)v.push(m[b])}return v},a.V=function(u){yn(this);let m=[];if(typeof u=="string")hi(this,u)&&(m=m.concat(this.g.get(di(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},a.set=function(u,m){return yn(this),this.i=null,u=di(this,u),hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function fi(u,m,v){Na(u,m),0<v.length&&(u.i=null,u.g.set(di(u,m),M(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];const X=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var H=X;at[b]!==""&&(H+="="+encodeURIComponent(String(at[b]))),u.push(H)}}return this.i=u.join("&")};function di(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gs(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,b){var H=b.toLowerCase();b!=H&&(Na(this,b),fi(this,H,v))},u)),u.j=m}function mo(u,m){const v=new Hi;if(p.Image){const b=new Image;b.onload=A(vn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(vn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(vn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(vn,v,"TestLoadImage: timeout",!1,m,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Pr(u,m){const v=new Hi,b=new AbortController,H=setTimeout(()=>{b.abort(),vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(X=>{clearTimeout(H),X.ok?vn(v,"TestPingServer: ok",!0,m):vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(H),vn(v,"TestPingServer: error",!1,m)})}function vn(u,m,v,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(v)}catch{}}function qr(){this.g=new Ye}function qn(u,m,v){const b=v||"";try{jr(u,function(H,X){let at=H;g(H)&&(at=Is(H)),m.push(b+X+"="+encodeURIComponent(at))})}catch(H){throw m.push(b+"type="+encodeURIComponent("_badmap")),H}}function Wi(u){this.l=u.Ub||null,this.j=u.eb||!1}I(Wi,Us),Wi.prototype.g=function(){return new mi(this.l,this.j)},Wi.prototype.i=function(u){return function(){return u}}({});function mi(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(mi,ye),a=mi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&Fs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},a.Qa=function(u){this.g&&(this.response=u,Hn(this))},a.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xs(u){let m="";return rt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ce(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Xs(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Bt(u,m,v))}function Ht(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ht,ye);var Va=/^https?$/i,Hr=["POST","PUT"];a=Ht.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kr.g(),this.v=this.o?ao(this.o):ao(kr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(X){go(this,X);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)v.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())v.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),H=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Hr,m,void 0))||b||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,at]of v)this.g.setRequestHeader(X,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gr(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){go(this,X)}};function go(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xa(u),Fn(u)}function xa(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Fn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},a.bb=function(){Ma(this)};function Ma(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)ro(u.Ea,0,u);else if(Re(u,"readystatechange"),_n(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=at===0){var H=String(u.D).match(Ps)[1]||null;!H&&p.self&&p.self.location&&(H=p.self.location.protocol.slice(0,-1)),b=!Va.test(H?H.toLowerCase():"")}v=b}if(v)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var X=2<_n(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",xa(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Gr(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{v.onreadystatechange=b}catch{}}}function Gr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ln(m)}};function po(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(Y(u[b]))continue;var v=U(u[b]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=m[H]||[];m[H]=X,X.push(v)}O(m,function(b){return b.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ia(u){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,u),this.cb=Fr("retryDelaySeedMs",1e4,u),this.Wa=Fr("forwardChannelMaxRetries",2,u),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zs(u&&u.concurrentRequestLimit),this.Da=new qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ia.prototype,a.la=8,a.G=1,a.connect=function(u,m,v,b){ce(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=So(this,null,this.W),ka(this)};function Qs(u){if(yo(u),u.G==3){var m=u.U++,v=se(u.I);if(Bt(v,"SID",u.K),Bt(v,"RID",m),Bt(v,"TYPE","terminate"),Xr(u,v),m=new Bn(u,u.j,m),m.L=2,m.v=Br(se(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=bo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ee(m)}Ao(u)}function Ua(u){u.g&&(Qr(u),u.g.cancel(),u.g=null)}function yo(u){Ua(u),u.u&&(p.clearTimeout(u.u),u.u=null),La(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ka(u){if(!Bs(u.h)&&!u.s){u.s=!0;var m=u.Ga;yt||k(),dt||(yt(),dt=!0),jt.add(m,u),u.B=0}}function Dc(u,m){return co(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qi(E(u.Ga,u,m),$s(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new Bn(this,this.j,u);let X=this.o;if(this.S&&(X?(X=D(X),V(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=vo(this,H,m),v=se(this.I),Bt(v,"RID",u),Bt(v,"CVER",22),this.D&&Bt(v,"X-HTTP-Session-Id",this.D),Xr(this,v),X&&(this.O?m="headers="+encodeURIComponent(String(Xs(X)))+"&"+m:this.m&&Ce(v,this.m,X)),Ki(this.h,H),this.Ua&&Bt(v,"TYPE","init"),this.P?(Bt(v,"$req",m),Bt(v,"SID","null"),H.T=!0,xn(H,v,null)):xn(H,v,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||Bs(this.h)||Ys(this))};function Ys(u,m){var v;m?v=m.l:v=u.U++;const b=se(u.I);Bt(b,"SID",u.K),Bt(b,"RID",v),Bt(b,"AID",u.T),Xr(u,b),u.m&&u.o&&Ce(b,u.m,u.o),v=new Bn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=vo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ki(u.h,v),xn(v,b,m)}function Xr(u,m){u.H&&rt(u.H,function(v,b){Bt(m,b,v)}),u.l&&jr({},function(v,b){Bt(m,b,v)})}function vo(u,m,v){v=Math.min(u.i.length,v);var b=u.l?E(u.l.Na,u.l,u):null;t:{var H=u.i;let X=-1;for(;;){const at=["count="+v];X==-1?0<v?(X=H[0].g,at.push("ofs="+X)):X=0:at.push("ofs="+X);let Mt=!0;for(let _e=0;_e<v;_e++){let It=H[_e].g;const Oe=H[_e].map;if(It-=X,0>It)X=Math.max(0,H[_e].g-100),Mt=!1;else try{qn(Oe,at,"req"+It+"_")}catch{b&&b(Oe)}}if(Mt){b=at.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,b}function _o(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;yt||k(),dt||(yt(),dt=!0),jt.add(m,u),u.v=0}}function Ks(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qi(E(u.Fa,u),$s(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Eo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qi(E(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Ua(this),Eo(this))};function Qr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Eo(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=se(u.qa);Bt(m,"RID","rpc"),Bt(m,"SID",u.K),Bt(m,"AID",u.T),Bt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Bt(m,"TO",u.ja),Bt(m,"TYPE","xmlhttp"),Xr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Br(se(m)),v.m=null,v.P=!0,ui(v,u)}a.Za=function(){this.C!=null&&(this.C=null,Ua(this),Ks(this),ce(19))};function La(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function To(u,m){var v=null;if(u.g==m){La(u),Qr(u),u.g=null;var b=2}else if(Yi(u.h,m))v=m.D,gn(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var H=u.B;b=ba(),Re(b,new lo(b,v)),ka(u)}else _o(u);else if(H=m.s,H==3||H==0&&0<m.X||!(b==1&&Dc(u,m)||b==2&&Ks(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),H){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function $s(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=E(u.fb,u),b=u.Xa;const H=!b;b=new ci(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||$i(b,"https"),Br(b),H?mo(b.toString(),v):Pr(b.toString(),v)}else ce(2);u.G=0,u.l&&u.l.sa(m),Ao(u),yo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Ao(u){if(u.G=0,u.ka=[],u.l){const m=Ke(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function So(u,m,v){var b=v instanceof ci?se(v):new ci(v);if(b.g!="")m&&(b.g=m+"."+b.g),zr(b,b.s);else{var H=p.location;b=H.protocol,m=m?m+"."+H.hostname:H.hostname,H=+H.port;var X=new ci(null);b&&$i(X,b),m&&(X.g=m),H&&zr(X,H),v&&(X.l=v),b=X}return v=u.D,m=u.ya,v&&m&&Bt(b,v,m),Bt(b,"VER",u.la),Xr(u,b),b}function bo(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new Wi({eb:v})):new Ht(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}a=wo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ja(){}ja.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ye.call(this),this.g=new Ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}I($e,ye),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Qs(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Is(u),u=v);m.i.push(new Tc(m.Ya++,u)),m.G==3&&ka(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,$e.aa.N.call(this)};function Ro(u){zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(Ro,zi);function Do(){Vn.call(this),this.status=1}I(Do,Vn);function Xn(u){this.g=u}I(Xn,wo),Xn.prototype.ua=function(){Re(this.g,"a")},Xn.prototype.ta=function(u){Re(this.g,new Ro(u))},Xn.prototype.sa=function(u){Re(this.g,new Do)},Xn.prototype.ra=function(){Re(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Cv=function(){return new ja},Dv=function(){return ba()},Rv=mn,Pf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Vu=ve,oi.COMPLETE="complete",wv=oi,so.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,jl=so,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,bv=Ht}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const dy="@firebase/firestore",my="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new yv("@firebase/firestore");function fs(){return ya.logLevel}function ut(a,...e){if(ya.logLevel<=Lt.DEBUG){const i=e.map(ld);ya.debug(`Firestore (${Ds}): ${a}`,...i)}}function Mi(a,...e){if(ya.logLevel<=Lt.ERROR){const i=e.map(ld);ya.error(`Firestore (${Ds}): ${a}`,...i)}}function vs(a,...e){if(ya.logLevel<=Lt.WARN){const i=e.map(ld);ya.warn(`Firestore (${Ds}): ${a}`,...i)}}function ld(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a="Unexpected state"){const e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+a;throw Mi(e),new Error(e)}function Gt(a,e){a||_t()}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class zT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class BT{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Sr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},p=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Sr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new Ov(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Fe(e)}}class PT{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qT{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new PT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HT{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ST(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new gy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new gy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GT(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Dt(a,e){return a<e?-1:a>e?1:0}function qf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const h=Nv(),d=FT(h.encode(py(a,i)),h.encode(py(e,i)));return d!==0?d:Dt(s,o)}}i+=s>65535?2:1}return Dt(a.length,e.length)}function py(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function FT(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Dt(a[i],e[i]);return Dt(a.length,e.length)}function _s(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=-62135596800,vy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*vy);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<yy)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vy}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new be(0,0))}static max(){return new Et(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class Jn{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(),s===void 0?s=e.length-i:s>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Jn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const s=Jn.isNumericId(e),o=Jn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class Wt extends Jn{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new gt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const XT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends Jn{construct(e,i,s){return new ze(e,i,s)}static isValidIdentifier(e){return XT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new ze([_y])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new gt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new gt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new gt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(h(),o++)}if(h(),d)throw new gt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Wt.fromString(e))}static fromName(e){return new pt(Wt.fromString(e).popFirst(5))}static empty(){return new pt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function QT(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new Rr(o,pt.empty(),e)}function YT(a){return new Rr(a.readTime,a.key,Ql)}class Rr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Rr(Et.min(),pt.empty(),Ql)}static max(){return new Rr(Et.max(),pt.empty(),Ql)}}function KT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:Dt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(a){if(a.code!==nt.FAILED_PRECONDITION||a.message!==$T)throw a;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.reject(i)}static resolve(e){return new tt((i,s)=>{i(e)})}static reject(e){return new tt((i,s)=>{s(e)})}static waitFor(e){return new tt((i,s)=>{let o=0,h=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++h,d&&h===o&&i()},y=>s(y))}),d=!0,h===o&&i()})}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next(o=>o?tt.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new tt((s,o)=>{const h=e.length,d=new Array(h);let p=0;for(let y=0;y<h;y++){const g=y;i(e[g]).next(T=>{d[g]=T,++p,p===h&&s(d)},T=>o(T))}})}static doWhile(e,i){return new tt((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function WT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ec.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function nc(a){return a==null}function Hu(a){return a===0&&1/a==-1/0}function JT(a){return typeof a=="number"&&Number.isInteger(a)&&!Hu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="";function tA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Ey(e)),e=eA(a.get(i),e);return Ey(e)}function eA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case xv:i+="";break;default:i+=h}}return i}function Ey(a){return a+xv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function xr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Mv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||je.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=h??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new je(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,s,o,h){return this}insert(e,i,s){return new je(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new fn([])}unionWith(e){let i=new we(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Iv("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const nA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=nA.exec(a);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Cr(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="server_timestamp",kv="__type__",Lv="__previous_value__",jv="__local_write_time__";function ud(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[kv])===null||i===void 0?void 0:i.stringValue)===Uv}function ic(a){const e=a.mapValue.fields[Lv];return ud(e)?ic(e):e}function Yl(a){const e=Dr(a.mapValue.fields[jv].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,i,s,o,h,d,p,y,g){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g}}const Gu="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||Gu}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="__type__",rA="__max__",Du={mapValue:{}},Bv="__vector__",Fu="value";function Or(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ud(a)?4:sA(a)?9007199254740991:aA(a)?10:11:_t()}function ii(a,e){if(a===e)return!0;const i=Or(a);if(i!==Or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Yl(a).isEqual(Yl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Dr(o.timestampValue),p=Dr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Cr(o.bytesValue).isEqual(Cr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),p=fe(h.doubleValue);return d===p?Hu(d)===Hu(p):isNaN(d)&&isNaN(p)}return!1}(a,e);case 9:return _s(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Ty(d)!==Ty(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ii(d[y],p[y])))return!1;return!0}(a,e);default:return _t()}}function $l(a,e){return(a.values||[]).find(i=>ii(i,e))!==void 0}function Es(a,e){if(a===e)return 0;const i=Or(a),s=Or(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const p=fe(h.integerValue||h.doubleValue),y=fe(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(a,e);case 3:return Sy(a.timestampValue,e.timestampValue);case 4:return Sy(Yl(a),Yl(e));case 5:return qf(a.stringValue,e.stringValue);case 6:return function(h,d){const p=Cr(h),y=Cr(d);return p.compareTo(y)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const T=Dt(p[g],y[g]);if(T!==0)return T}return Dt(p.length,y.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Dt(fe(h.latitude),fe(d.latitude));return p!==0?p:Dt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return by(a.arrayValue,e.arrayValue);case 10:return function(h,d){var p,y,g,T;const R=h.fields||{},E=d.fields||{},A=(p=R[Fu])===null||p===void 0?void 0:p.arrayValue,I=(y=E[Fu])===null||y===void 0?void 0:y.arrayValue,M=Dt(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((T=I==null?void 0:I.values)===null||T===void 0?void 0:T.length)||0);return M!==0?M:by(A,I)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Du.mapValue&&d===Du.mapValue)return 0;if(h===Du.mapValue)return 1;if(d===Du.mapValue)return-1;const p=h.fields||{},y=Object.keys(p),g=d.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let R=0;R<y.length&&R<T.length;++R){const E=qf(y[R],T[R]);if(E!==0)return E;const A=Es(p[y[R]],g[T[R]]);if(A!==0)return A}return Dt(y.length,T.length)}(a.mapValue,e.mapValue);default:throw _t()}}function Sy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Dt(a,e);const i=Dr(a),s=Dr(e),o=Dt(i.seconds,s.seconds);return o!==0?o:Dt(i.nanos,s.nanos)}function by(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Es(i[o],s[o]);if(h)return h}return Dt(i.length,s.length)}function Ts(a){return Hf(a)}function Hf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Dr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Cr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return pt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Hf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Hf(i.fields[d])}`;return o+"}"}(a.mapValue):_t()}function xu(a){switch(Or(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ic(a);return e?16+xu(e):16;case 5:return 2*a.stringValue.length;case 6:return Cr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+xu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return xr(s.fields,(h,d)=>{o+=h.length+xu(d)}),o}(a.mapValue);default:throw _t()}}function Gf(a){return!!a&&"integerValue"in a}function cd(a){return!!a&&"arrayValue"in a}function wy(a){return!!a&&"nullValue"in a}function Ry(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Mu(a){return!!a&&"mapValue"in a}function aA(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[zv])===null||i===void 0?void 0:i.stringValue)===Bv}function Pl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return xr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Pl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function sA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===rA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Mu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=ze.emptyPath(),s={},o=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=Pl(d):o.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Mu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){xr(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new rn(Pl(this.value))}}function Pv(a){const e=[];return xr(a.fields,(i,s)=>{const o=new ze([i]);if(Mu(s)){const h=Pv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),rn.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i){this.position=e,this.inclusive=i}}function Dy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Es(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Cy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ii(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i="asc"){this.field=e,this.dir=i}}function lA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{}class Se extends qv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new uA(e,i,s):i==="array-contains"?new fA(e,s):i==="in"?new dA(e,s):i==="not-in"?new mA(e,s):i==="array-contains-any"?new gA(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new cA(e,s):new hA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Es(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends qv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return Hv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Hv(a){return a.op==="and"}function Gv(a){return oA(a)&&Hv(a)}function oA(a){for(const e of a.filters)if(e instanceof ri)return!1;return!0}function Ff(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+Ts(a.value);if(Gv(a))return a.filters.map(e=>Ff(e)).join(",");{const e=a.filters.map(i=>Ff(i)).join(",");return`${a.op}(${e})`}}function Fv(a,e){return a instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(a,e):a instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,p)=>h&&Fv(d,o.filters[p]),!0):!1}(a,e):void _t()}function Xv(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`}(a):a instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(Xv).join(" ,")+"}"}(a):"Filter"}class uA extends Se{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class cA extends Se{constructor(e,i){super(e,"in",i),this.keys=Qv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class hA extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Qv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Qv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class fA extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&$l(i.arrayValue,this.value)}}class dA extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class mA extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!$l(this.value.arrayValue,i)}}class gA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>$l(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,i=null,s=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.le=null}}function Oy(a,e=null,i=[],s=[],o=null,h=null,d=null){return new pA(a,e,i,s,o,h,d)}function hd(a){const e=St(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Ff(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ts(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ts(s)).join(",")),e.le=i}return e.le}function fd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!lA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Fv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Cy(a.startAt,e.startAt)&&Cy(a.endAt,e.endAt)}function Xf(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i=null,s=[],o=[],h=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yA(a,e,i,s,o,h,d,p){return new rc(a,e,i,s,o,h,d,p)}function Yv(a){return new rc(a)}function Ny(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function vA(a){return a.collectionGroup!==null}function ql(a){const e=St(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new we(ze.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Qu(h,s))}),i.has(ze.keyField().canonicalString())||e.he.push(new Qu(ze.keyField(),s))}return e.he}function ti(a){const e=St(a);return e.Pe||(e.Pe=_A(e,ql(a))),e.Pe}function _A(a,e){if(a.limitType==="F")return Oy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Qu(o.field,h)});const i=a.endAt?new Xu(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Xu(a.startAt.position,a.startAt.inclusive):null;return Oy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Qf(a,e,i){return new rc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function ac(a,e){return fd(ti(a),ti(e))&&a.limitType===e.limitType}function Kv(a){return`${hd(ti(a))}|lt:${a.limitType}`}function ds(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Xv(o)).join(", ")}]`),nc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ts(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ts(o)).join(",")),`Target(${s})`}(ti(a))}; limitType=${a.limitType})`}function sc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):pt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of ql(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,p,y){const g=Dy(d,p,y);return d.inclusive?g<=0:g<0}(s.startAt,ql(s),o)||s.endAt&&!function(d,p,y){const g=Dy(d,p,y);return d.inclusive?g>=0:g>0}(s.endAt,ql(s),o))}(a,e)}function EA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function $v(a){return(e,i)=>{let s=!1;for(const o of ql(a)){const h=TA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function TA(a,e,i){const s=a.field.isKeyField()?pt.comparator(e.key,i.key):function(h,d,p){const y=d.data.field(h),g=p.data.field(h);return y!==null&&g!==null?Es(y,g):_t()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return Mv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new re(pt.comparator);function Ii(){return AA}const Zv=new re(pt.comparator);function zl(...a){let e=Zv;for(const i of a)e=e.insert(i.key,i);return e}function Wv(a){let e=Zv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ga(){return Hl()}function Jv(){return Hl()}function Hl(){return new _a(a=>a.toString(),(a,e)=>a.isEqual(e))}const SA=new re(pt.comparator),bA=new we(pt.comparator);function Nt(...a){let e=bA;for(const i of a)e=e.add(i);return e}const wA=new we(Dt);function RA(){return wA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function t_(a){return{integerValue:""+a}}function DA(a,e){return JT(e)?t_(e):dd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this._=void 0}}function CA(a,e,i){return a instanceof Yu?function(o,h){const d={fields:{[kv]:{stringValue:Uv},[jv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ud(h)&&(h=ic(h)),h&&(d.fields[Lv]=h),{mapValue:d}}(i,e):a instanceof Zl?n_(a,e):a instanceof Wl?i_(a,e):function(o,h){const d=e_(o,h),p=Vy(d)+Vy(o.Ie);return Gf(d)&&Gf(o.Ie)?t_(p):dd(o.serializer,p)}(a,e)}function OA(a,e,i){return a instanceof Zl?n_(a,e):a instanceof Wl?i_(a,e):i}function e_(a,e){return a instanceof Ku?function(s){return Gf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Yu extends lc{}class Zl extends lc{constructor(e){super(),this.elements=e}}function n_(a,e){const i=r_(e);for(const s of a.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class Wl extends lc{constructor(e){super(),this.elements=e}}function i_(a,e){let i=r_(e);for(const s of a.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class Ku extends lc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Vy(a){return fe(a.integerValue||a.doubleValue)}function r_(a){return cd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function NA(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Wl&&o instanceof Wl?_s(s.elements,o.elements,ii):s instanceof Ku&&o instanceof Ku?ii(s.Ie,o.Ie):s instanceof Yu&&o instanceof Yu}(a.transform,e.transform)}class VA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class oc{}function a_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new l_(a.key,ei.none()):new Jl(a.key,a.data,ei.none());{const i=a.data,s=rn.empty();let o=new we(ze.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Mr(a.key,s,new fn(o.toArray()),ei.none())}}function xA(a,e,i){a instanceof Jl?function(o,h,d){const p=o.value.clone(),y=My(o.fieldTransforms,h,d.transformResults);p.setAll(y),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):a instanceof Mr?function(o,h,d){if(!Iu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=My(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(s_(o)),y.setAll(p),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Gl(a,e,i,s){return a instanceof Jl?function(h,d,p,y){if(!Iu(h.precondition,d))return p;const g=h.value.clone(),T=Iy(h.fieldTransforms,y,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(a,e,i,s):a instanceof Mr?function(h,d,p,y){if(!Iu(h.precondition,d))return p;const g=Iy(h.fieldTransforms,y,d),T=d.data;return T.setAll(s_(h)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(a,e,i,s):function(h,d,p){return Iu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(a,e,i)}function MA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=e_(s.transform,o||null);h!=null&&(i===null&&(i=rn.empty()),i.set(s.field,h))}return i||null}function xy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_s(s,o,(h,d)=>NA(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Jl extends oc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends oc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function s_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function My(a,e,i){const s=new Map;Gt(a.length===i.length);for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=e.data.field(h.field);s.set(h.field,OA(d,p,i[o]))}return s}function Iy(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,CA(h,d,e))}return s}class l_ extends oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IA extends oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&xA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Gl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Gl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Jv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const y=a_(d,p);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,s)=>xy(i,s))&&_s(this.baseMutations,e.baseMutations,(i,s)=>xy(i,s))}}class md{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=function(){return SA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new md(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,kt;function jA(a){switch(a){case nt.OK:return _t();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return _t()}}function o_(a){if(a===void 0)return Mi("GRPC error has no .code"),nt.UNKNOWN;switch(a){case pe.OK:return nt.OK;case pe.CANCELLED:return nt.CANCELLED;case pe.UNKNOWN:return nt.UNKNOWN;case pe.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case pe.INTERNAL:return nt.INTERNAL;case pe.UNAVAILABLE:return nt.UNAVAILABLE;case pe.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case pe.NOT_FOUND:return nt.NOT_FOUND;case pe.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case pe.ABORTED:return nt.ABORTED;case pe.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case pe.DATA_LOSS:return nt.DATA_LOSS;default:return _t()}}(kt=pe||(pe={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new Ar([4294967295,4294967295],0);function Uy(a){const e=Nv().encode(a),i=new Sv;return i.update(e),new Uint8Array(i.digest())}function ky(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ar([i,s],0),new Ar([o,h],0)]}class gd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ar.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Ar.fromNumber(s)));return o.compare(zA)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Uy(e),[s,o]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new gd(h,o,i);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const i=Uy(e),[s,o]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,to.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new uc(Et.min(),o,new re(Dt),Ii(),Nt())}}class to{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new to(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class u_{constructor(e,i){this.targetId=e,this.ge=i}}class c_{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Ly{constructor(){this.pe=0,this.ye=jy(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new to(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=jy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class BA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ii(),this.$e=Cu(),this.Ue=Cu(),this.Ke=new re(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Xf(h))if(s===0){const d=new pt(h.path);this.ze(i,d,Xe.newNoDocument(d,Et.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const p=this.tt(e),y=p?this.nt(p,e,d):1;if(y!==0){this.Ye(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,g)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Cr(s).toUint8Array()}catch(y){if(y instanceof Iv)return vs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new gd(d,o,h)}catch(y){return vs(y instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.Ee===0?null:p}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const p=this.Xe(d);if(p){if(h.current&&Xf(p.target)){const y=new pt(p.target.path);this._t(y).has(d)||this.ut(d,y)||this.ze(d,y,Xe.newNoDocument(y,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Nt();this.Ue.forEach((h,d)=>{let p=!0;d.forEachWhile(y=>{const g=this.Xe(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new uc(e,i,this.Ke,this.Qe,s);return this.Qe=Ii(),this.$e=Cu(),this.Ue=Cu(),this.Ke=new re(Dt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Ly,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new we(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ly),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Cu(){return new re(pt.comparator)}function jy(){return new re(pt.comparator)}const PA={asc:"ASCENDING",desc:"DESCENDING"},qA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HA={and:"AND",or:"OR"};class GA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Yf(a,e){return a.useProto3Json||nc(e)?e:{value:e}}function $u(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function FA(a,e){return $u(a,e.toTimestamp())}function ni(a){return Gt(!!a),Et.fromTimestamp(function(i){const s=Dr(i);return new be(s.seconds,s.nanos)}(a))}function pd(a,e){return Kf(a,e).canonicalString()}function Kf(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function f_(a){const e=Wt.fromString(a);return Gt(y_(e)),e}function $f(a,e){return pd(a.databaseId,e.path)}function Nf(a,e){const i=f_(e);if(i.get(1)!==a.databaseId.projectId)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(m_(i))}function d_(a,e){return pd(a.databaseId,e)}function XA(a){const e=f_(a);return e.length===4?Wt.emptyPath():m_(e)}function Zf(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function m_(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function zy(a,e,i){return{name:$f(a,e),fields:i.value.mapValue.fields}}function QA(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(g,T){return g.useProto3Json?(Gt(T===void 0||typeof T=="string"),Be.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Be.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(g){const T=g.code===void 0?nt.UNKNOWN:o_(g.code);return new gt(T,g.message||"")}(d);i=new c_(s,o,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nf(a,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):Et.min(),p=new rn({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(o,h,d,p),g=s.targetIds||[],T=s.removedTargetIds||[];i=new Uu(g,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Nf(a,s.document),h=s.readTime?ni(s.readTime):Et.min(),d=Xe.newNoDocument(o,h),p=s.removedTargetIds||[];i=new Uu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Nf(a,s.document),h=s.removedTargetIds||[];i=new Uu([],h,o,null)}else{if(!("filter"in e))return _t();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new LA(o,h),p=s.targetId;i=new u_(p,d)}}return i}function YA(a,e){let i;if(e instanceof Jl)i={update:zy(a,e.key,e.value)};else if(e instanceof l_)i={delete:$f(a,e.key)};else if(e instanceof Mr)i={update:zy(a,e.key,e.data),updateMask:iS(e.fieldMask)};else{if(!(e instanceof IA))return _t();i={verify:$f(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const p=d.transform;if(p instanceof Yu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ku)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw _t()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:FA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t()}(a,e.precondition)),i}function KA(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(Et.min())&&(d=ni(h)),new VA(d,o.transformResults||[])}(i,e))):[]}function $A(a,e){return{documents:[d_(a,e.path)]}}function ZA(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=d_(a,o);const h=function(g){if(g.length!==0)return p_(ri.create(g,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(g){if(g.length!==0)return g.map(T=>function(E){return{field:ms(E.field),direction:tS(E.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Yf(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:i,parent:o}}function WA(a){let e=XA(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(R){const E=g_(R);return E instanceof ri&&Gv(E)?E.getFilters():[E]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(E=>function(I){return new Qu(gs(I.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(E))}(i.orderBy));let p=null;i.limit&&(p=function(R){let E;return E=typeof R=="object"?R.value:R,nc(E)?null:E}(i.limit));let y=null;i.startAt&&(y=function(R){const E=!!R.before,A=R.values||[];return new Xu(A,E)}(i.startAt));let g=null;return i.endAt&&(g=function(R){const E=!R.before,A=R.values||[];return new Xu(A,E)}(i.endAt)),yA(e,o,d,h,p,"F",y,g)}function JA(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function g_(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=gs(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=gs(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gs(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(gs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(s=>g_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(a):_t()}function tS(a){return PA[a]}function eS(a){return qA[a]}function nS(a){return HA[a]}function ms(a){return{fieldPath:a.canonicalString()}}function gs(a){return ze.fromServerFormat(a.fieldPath)}function p_(a){return a instanceof Se?function(i){if(i.op==="=="){if(Ry(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(wy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ry(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(wy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:eS(i.op),value:i.value}}}(a):a instanceof ri?function(i){const s=i.getFilters().map(o=>p_(o));return s.length===1?s[0]:{compositeFilter:{op:nS(i.op),filters:s}}}(a):_t()}function iS(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function y_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,s,o,h=Et.min(),d=Et.min(),p=Be.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.Tt=e}}function aS(a){const e=WA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Tn=new lS}addToCollectionParentIndex(e,i){return this.Tn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(Rr.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class lS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v_=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(v_,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new As(0)}static Kn(){return new As(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LruGarbageCollector",oS=1048576;function qy([a,e],[i,s]){const o=Dt(a,i);return o===0?Dt(e,s):o}class uS{constructor(e){this.Hn=e,this.buffer=new we(qy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();qy(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ut(Py,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?ut(Py,"Ignoring IndexedDB error during garbage collection: ",i):await Cs(i)}await this.er(3e5)})}}class hS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(ec.ae);const s=new uS(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(By)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),By):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,p,y,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,p=Date.now(),this.removeTargets(e,s,i))).next(R=>(h=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(g=Date.now(),fs()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(y-p)+`ms
	Removed ${R} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R})))}}function fS(a,e){return new hS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.changes=new _a(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Gl(s.mutation,o,fn.empty(),be.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=ga();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=zl();return h.forEach((p,y)=>{d=d.insert(p,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ga();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,s,o){let h=Ii();const d=Hl(),p=function(){return Hl()}();return i.forEach((y,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Mr)?h=h.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),Gl(T.mutation,g,T.mutation.getFieldMask(),be.now())):d.set(g.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((g,T)=>d.set(g,T)),i.forEach((g,T)=>{var R;return p.set(g,new mS(T,(R=d.get(g))!==null&&R!==void 0?R:null))}),p))}recalculateAndSaveOverlays(e,i){const s=Hl();let o=new re((d,p)=>d-p),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let T=s.get(y)||fn.empty();T=p.applyToLocalView(g,T),s.set(y,T);const R=(o.get(p.batchId)||Nt()).add(y);o=o.insert(p.batchId,R)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,T=y.value,R=Jv();T.forEach(E=>{if(!h.has(E)){const A=a_(i.get(E),s.get(E));A!==null&&R.set(E,A),h=h.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,R))}return tt.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):vA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):tt.resolve(ga());let p=Ql,y=h;return d.next(g=>tt.forEach(g,(T,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(e,T).next(E=>{y=y.insert(T,E)}))).next(()=>this.populateOverlays(e,g,h)).next(()=>this.computeViews(e,y,g,Nt())).next(T=>({batchId:p,changes:Wv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,h).next(p=>tt.forEach(p,y=>{const g=function(R,E){return new rc(E,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((R,E)=>{d=d.insert(R,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((y,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))});let p=zl();return d.forEach((y,g)=>{const T=h.get(y);T!==void 0&&Gl(T.mutation,g,fn.empty(),be.now()),sc(i,g)&&(p=p.insert(y,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return tt.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:aS(o.bundledQuery),readTime:ni(o.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.overlays=new re(pt.comparator),this.Rr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ga();return tt.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),tt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const o=ga(),h=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===h&&y.largestBatchId>s&&o.set(y.getKey(),y)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new re((g,T)=>g-T);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let T=h.get(g.largestBatchId);T===null&&(T=ga(),h=h.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=ga(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,T)=>p.set(g,T)),!(p.size()>=o)););return tt.resolve(p)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new kA(i,s));let h=this.Rr.get(i);h===void 0&&(h=Nt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new pt(new Wt([])),s=new Me(i,e),o=new Me(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new pt(new Wt([])),s=new Me(i,e),o=new Me(i,e+1);let h=Nt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return pt.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new UA(h,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Mr=this.Mr.add(new Me(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return tt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?od:this.Fr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const p=this.Or(d.Cr);h.push(p)}),tt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Dt);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],p=>{s=s.add(p.Cr)})}),tt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;pt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new pt(h),0);let p=new we(Dt);return this.Mr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(y.Cr)),!0)},d),tt.resolve(this.Br(p))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return tt.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Me(i,0),o=this.Mr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.kr=e,this.docs=function(){return new re(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Ii();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ii();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||KT(YT(T),s)<=0||(o.has(T.key)||sc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return tt.resolve(h)}getAllFromCollectionGroup(e,i,s,o){_t()}qr(e,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new TS(this)}getSize(e){return tt.resolve(this.size)}}class TS extends dS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),tt.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.persistence=e,this.Qr=new _a(i=>hd(i),fd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yd,this.targetCount=0,this.Kr=As.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),tt.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new As(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.zn(i),tt.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),tt.waitFor(h).next(()=>o)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),tt.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new ec(0),this.zr=!1,this.zr=!0,this.jr=new vS,this.referenceDelegate=e(this),this.Hr=new AS(this),this.indexManager=new sS,this.remoteDocumentCache=function(o){return new ES(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new rS(i),this.Yr=new pS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new _S(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new SS(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return tt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class SS extends ZT{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.ti=new yd,this.ni=null}static ri(e){return new vd(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),tt.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return tt.or([()=>tt.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Zu{constructor(e,i){this.persistence=e,this.oi=new _a(s=>tA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=fS(this,i)}static ri(e,i){return new Zu(e,i)}Zr(){}Xr(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return tt.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?tt.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(p=>{p||(s++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),tt.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=xu(e.data.value)),i}ar(e,i,s){return tt.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new _d(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return E1()?8:WT(v1())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new bS;return this._s(e,i,d).next(p=>{if(h.result=p,this.Xi)return this.us(e,i,d,p.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(fs()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(fs()<=Lt.DEBUG&&ut("QueryEngine","Query:",ds(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(fs()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):tt.resolve())}rs(e,i){if(Ny(i))return tt.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Qf(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(y=>{const g=this.cs(i,p);return this.ls(i,g,d,y.readTime)?this.rs(e,Qf(i,null,"F")):this.hs(e,g,i,y)}))})))}ss(e,i,s,o){return Ny(i)||o.isEqual(Et.min())?tt.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?tt.resolve(null):(fs()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ds(i)),this.hs(e,d,i,QT(o,Ql)).next(p=>p))})}cs(e,i){let s=new we($v(e));return i.forEach((o,h)=>{sc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return fs()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ds(i)),this.ns.getDocumentsMatchingQuery(e,i,Rr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="LocalStore",RS=3e8;class DS{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new re(Dt),this.Is=new _a(h=>hd(h),fd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function CS(a,e,i,s){return new DS(a,e,i,s)}async function E_(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],p=[];let y=Nt();for(const g of o){d.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of h){p.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next(g=>({Rs:g,removedBatchIds:d,addedBatchIds:p}))})})}function OS(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(p,y,g,T){const R=g.batch,E=R.keys();let A=tt.resolve();return E.forEach(I=>{A=A.next(()=>T.getEntry(y,I)).next(M=>{const L=g.docVersions.get(I);Gt(L!==null),M.version.compareTo(L)<0&&(R.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),T.addEntry(M)))})}),A.next(()=>p.mutationQueue.removeMutationBatch(y,R))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let y=Nt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function T_(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function NS(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const p=[];e.targetChanges.forEach((T,R)=>{const E=o.get(R);if(!E)return;p.push(i.Hr.removeMatchingKeys(h,T.removedDocuments,R).next(()=>i.Hr.addMatchingKeys(h,T.addedDocuments,R)));let A=E.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?A=A.withResumeToken(Be.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(T.resumeToken,s)),o=o.insert(R,A),function(M,L,Q){return M.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=RS?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(E,A,T)&&p.push(i.Hr.updateTargetData(h,A))});let y=Ii(),g=Nt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),p.push(VS(h,d,e.documentUpdates).next(T=>{y=T.Vs,g=T.fs})),!s.isEqual(Et.min())){const T=i.Hr.getLastRemoteSnapshotVersion(h).next(R=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));p.push(T)}return tt.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,g)).next(()=>y)}).then(h=>(i.Ts=o,h))}function VS(a,e,i){let s=Nt(),o=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Ii();return i.forEach((p,y)=>{const g=h.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ut(Ed,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)}),{Vs:d,fs:o}})}function xS(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function MS(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,tt.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new _r(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Wf(a,e,i){const s=St(a),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Os(d))throw d;ut(Ed,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Hy(a,e,i){const s=St(a);let o=Et.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,g,T){const R=St(y),E=R.Is.get(T);return E!==void 0?tt.resolve(R.Ts.get(E)):R.Hr.getTargetData(g,T)}(s,d,ti(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,p.targetId).next(y=>{h=y})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Nt())).next(p=>(IS(s,EA(e),p),{documents:p,gs:h})))}function IS(a,e,i){let s=a.Es.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class Gy{constructor(){this.activeTargetIds=RA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class US{constructor(){this.ho=new Gy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Gy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="ConnectivityMonitor";class Xy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(Fy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ut(Fy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Jf(){return Ou===null?Ou=function(){return 268435456+Math.round(2147483648*Math.random())}():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="RestConnection",LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Gu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=Jf(),p=this.bo(e,i.toUriEncodedString());ut(Vf,`Sending RPC '${e}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,o,h),this.vo(e,p,y,s).then(g=>(ut(Vf,`Received RPC '${e}' ${d}: `,g),g),g=>{throw vs(Vf,`RPC '${e}' ${d} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ds}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=LS[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class BS extends jS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=Jf();return new Promise((d,p)=>{const y=new bv;y.setWithCredentials(!0),y.listenOnce(wv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Vu.NO_ERROR:const T=y.getResponseJson();ut(Ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case Vu.TIMEOUT:ut(Ge,`RPC '${e}' ${h} timed out`),p(new gt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const R=y.getStatus();if(ut(Ge,`RPC '${e}' ${h} failed with status:`,R,"response text:",y.getResponseText()),R>0){let E=y.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const I=function(L){const Q=L.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(Q)>=0?Q:nt.UNKNOWN}(A.status);p(new gt(I,A.message))}else p(new gt(nt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new gt(nt.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{ut(Ge,`RPC '${e}' ${h} completed.`)}});const g=JSON.stringify(o);ut(Ge,`RPC '${e}' ${h} sending request:`,o),y.send(i,"POST",g,s,15)})}Wo(e,i,s){const o=Jf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Cv(),p=Dv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=h.join("");ut(Ge,`Creating RPC '${e}' stream ${o}: ${T}`,y);const R=d.createWebChannel(T,y);let E=!1,A=!1;const I=new zS({Fo:L=>{A?ut(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(E||(ut(Ge,`Opening RPC '${e}' stream ${o} transport.`),R.open(),E=!0),ut(Ge,`RPC '${e}' stream ${o} sending:`,L),R.send(L))},Mo:()=>R.close()}),M=(L,Q,Y)=>{L.listen(Q,z=>{try{Y(z)}catch(W){setTimeout(()=>{throw W},0)}})};return M(R,jl.EventType.OPEN,()=>{A||(ut(Ge,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),M(R,jl.EventType.CLOSE,()=>{A||(A=!0,ut(Ge,`RPC '${e}' stream ${o} transport closed`),I.Uo())}),M(R,jl.EventType.ERROR,L=>{A||(A=!0,vs(Ge,`RPC '${e}' stream ${o} transport errored:`,L),I.Uo(new gt(nt.UNAVAILABLE,"The operation could not be completed")))}),M(R,jl.EventType.MESSAGE,L=>{var Q;if(!A){const Y=L.data[0];Gt(!!Y);const z=Y,W=(z==null?void 0:z.error)||((Q=z[0])===null||Q===void 0?void 0:Q.error);if(W){ut(Ge,`RPC '${e}' stream ${o} received error:`,W);const Z=W.status;let rt=function(w){const V=pe[w];if(V!==void 0)return o_(V)}(Z),O=W.message;rt===void 0&&(rt=nt.INTERNAL,O="Unknown error status: "+Z+" with message "+W.message),A=!0,I.Uo(new gt(rt,O)),R.close()}else ut(Ge,`RPC '${e}' stream ${o} received:`,Y),I.Ko(Y)}}),M(p,Rv.STAT_EVENT,L=>{L.stat===Pf.PROXY?ut(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Pf.NOPROXY&&ut(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(a){return new GA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="PersistentStream";class S_{constructor(e,i,s,o,h,d,p,y){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new A_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new gt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ut(Qy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ut(Qy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PS extends S_{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=QA(this.serializer,e),s=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ni(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,d){let p;const y=d.target;if(p=Xf(y)?{documents:$A(h,y)}:{query:ZA(h,y).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=h_(h,d.resumeToken);const g=Yf(h,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=$u(h,d.snapshotVersion.toTimestamp());const g=Yf(h,d.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=JA(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.I_(i)}}class qS extends S_{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=KA(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Zf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>YA(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class GS extends HS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Kf(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new gt(nt.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,Kf(i,s),o,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(nt.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class FS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):ut("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class XS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ea(this)&&(ut(va,"Restarting streams for network reachability change."),await async function(y){const g=St(y);g.W_.add(4),await eo(g),g.j_.set("Unknown"),g.W_.delete(4),await hc(g)}(this))})}),this.j_=new FS(s,o)}}async function hc(a){if(Ea(a))for(const e of a.G_)await e(!0)}async function eo(a){for(const e of a.G_)await e(!1)}function b_(a,e){const i=St(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),bd(i)?Sd(i):Ns(i).c_()&&Ad(i,e))}function Td(a,e){const i=St(a),s=Ns(i);i.K_.delete(e),s.c_()&&w_(i,e),i.K_.size===0&&(s.c_()?s.P_():Ea(i)&&i.j_.set("Unknown"))}function Ad(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(a).y_(e)}function w_(a,e){a.H_.Ne(e),Ns(a).w_(e)}function Sd(a){a.H_=new BA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Ns(a).start(),a.j_.B_()}function bd(a){return Ea(a)&&!Ns(a).u_()&&a.K_.size>0}function Ea(a){return St(a).W_.size===0}function R_(a){a.H_=void 0}async function QS(a){a.j_.set("Online")}async function YS(a){a.K_.forEach((e,i)=>{Ad(a,e)})}async function KS(a,e){R_(a),bd(a)?(a.j_.q_(e),Sd(a)):a.j_.set("Unknown")}async function $S(a,e,i){if(a.j_.set("Online"),e instanceof c_&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const p of h.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.K_.delete(p),o.H_.removeTarget(p))}(a,e)}catch(s){ut(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wu(a,s)}else if(e instanceof Uu?a.H_.We(e):e instanceof u_?a.H_.Ze(e):a.H_.je(e),!i.isEqual(Et.min()))try{const s=await T_(a.localStore);i.compareTo(s)>=0&&await function(h,d){const p=h.H_.ot(d);return p.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const T=h.K_.get(g);T&&h.K_.set(g,T.withResumeToken(y.resumeToken,d))}}),p.targetMismatches.forEach((y,g)=>{const T=h.K_.get(y);if(!T)return;h.K_.set(y,T.withResumeToken(Be.EMPTY_BYTE_STRING,T.snapshotVersion)),w_(h,y);const R=new _r(T.target,y,g,T.sequenceNumber);Ad(h,R)}),h.remoteSyncer.applyRemoteEvent(p)}(a,i)}catch(s){ut(va,"Failed to raise snapshot:",s),await Wu(a,s)}}async function Wu(a,e,i){if(!Os(e))throw e;a.W_.add(1),await eo(a),a.j_.set("Offline"),i||(i=()=>T_(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ut(va,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await hc(a)})}function D_(a,e){return e().catch(i=>Wu(a,i,e))}async function fc(a){const e=St(a),i=Nr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:od;for(;ZS(e);)try{const o=await xS(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,WS(e,o)}catch(o){await Wu(e,o)}C_(e)&&O_(e)}function ZS(a){return Ea(a)&&a.U_.length<10}function WS(a,e){a.U_.push(e);const i=Nr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function C_(a){return Ea(a)&&!Nr(a).u_()&&a.U_.length>0}function O_(a){Nr(a).start()}async function JS(a){Nr(a).C_()}async function tb(a){const e=Nr(a);for(const i of a.U_)e.b_(i.mutations)}async function eb(a,e,i){const s=a.U_.shift(),o=md.from(s,e,i);await D_(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await fc(a)}async function nb(a,e){e&&Nr(a).S_&&await async function(s,o){if(function(d){return jA(d)&&d!==nt.ABORTED}(o.code)){const h=s.U_.shift();Nr(s).h_(),await D_(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await fc(s)}}(a,e),C_(a)&&O_(a)}async function Yy(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ut(va,"RemoteStore received new credentials");const s=Ea(i);i.W_.add(3),await eo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await hc(i)}async function ib(a,e){const i=St(a);e?(i.W_.delete(2),await hc(i)):e||(i.W_.add(2),await eo(i),i.j_.set("Unknown"))}function Ns(a){return a.J_||(a.J_=function(i,s,o){const h=St(i);return h.M_(),new PS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:QS.bind(null,a),No:YS.bind(null,a),Lo:KS.bind(null,a),p_:$S.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),bd(a)?Sd(a):a.j_.set("Unknown")):(await a.J_.stop(),R_(a))})),a.J_}function Nr(a){return a.Y_||(a.Y_=function(i,s,o){const h=St(i);return h.M_(),new qS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:JS.bind(null,a),Lo:nb.bind(null,a),D_:tb.bind(null,a),v_:eb.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await fc(a)):(await a.Y_.stop(),a.U_.length>0&&(ut(va,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,p=new wd(e,i,d,o,h);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rd(a,e){if(Mi("AsyncQueue",`${e}: ${a}`),Os(a))return new gt(nt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=zl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Z_=new re(pt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ss{constructor(e,i,s,o,h,d,p,y,g){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new Ss(e,i,ys.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ab{constructor(){this.queries=$y(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=St(i),h=o.queries;o.queries=$y(),h.forEach((d,p)=>{for(const y of p.ta)y.onError(s)})})(this,new gt(nt.ABORTED,"Firestore shutting down"))}}function $y(){return new _a(a=>Kv(a),ac)}async function sb(a,e){const i=St(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new rb,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Rd(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Dd(i)}async function lb(a,e){const i=St(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ob(a,e){const i=St(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ta)p.oa(o)&&(s=!0);d.ea=o}}s&&Dd(i)}function ub(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function Dd(a){a.ia.forEach(e=>{e.next()})}var td,Zy;(Zy=td||(td={}))._a="default",Zy.Cache="cache";class cb{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ss(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.key=e}}class V_{constructor(e){this.key=e}}class hb{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=$v(e),this.wa=new ys(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Ky,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,R)=>{const E=o.get(T),A=sc(this.query,R)?R:null,I=!!E&&this.mutatedKeys.has(E.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;E&&A?E.data.isEqual(A.data)?I!==M&&(s.track({type:3,doc:A}),L=!0):this.va(E,A)||(s.track({type:2,doc:A}),L=!0,(y&&this.ya(A,y)>0||g&&this.ya(A,g)<0)&&(p=!0)):!E&&A?(s.track({type:0,doc:A}),L=!0):E&&!A&&(s.track({type:1,doc:E}),L=!0,(y||g)&&(p=!0)),L&&(A?(d=d.add(A),h=M?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:p,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,R)=>function(A,I){const M=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return M(A)-M(I)}(T.type,R.type)||this.ya(T.doc,R.doc)),this.Ca(s),o=o!=null&&o;const p=i&&!o?this.Fa():[],y=this.pa.size===0&&this.current&&!o?1:0,g=y!==this.ga;return this.ga=y,d.length!==0||g?{snapshot:new Ss(this.query,e.wa,h,d,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ky,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new V_(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new N_(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ss.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cd="SyncEngine";class fb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class db{constructor(e){this.key=e,this.Ba=!1}}class mb{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new _a(p=>Kv(p),ac),this.qa=new Map,this.Qa=new Set,this.$a=new re(pt.comparator),this.Ua=new Map,this.Ka=new yd,this.Wa={},this.Ga=new Map,this.za=As.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gb(a,e,i=!0){const s=L_(a);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await x_(s,e,i,!0),o}async function pb(a,e){const i=L_(a);await x_(i,e,!0,!1)}async function x_(a,e,i,s){const o=await MS(a.localStore,ti(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await yb(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&b_(a.remoteStore,o),p}async function yb(a,e,i,s,o){a.Ha=(R,E,A)=>async function(M,L,Q,Y){let z=L.view.ba(Q);z.ls&&(z=await Hy(M.localStore,L.query,!1).then(({documents:O})=>L.view.ba(O,z)));const W=Y&&Y.targetChanges.get(L.targetId),Z=Y&&Y.targetMismatches.get(L.targetId)!=null,rt=L.view.applyChanges(z,M.isPrimaryClient,W,Z);return Jy(M,L.targetId,rt.Ma),rt.snapshot}(a,R,E,A);const h=await Hy(a.localStore,e,!0),d=new hb(e,h.gs),p=d.ba(h.documents),y=to.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),g=d.applyChanges(p,a.isPrimaryClient,y);Jy(a,i,g.Ma);const T=new fb(e,i,d);return a.ka.set(e,T),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),g.snapshot}async function vb(a,e,i){const s=St(a),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!ac(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Wf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Td(s.remoteStore,o.targetId),ed(s,o.targetId)}).catch(Cs)):(ed(s,o.targetId),await Wf(s.localStore,o.targetId,!0))}async function _b(a,e){const i=St(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Td(i.remoteStore,s.targetId))}async function Eb(a,e,i){const s=Db(a);try{const o=await function(d,p){const y=St(d),g=be.now(),T=p.reduce((A,I)=>A.add(I.key),Nt());let R,E;return y.persistence.runTransaction("Locally write mutations","readwrite",A=>{let I=Ii(),M=Nt();return y.ds.getEntries(A,T).next(L=>{I=L,I.forEach((Q,Y)=>{Y.isValidDocument()||(M=M.add(Q))})}).next(()=>y.localDocuments.getOverlayedDocuments(A,I)).next(L=>{R=L;const Q=[];for(const Y of p){const z=MA(Y,R.get(Y.key).overlayedDocument);z!=null&&Q.push(new Mr(Y.key,z,Pv(z.value.mapValue),ei.exists(!0)))}return y.mutationQueue.addMutationBatch(A,g,Q,p)}).next(L=>{E=L;const Q=L.applyToLocalDocumentSet(R,M);return y.documentOverlayCache.saveOverlays(A,L.batchId,Q)})}).then(()=>({batchId:E.batchId,changes:Wv(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,p,y){let g=d.Wa[d.currentUser.toKey()];g||(g=new re(Dt)),g=g.insert(p,y),d.Wa[d.currentUser.toKey()]=g}(s,o.batchId,i),await no(s,o.changes),await fc(s.remoteStore)}catch(o){const h=Rd(o,"Failed to persist write");i.reject(h)}}async function M_(a,e){const i=St(a);try{const s=await NS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await no(i,s,e)}catch(s){await Cs(s)}}function Wy(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const p=d.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const y=St(d);y.onlineState=p;let g=!1;y.queries.forEach((T,R)=>{for(const E of R.ta)E.sa(p)&&(g=!0)}),g&&Dd(y)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Tb(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),h=o&&o.key;if(h){let d=new re(pt.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const p=Nt().add(h),y=new uc(Et.min(),new Map,new re(Dt),d,p);await M_(s,y),s.$a=s.$a.remove(h),s.Ua.delete(e),Od(s)}else await Wf(s.localStore,e,!1).then(()=>ed(s,e,i)).catch(Cs)}async function Ab(a,e){const i=St(a),s=e.batch.batchId;try{const o=await OS(i.localStore,e);U_(i,s,null),I_(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await no(i,o)}catch(o){await Cs(o)}}async function Sb(a,e,i){const s=St(a);try{const o=await function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return y.mutationQueue.lookupMutationBatch(g,p).next(R=>(Gt(R!==null),T=R.keys(),y.mutationQueue.removeMutationBatch(g,R))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>y.localDocuments.getDocuments(g,T))})}(s.localStore,e);U_(s,e,i),I_(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await no(s,o)}catch(o){await Cs(o)}}function I_(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function U_(a,e,i){const s=St(a);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function ed(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||k_(a,s)})}function k_(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(Td(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),Od(a))}function Jy(a,e,i){for(const s of i)s instanceof N_?(a.Ka.addReference(s.key,e),bb(a,s)):s instanceof V_?(ut(Cd,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||k_(a,s.key)):_t()}function bb(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ut(Cd,"New document in limbo: "+i),a.Qa.add(s),Od(a))}function Od(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new pt(Wt.fromString(e)),s=a.za.next();a.Ua.set(s,new db(i)),a.$a=a.$a.insert(i,s),b_(a.remoteStore,new _r(ti(Yv(i.path)),s,"TargetPurposeLimboResolution",ec.ae))}}async function no(a,e,i){const s=St(a),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((p,y)=>{d.push(s.Ha(y,e,i).then(g=>{var T;if((g||i)&&s.isPrimaryClient){const R=g?!g.fromCache:(T=i==null?void 0:i.targetChanges.get(y.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(g){o.push(g);const R=_d.Yi(y.targetId,g);h.push(R)}}))}),await Promise.all(d),s.La.p_(o),await async function(y,g){const T=St(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>tt.forEach(g,E=>tt.forEach(E.Hi,A=>T.persistence.referenceDelegate.addReference(R,E.targetId,A)).next(()=>tt.forEach(E.Ji,A=>T.persistence.referenceDelegate.removeReference(R,E.targetId,A)))))}catch(R){if(!Os(R))throw R;ut(Ed,"Failed to update sequence numbers: "+R)}for(const R of g){const E=R.targetId;if(!R.fromCache){const A=T.Ts.get(E),I=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(I);T.Ts=T.Ts.insert(E,M)}}}(s.localStore,h))}async function wb(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ut(Cd,"User change. New user:",e.toKey());const s=await E_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(p=>{p.forEach(y=>{y.reject(new gt(nt.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await no(i,s.Rs)}}function Rb(a,e){const i=St(a),s=i.Ua.get(e);if(s&&s.Ba)return Nt().add(s.key);{let o=Nt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const p=i.ka.get(d);o=o.unionWith(p.view.Sa)}return o}}function L_(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=M_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tb.bind(null,e),e.La.p_=ob.bind(null,e.eventManager),e.La.Ja=ub.bind(null,e.eventManager),e}function Db(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ab.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sb.bind(null,e),e}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return CS(this.persistence,new wS,e.initialUser,this.serializer)}Xa(e){return new __(vd.ri,this.serializer)}Za(e){return new US}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class Cb extends Ju{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof Zu);const s=this.persistence.referenceDelegate.garbageCollector;return new cS(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new __(s=>Zu.ri(s,i),this.serializer)}}class nd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wb.bind(null,this.syncEngine),await ib(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ab}()}createDatastore(e){const i=cc(e.databaseInfo.databaseId),s=function(h){return new BS(h)}(e.databaseInfo);return function(h,d,p,y){return new GS(h,d,p,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,p){return new XS(s,o,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Wy(this.syncEngine,i,0),function(){return Xy.D()?new Xy:new kS}())}createSyncEngine(e,i){return function(o,h,d,p,y,g,T){const R=new mb(o,h,d,p,y,g);return T&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=St(o);ut(va,"RemoteStore shutting down."),h.W_.add(5),await eo(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}nd.provider={build:()=>new nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class Nb{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{ut(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ut(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Rd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Mf(a,e){a.asyncQueue.verifyOperationInProgress(),ut(Vr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await E_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function tv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Vb(a);ut(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Yy(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>Yy(e.remoteStore,o)),a._onlineComponents=e}async function Vb(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(Vr,"Using user provided OfflineComponentProvider");try{await Mf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;vs("Error using user provided cache. Falling back to memory cache: "+i),await Mf(a,new Ju)}}else ut(Vr,"Using default OfflineComponentProvider"),await Mf(a,new Cb(void 0));return a._offlineComponents}async function j_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(Vr,"Using user provided OnlineComponentProvider"),await tv(a,a._uninitializedComponentsProvider._online)):(ut(Vr,"Using default OnlineComponentProvider"),await tv(a,new nd))),a._onlineComponents}function xb(a){return j_(a).then(e=>e.syncEngine)}async function Mb(a){const e=await j_(a),i=e.eventManager;return i.onListen=gb.bind(null,e.syncEngine),i.onUnlisten=vb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_b.bind(null,e.syncEngine),i}function Ib(a,e,i={}){const s=new Sr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,p,y,g){const T=new Ob({next:E=>{T.su(),d.enqueueAndForget(()=>lb(h,R)),E.fromCache&&y.source==="server"?g.reject(new gt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),R=new cb(p,T,{includeMetadataChanges:!0,Ta:!0});return sb(h,R)}(await Mb(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(a,e,i){if(!i)throw new gt(nt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Ub(a,e,i,s){if(e===!0&&s===!0)throw new gt(nt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function nv(a){if(!pt.isDocumentKey(a))throw new gt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function iv(a){if(pt.isDocumentKey(a))throw new gt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Nd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t()}function bs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new gt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nd(a);throw new gt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="firestore.googleapis.com",rv=!0;class av{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new gt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P_,this.ssl=rv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:rv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oS)throw new gt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ub("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new jT;switch(s.type){case"firstParty":return new qT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=ev.get(i);s&&(ut("ComponentProvider","Removing Datastore"),ev.delete(i),s.terminate())}(this),Promise.resolve()}}function kb(a,e,i,s={}){var o;const h=(a=bs(a,dc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),p=`${e}:${i}`;h.host!==P_&&h.host!==p&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:p,ssl:!1,emulatorOptions:s});if(!Bu(y,d)&&(a._setSettings(y),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=Fe.MOCK_USER;else{g=y1(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new gt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Fe(R)}a._authCredentials=new zT(new Ov(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mc(this.firestore,e,this._query)}}class Nn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class br extends mc{constructor(e,i,s){super(e,i,Yv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new pt(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function q_(a,e,...i){if(a=wr(a),B_("collection","path",e),a instanceof dc){const s=Wt.fromString(e,...i);return iv(s),new br(a,null,s)}{if(!(a instanceof Nn||a instanceof br))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return iv(s),new br(a.firestore,null,s)}}function H_(a,e,...i){if(a=wr(a),arguments.length===1&&(e=Vv.newId()),B_("doc","path",e),a instanceof dc){const s=Wt.fromString(e,...i);return nv(s),new Nn(a,null,new pt(s))}{if(!(a instanceof Nn||a instanceof br))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return nv(s),new Nn(a.firestore,a instanceof br?a.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new A_(this,"async_queue_retry"),this.Su=()=>{const s=xf();s&&ut(sv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Sr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Os(e))throw e;ut(sv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(s);throw Mi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=wd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class gc extends dc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function Lb(a,e){const i=typeof a=="object"?a:DT(),s=typeof a=="string"?a:Gu,o=AT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=g1("firestore");h&&kb(o,...h)}return o}function G_(a){if(a._terminated)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||jb(a),a._firestoreClient}function jb(a){var e,i,s;const o=a._freezeSettings(),h=function(p,y,g,T){return new iA(p,y,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,z_(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new Nb(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(Be.fromBase64String(e))}catch(i){throw new gt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ws(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new gt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=/^__.*__$/;class Bb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(e,this.data,i,this.fieldTransforms)}}class F_{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function X_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Id{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Id(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(X_(this.Lu)&&zb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Pb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||cc(e)}ju(e,i,s,o=!1){return new Id({Lu:e,methodName:i,zu:s,path:ze.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q_(a){const e=a._freezeSettings(),i=cc(a._databaseId);return new Pb(a._databaseId,!!e.ignoreUndefinedProperties,i)}function qb(a,e,i,s,o,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,o);Ud("Data must be an object, but it was:",d,s);const p=Y_(s,d);let y,g;if(h.merge)y=new fn(d.fieldMask),g=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const R of h.mergeFields){const E=id(e,R,i);if(!d.contains(E))throw new gt(nt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);$_(T,E)||T.push(E)}y=new fn(T),g=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,g=d.fieldTransforms;return new Bb(new rn(p),y,g)}class yc extends Vd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yc}}function Hb(a,e,i,s){const o=a.ju(1,e,i);Ud("Data must be an object, but it was:",o,s);const h=[],d=rn.empty();xr(s,(y,g)=>{const T=kd(e,y,i);g=wr(g);const R=o.Uu(T);if(g instanceof yc)h.push(T);else{const E=vc(g,R);E!=null&&(h.push(T),d.set(T,E))}});const p=new fn(h);return new F_(d,p,o.fieldTransforms)}function Gb(a,e,i,s,o,h){const d=a.ju(1,e,i),p=[id(e,s,i)],y=[o];if(h.length%2!=0)throw new gt(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<h.length;E+=2)p.push(id(e,h[E])),y.push(h[E+1]);const g=[],T=rn.empty();for(let E=p.length-1;E>=0;--E)if(!$_(g,p[E])){const A=p[E];let I=y[E];I=wr(I);const M=d.Uu(A);if(I instanceof yc)g.push(A);else{const L=vc(I,M);L!=null&&(g.push(A),T.set(A,L))}}const R=new fn(g);return new F_(T,R,d.fieldTransforms)}function vc(a,e){if(K_(a=wr(a)))return Ud("Unsupported field value:",e,a),Y_(a,e);if(a instanceof Vd)return function(s,o){if(!X_(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const p of s){let y=vc(p,o.Ku(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=wr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=be.fromDate(s);return{timestampValue:$u(o.serializer,h)}}if(s instanceof be){const h=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$u(o.serializer,h)}}if(s instanceof xd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ws)return{bytesValue:h_(o.serializer,s._byteString)};if(s instanceof Nn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:pd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Md)return function(d,p){return{mapValue:{fields:{[zv]:{stringValue:Bv},[Fu]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return dd(p.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Nd(s)}`)}(a,e)}function Y_(a,e){const i={};return Mv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(a,(s,o)=>{const h=vc(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function K_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof xd||a instanceof ws||a instanceof Nn||a instanceof Vd||a instanceof Md)}function Ud(a,e,i){if(!K_(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Nd(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function id(a,e,i){if((e=wr(e))instanceof pc)return e._internalPath;if(typeof e=="string")return kd(a,e);throw tc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Fb=new RegExp("[~\\*/\\[\\]]");function kd(a,e,i){if(e.search(Fb)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new pc(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function tc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new gt(nt.INVALID_ARGUMENT,p+a+y)}function $_(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(W_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Xb extends Z_{data(){return super.data()}}function W_(a,e){return typeof e=="string"?kd(a,e):e instanceof pc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new gt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yb{convertValue(e,i="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return xr(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Fu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new Md(h)}convertGeoPoint(e){return new xd(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=ic(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Gt(y_(s));const o=new Kl(s.get(1),s.get(3)),h=new pt(s.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $b extends Z_{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(W_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ku extends $b{data(e={}){return super.data(e)}}class Zb{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new ku(this._firestore,this._userDataWriter,s.key,s,new Nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const y=new ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Nu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const y=new ku(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Nu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:Wb(p.type),doc:y,oldIndex:g,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Wb(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class Jb extends Yb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,i)}}function t2(a){a=bs(a,mc);const e=bs(a.firestore,gc),i=G_(e),s=new Jb(e);return Qb(a._query),Ib(i,a._query).then(o=>new Zb(e,s,a,o))}function e2(a,e,i,...s){a=bs(a,Nn);const o=bs(a.firestore,gc),h=Q_(o);let d;return d=typeof(e=wr(e))=="string"||e instanceof pc?Gb(h,"updateDoc",a._key,e,i,s):Hb(h,"updateDoc",a._key,e),J_(o,[d.toMutation(a._key,ei.exists(!0))])}function n2(a,e){const i=bs(a.firestore,gc),s=H_(a),o=Kb(a.converter,e);return J_(i,[qb(Q_(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function J_(a,e){return function(s,o){const h=new Sr;return s.asyncQueue.enqueueAndForget(async()=>Eb(await xb(s),o,h)),h.promise}(G_(a),e)}(function(e,i=!0){(function(o){Ds=o})(RT),qu(new Fl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new gc(new BT(s.getProvider("auth-internal")),new HT(d,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new gt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(g.options.projectId,T)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),ps(dy,my,e),ps(dy,my,"esm2017")})();var i2="firebase",r2="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(i2,r2,"app");const a2={apiKey:"AIzaSyB8q0VG33RpBTlCcxm8bwa3rgsilkMowq8",authDomain:"naturaltask-6c6db.firebaseapp.com",projectId:"naturaltask-6c6db",storageBucket:"naturaltask-6c6db.firebasestorage.app",messagingSenderId:"12789069261",appId:"1:12789069261:web:9e63e9b2751b69a4ae4084",measurementId:"G-EF6ECNVKBQ"},s2=Ev(a2),Ld=Lb(s2);async function l2(a){const e=q_(Ld,"users",a,"tasks");try{const i=await t2(e),s=[];return i.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(i){throw console.error("Error fetching user tasks:",i),i}}function o2(a){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"},child:[]}]})(a)}async function jd(){return new Promise((a,e)=>{var i;if((i=chrome==null?void 0:chrome.storage)!=null&&i.sync)chrome.storage.sync.get("userId",s=>{if(chrome.runtime.lastError)e(chrome.runtime.lastError);else if(s.userId)a(s.userId);else{const o=crypto.randomUUID();chrome.storage.sync.set({userId:o},()=>{chrome.runtime.lastError?e(chrome.runtime.lastError):a(o)})}});else{let s=localStorage.getItem("userId");s||(s=crypto.randomUUID(),localStorage.setItem("userId",s)),a(s)}})}const u2="/assets/christmas-stars-DKo1nKIU.png";function c2(a){const i={when:new Date(`${a.date}T${a.time}`).getTime()};switch(a.frequency){case"daily":i.periodInMinutes=1440;break;case"weekly":i.periodInMinutes=10080;break;case"weekdays":const s=[1,2,3,4,5],o=new Date(`${a.date}T${a.time}`);s.forEach(h=>{const d=getNextWeekday(o,h),p=`${a.title}-${h}`;chrome.alarms.create(p,{when:d.getTime(),periodInMinutes:1440*7}),chrome.storage.local.set({[p]:a.website})}),console.log(`Chrome alarms created for weekdays for task '${a.title}'`);return;case"monthly":i.periodInMinutes=43200;break;case"yearly":i.periodInMinutes=525600;break;case"test":i.when=Date.now()+60*1e3;break;case null:break;default:console.error(`Invalid frequency: ${a.frequency}`);return}chrome.alarms.create(a.title,i),chrome.storage.local.set({[a.title]:a.website}),console.log(`Chrome alarm '${a.title}' created for ${a.date} at ${a.time}`)}function h2(){return typeof chrome<"u"&&!!chrome.runtime&&!!chrome.runtime.id}function f2({closeWindow:a,initialState:e="idle"}){const i=h2(),s=zt.useRef(null),[o,h]=zt.useState(e),[d,p]=zt.useState(!1),[y,g]=zt.useState(0),[T,R]=zt.useState(0),E=zt.useRef(null);zt.useEffect(()=>(o==="voice"?(A(),R(0),E.current=setInterval(()=>{R(z=>z+1)},1e3)):(I(),E.current&&clearInterval(E.current)),()=>{E.current&&clearInterval(E.current)}),[o]),zt.useEffect(()=>{if(o=="genwait"){const z=setTimeout(()=>{h("postgen")},1e3);return()=>clearTimeout(z)}},[o]);const A=async()=>{try{const z=await navigator.mediaDevices.getUserMedia({audio:!0}),W=new AudioContext,Z=W.createMediaStreamSource(z),rt=W.createAnalyser();rt.fftSize=256,Z.connect(rt),p(!0);const O=new Uint8Array(rt.frequencyBinCount),D=()=>{if(!d)return;rt.getByteFrequencyData(O);const w=O.reduce((U,P)=>U+P,0)/O.length;g(w),document.querySelectorAll(".voice-circle").forEach(U=>{U.style.animationDuration=`${2-w/128}s`}),requestAnimationFrame(D)};D()}catch(z){console.error("Error accessing microphone:",z)}},I=()=>{p(!1)},[M,L]=zt.useState({title:"",description:null,date:"",time:"",start_date:null,end_date:null,website:null,frequency:"",recurring_until:null,type:"regular"}),Q=async()=>{if(M.title.length!==0){console.log("Task Title:",M.title);try{const z=await fetch("https://naturaltask.onrender.com/generate-json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:M.title})});if(z.ok){const W=await z.json();console.log("Task created:",W),L({title:W.generated_json.task,description:W.generated_json.description,date:W.generated_json.date,time:W.generated_json.time,start_date:W.generated_json.start_date,end_date:W.generated_json.end_date,website:W.generated_json.website,frequency:W.generated_json.frequency,recurring_until:W.generated_json.recurring_until,type:W.generated_json.type}),h("postgen")}else console.error("Failed to create task:",z.statusText)}catch(z){console.error("Error creating task:",z)}}},Y=async()=>{try{var z;await jd().then(Z=>{console.log("User ID on this page:",Z),z=Z});const W=await n2(q_(Ld,"users",z,"tasks"),M);console.log("Task saved with ID:",W.id),console.log("docRef :",W),console.log("Task:",M);try{i&&c2(M),console.log("Chrome alarm added for task:",M)}catch(Z){console.error("Error adding Chrome alarm for task:",Z)}a()}catch(W){console.error("Error saving task to Firestore:",W)}};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"add-task",children:[x.jsx("div",{className:"atc-header",children:x.jsx("button",{className:"btn btn--secondary",onClick:a,children:"X"})}),x.jsxs("div",{className:"atc-container-"+o,children:[(o=="idle"||o=="text")&&x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"atc-example",children:['"',d2[0],'"']}),x.jsx("textarea",{ref:s,className:`atc-text-input ${M.title?"atc-text-input-nonempty":""}`,placeholder:"Type your task...",value:M.title,onChange:z=>{L({...M,title:z.target.value}),z.target.value.length>0?h("text"):h("idle")}}),x.jsxs("div",{className:"atc-btns",children:[x.jsxs("button",{className:"atc-voice-btn btn",disabled:M.title.length==0,onClick:Q,children:[x.jsx("span",{children:"Go"}),x.jsx("img",{src:u2,alt:"AI Star",width:20,height:20})]}),x.jsx("span",{children:"OR"}),x.jsx("button",{className:"atc-voice-btn btn",onClick:()=>h("voice"),children:x.jsx(Uf,{})})]}),o=="idle"&&x.jsxs(x.Fragment,{children:[x.jsx("hr",{}),x.jsx("h4",{children:"OR"}),x.jsx("div",{className:"atc-btns",children:x.jsx("button",{className:"atc-voice-btn btn btn--secondary",children:"Add Manually"})})]})]}),o=="voice"&&x.jsxs("div",{className:"atc-vi-container",children:[x.jsx("div",{className:"atc-vi",children:x.jsxs("div",{className:"atc-vi-mic",children:[x.jsx(Uf,{style:{zIndex:100}}),x.jsxs("div",{className:"voice-visualizer",children:[x.jsx("div",{className:"voice-circle circle1"}),x.jsx("div",{className:"voice-circle circle2"}),x.jsx("div",{className:"voice-circle circle3"})]}),x.jsx("div",{className:"recording-timer",children:formatTime(T)})]})}),x.jsx("button",{className:"atc-voice-btn btn btn--secondary",onClick:()=>h("genwait"),children:"Done (Space)"})]}),o=="genwait"&&x.jsxs("div",{className:"atc-genwait-container",children:[x.jsx("h4",{children:"Understanding"}),x.jsx("span",{className:"loader"})]}),o=="postgen"&&x.jsxs("div",{className:"atc-postgen-container",children:[x.jsxs("div",{className:"atc-postgen-header",children:[x.jsx("h4",{children:"Your Task."}),x.jsxs("button",{className:"atc-voice-btn btn",onClick:Y,children:[x.jsx("span",{children:"Confirm"}),x.jsx(qE,{})]}),x.jsx("hr",{})]}),x.jsxs("form",{className:"atc-postgen-fields",children:[x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"title",children:"Title"}),x.jsx("input",{type:"text",id:"title",name:"title",value:M.title,onChange:z=>L({...M,title:z.target.value})})]}),x.jsxs("div",{className:"atc-grid",children:[x.jsxs("div",{className:"atc-row",children:[x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"date",children:"Date"}),x.jsx("input",{type:"date",id:"date",name:"date",value:M.date,onChange:z=>L({...M,date:z.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"time",children:"Time"}),x.jsx("input",{type:"time",id:"time",name:"time",value:M.time,onChange:z=>L({...M,time:z.target.value})})]})]}),x.jsxs("div",{className:"atc-row",children:[x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"start_date",children:"Start Date"}),x.jsx("input",{type:"date",id:"start_date",name:"start_date",value:M.start_date||"",onChange:z=>L({...M,start_date:z.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"end_date",children:"End Date"}),x.jsx("input",{type:"date",id:"end_date",name:"end_date",value:M.end_date||"",onChange:z=>L({...M,end_date:z.target.value})})]})]}),x.jsxs("div",{className:"atc-row",children:[x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"frequency",children:"Frequency"}),x.jsx("input",{type:"text",id:"frequency",name:"frequency",value:M.frequency,onChange:z=>L({...M,frequency:z.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"recurring_until",children:"Recurring Until"}),x.jsx("input",{type:"date",id:"recurring_until",name:"recurring_until",value:M.recurring_until||"",onChange:z=>L({...M,recurring_until:z.target.value})})]})]})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"website",children:"Website"}),x.jsx("input",{type:"text",id:"website",name:"website",value:M.website||"",onChange:z=>L({...M,website:z.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"type",children:"Type"}),x.jsx("input",{type:"text",id:"type",name:"type",value:M.type,onChange:z=>L({...M,type:z.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"description",children:"Description"}),x.jsx("textarea",{id:"description",name:"description",value:M.description||"",onChange:z=>L({...M,description:z.target.value})})]})]})]})]})]})})}const d2=["Automata Theory Class at 8:55am on Mondays, 9:55am on Tuesdays and Thursdays, 10:55am on Wednesdays","Leetcode from 10pm-12am every day.","Prepare for OS Examination coming Saturday."];function m2({allTasks:a,closeWindow:e,openTask:i}){const[s,o]=zt.useState("regular");return x.jsxs("div",{className:"all-tasks",children:[x.jsx("div",{className:"atc-header",children:x.jsx("button",{className:"btn btn--secondary",onClick:e,children:"X"})}),x.jsx("h1",{className:"atc-header-title",children:"All Tasks"}),x.jsxs("div",{className:"atc-header-tabs",children:[x.jsx("p",{className:`atc-header-tab ${s==="regular"?"atc-header-tab-active":""}`,onClick:()=>o("regular"),children:"Regular"}),x.jsx("p",{className:`atc-header-tab ${s==="one_time"?"atc-header-tab-active":""}`,onClick:()=>o("reminder"),children:"One-Time"}),x.jsx("p",{className:`atc-header-tab ${s==="history"?"atc-header-tab-active":""}`,onClick:()=>o("history"),children:"History"})]}),x.jsx("div",{className:"atc-tasks-container",children:a.map((h,d)=>h.type===s&&x.jsx(hv,{task:h,clickOnTask:p=>{i(p),e()}},d))})]})}function g2({task:a}){var y,g,T,R,E,A,I,M,L,Q,Y,z,W,Z,rt,O,D,w,V,U,P,N,Zt,Jt,st,yt,dt,jt,k,it;const[e,i]=zt.useState(0),s=hs(((T=(g=(y=a.recurring_details)==null?void 0:y.streak)==null?void 0:g.longest_streak)==null?void 0:T.streak_start)||""),o=hs(((A=(E=(R=a.recurring_details)==null?void 0:R.streak)==null?void 0:E.longest_streak)==null?void 0:A.streak_end)||""),h=hs(((L=(M=(I=a.recurring_details)==null?void 0:I.streak)==null?void 0:M.previous_streak)==null?void 0:L.streak_start)||""),d=hs(((z=(Y=(Q=a.recurring_details)==null?void 0:Q.streak)==null?void 0:Y.previous_streak)==null?void 0:z.streak_end)||""),p=hs(((rt=(Z=(W=a.recurring_details)==null?void 0:W.streak)==null?void 0:Z.current_streak)==null?void 0:rt.streak_start)||"");return zt.useEffect(()=>{var lt,ot,bt,Tt,te,Vt;const ht=(((bt=(ot=(lt=a.recurring_details)==null?void 0:lt.streak)==null?void 0:ot.current_streak)==null?void 0:bt.count)||0)/(((Vt=(te=(Tt=a.recurring_details)==null?void 0:Tt.streak)==null?void 0:te.longest_streak)==null?void 0:Vt.count)||1);i(ht)},[a]),x.jsxs("div",{className:"tv-streak-card",children:[x.jsxs("div",{className:"tv-streak-info",children:[x.jsx("div",{className:"tv-streak-icon-container",children:x.jsx(fv,{className:"streak-icon"})}),x.jsxs("div",{className:"tv-streak-details",children:[x.jsx("div",{className:"tv-streak-count",children:((w=(D=(O=a.recurring_details)==null?void 0:O.streak)==null?void 0:D.current_streak)==null?void 0:w.count)||0}),x.jsxs("div",{className:"streak-subtitle",children:["Current Streak From",x.jsx("p",{children:p.formattedDateTime||"N/A"})]})]})]}),x.jsx("div",{className:"tv-streak-progress",children:x.jsx("div",{className:"tv-progress-bar",children:x.jsx("div",{className:`tv-progress-fill ${e===1?"tv-streak-longest-effect":""}`,style:{width:`${e*100}%`}})})}),((P=(U=(V=a.recurring_details)==null?void 0:V.streak)==null?void 0:U.longest_streak)==null?void 0:P.count)>0&&x.jsxs("div",{className:"tv-streak-section",children:[x.jsxs("div",{className:"tv-streak-section-top",children:[x.jsx("div",{className:"tv-streak-section-title",children:"Longest Streak"}),x.jsx("div",{className:"tv-streak-section-count",children:((Jt=(Zt=(N=a.recurring_details)==null?void 0:N.streak)==null?void 0:Zt.longest_streak)==null?void 0:Jt.count)||0})]}),x.jsxs("div",{className:"tv-streak-section-date",children:[x.jsx("p",{children:s.formattedDate||"N/A"}),"To",x.jsx("p",{children:o.formattedDate||"N/A"})]})]}),((dt=(yt=(st=a.recurring_details)==null?void 0:st.streak)==null?void 0:yt.previous_streak)==null?void 0:dt.count)>0&&x.jsxs("div",{className:"tv-streak-section",children:[x.jsxs("div",{className:"tv-streak-section-top",children:[x.jsx("div",{className:"tv-streak-section-title",children:"Previous Streak"}),x.jsx("div",{className:"tv-streak-section-count",children:((it=(k=(jt=a.recurring_details)==null?void 0:jt.streak)==null?void 0:k.previous_streak)==null?void 0:it.count)||0})]}),x.jsxs("div",{className:"tv-streak-section-date",children:[x.jsx("p",{children:h.formattedDate||"N/A"}),"To",x.jsx("p",{children:d.formattedDate||"N/A"})]})]})]})}async function p2(a,e){try{const i=await jd(),s=H_(Ld,"users",i,"tasks",a);await e2(s,e),console.log("Task successfully updated:",a)}catch(i){console.error("Error updating task:",i)}}function y2({task:a,onClose:e}){var T,R;const[i,s]=zt.useState(a),[o,h]=zt.useState(!1),d=E=>{const{name:A,value:I}=E.target;s(M=>({...M,[A]:I}))},p=E=>{const{value:A}=E.target;s(I=>({...I,time:A}))},y=E=>{E.preventDefault(),o&&(p2(i.id,i),console.log("Updated Task:",i)),h(!1)},g=()=>{i.resource&&window.open(i.resource,"_blank")};return x.jsxs("div",{className:"tv",children:[x.jsxs("div",{className:"tv-header",children:[x.jsx("button",{className:"btn btn--secondary",onClick:e,children:"X"}),o?x.jsx("button",{className:"btn tv-edit-btn",onClick:y,children:"Save"}):x.jsx("button",{className:"btn tv-edit-btn",onClick:()=>h(!0),children:"Edit"})]}),x.jsx("div",{className:"tv-content-header",children:x.jsx("h2",{children:i.title})}),x.jsxs("form",{className:"tv-content",onSubmit:y,children:[x.jsx("p",{children:"MAIN"}),x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Title"})}),x.jsx("input",{type:"text",name:"title",value:i.title||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]}),x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Description"})}),x.jsx("textarea",{name:"description",value:i.description||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]}),i.type==="one_time"&&x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Scheduled Date & Time"})}),x.jsx("input",{type:"datetime-local",value:((R=(T=i.one_time_details)==null?void 0:T.scheduled_datetime)==null?void 0:R.slice(0,16))||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]}),x.jsx("p",{children:"CUSTOMIZE"}),x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Resource"})}),x.jsx("div",{className:"tv-nested-container",children:x.jsxs("div",{className:"tv-nested-field",children:[x.jsxs("div",{className:"tv-field-header",children:[x.jsx("span",{className:"tv-field-label",children:"URL"}),i.resource&&x.jsx("button",{type:"button",className:"tv-link-button",onClick:g,children:x.jsx(n1,{})})]}),x.jsx("input",{type:"text",name:"resource",value:i.resource||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]})})]}),x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Time"})}),x.jsx("input",{type:"time",name:"time",value:i.time||"05:00:00",onChange:p,disabled:!o,className:o?"tv-input-active":""})]}),i.type==="recurring"&&x.jsxs(x.Fragment,{children:[x.jsx("p",{children:"STREAKS"}),x.jsx(g2,{task:i})]})]})]})}const If=[{id:"fzVrmS98N8eqV5ZSdiMk",frequency:null,description:null,type:"reminder",date:"2025-04-08",time:"17:00:00",start_date:null,end_date:null,website:null,recurring_until:null,title:"Google Meet"},{id:"dyRHeeGca4oxMRLD8awc",frequency:"daily",type:"regular",time:"18:00:00",date:"2025-04-07",website:null,end_date:"2025-06-25",start_date:"2025-04-07",title:"Leetcode",recurring_until:"2025-06-25",description:"Daily Leetcode practice"},{id:"B38xUUfkV8ByY3mysuCf",date:"2025-04-08",website:null,title:"Solve RD Sharma",start_date:null,recurring_until:null,description:"Solve RD Sharma problems daily",frequency:"daily",type:"regular",end_date:null,time:"20:00:00"}],v2=()=>{const[a,e]=zt.useState([]);return zt.useEffect(()=>{if(typeof chrome>"u"||typeof chrome.alarms>"u"){console.error("Only accessible in Extension.");return}chrome.alarms.getAll(i=>{e(i)})},[]),!a||a.length===0?x.jsx("p",{className:"text-gray-500",children:"No alarms currently."}):x.jsxs("div",{className:"p-4",children:[x.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Scheduled Alarms"}),x.jsx("ul",{className:"space-y-2",children:a.map(i=>x.jsxs("li",{className:"bg-gray-100 p-3 rounded shadow",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"ID:"})," ",i.name]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Time:"})," ",new Date(i.scheduledTime).toLocaleString()]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Repeats:"})," ",i.periodInMinutes?`${i.periodInMinutes} min`:"One-time"]})]},i.name))})]})};function _2(){const[a,e]=zt.useState([]),[i,s]=zt.useState(null),[o,h]=zt.useState(!1),[d,p]=zt.useState(!1),[y,g]=zt.useState("idle"),T=()=>{g("idle"),p(!0)},R=()=>{g("voice"),p(!0)},E=I=>{s(I)},A=async()=>{var I;await jd().then(L=>{console.log("User ID on this page:",L),I=L});const M=await l2(I);console.log("Retrieved Tasks",JSON.stringify(M)),e(M)};return x.jsxs("div",{id:"home",children:[x.jsxs("section",{className:"new-task-buttons",children:[x.jsxs("button",{className:"btn",onClick:T,children:[x.jsx(o2,{}),"Add"]}),x.jsxs("button",{className:"btn",onClick:R,children:[x.jsx(Uf,{}),"Add w/ Voice"]}),x.jsx("button",{className:"btn btn--secondary",onClick:()=>{h(!0),A()},children:"All Tasks"})]}),x.jsxs("section",{children:[x.jsxs("div",{className:"task-section-header",children:[x.jsx("h4",{className:"subtitle",children:"UPCOMING TASKS"}),x.jsx("p",{children:"3 of 10"})]}),x.jsx("div",{id:"upcoming-tasks",children:If&&If.slice(0,3).map((I,M)=>x.jsx(hv,{task:I,clickOnTask:E},M))})]}),x.jsx(r1,{tasks:If,onClick:E}),d&&x.jsx(f2,{closeWindow:()=>p(!1),initialState:y}),o&&x.jsx(m2,{allTasks:a,closeWindow:()=>h(!1),openTask:E}),i&&x.jsx(y2,{task:a.find(I=>I.title===i),onClose:()=>s(null)}),x.jsx("h1",{className:"text-xl font-bold mb-4",children:"Chrome Alarms"}),x.jsx(v2,{})]})}function E2(a){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(a)}function T2(a){return Ui({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.839 17.525c-.006.002-.559.186-1.039.186-.265 0-.372-.055-.406-.079-.168-.117-.48-.336.054-1.4l1-1.994c.593-1.184.681-2.329.245-3.225-.356-.733-1.039-1.236-1.92-1.416-.317-.065-.639-.097-.958-.097-1.849 0-3.094 1.08-3.146 1.126-.179.158-.221.42-.102.626.12.206.367.3.595.222.005-.002.559-.187 1.039-.187.263 0 .369.055.402.078.169.118.482.34-.051 1.402l-1 1.995c-.594 1.185-.681 2.33-.245 3.225.356.733 1.038 1.236 1.921 1.416.314.063.636.097.954.097 1.85 0 3.096-1.08 3.148-1.126.179-.157.221-.42.102-.626-.12-.205-.369-.297-.593-.223z"},child:[]},{tag:"circle",attr:{cx:"13",cy:"6.001",r:"2.5"},child:[]}]})(a)}function A2(){return x.jsxs("div",{id:"header",children:[x.jsx("p",{children:"NaturalTask"}),x.jsxs("div",{id:"header-right",children:[x.jsx("button",{className:"header-button",onClick:()=>{},children:x.jsx(E2,{})}),x.jsx("button",{className:"header-button",onClick:()=>{},children:x.jsx(T2,{})})]})]})}function S2(){const[a,e]=zt.useState(0);return x.jsxs(x.Fragment,{children:[x.jsx(A2,{}),x.jsx(_2,{})]})}IE.createRoot(document.getElementById("root")).render(x.jsx(S2,{}));
