(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function SE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vf={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function bE(){if(zp)return kl;zp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var Bp;function wE(){return Bp||(Bp=1,vf.exports=bE()),vf.exports}var V=wE(),_f={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function RE(){if(Pp)return wt;Pp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,M={};function j(k,rt,ht){this.props=k,this.context=rt,this.refs=M,this.updater=ht||A}j.prototype.isReactComponent={},j.prototype.setState=function(k,rt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,rt,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Q(){}Q.prototype=j.prototype;function Y(k,rt,ht){this.props=k,this.context=rt,this.refs=M,this.updater=ht||A}var z=Y.prototype=new Q;z.constructor=Y,I(z,j.prototype),z.isPureReactComponent=!0;var W=Array.isArray,Z={H:null,A:null,T:null,S:null},tt=Object.prototype.hasOwnProperty;function C(k,rt,ht,lt,ot,bt){return ht=bt.ref,{$$typeof:a,type:k,key:rt,ref:ht!==void 0?ht:null,props:bt}}function D(k,rt){return C(k.type,rt,void 0,void 0,void 0,k.props)}function w(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function x(k){var rt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ht){return rt[ht]})}var U=/\/+/g;function P(k,rt){return typeof k=="object"&&k!==null&&k.key!=null?x(""+k.key):rt.toString(36)}function N(){}function Xt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(rt){k.status==="pending"&&(k.status="fulfilled",k.value=rt)},function(rt){k.status==="pending"&&(k.status="rejected",k.reason=rt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Jt(k,rt,ht,lt,ot){var bt=typeof k;(bt==="undefined"||bt==="boolean")&&(k=null);var Tt=!1;if(k===null)Tt=!0;else switch(bt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(k.$$typeof){case a:case e:Tt=!0;break;case T:return Tt=k._init,Jt(Tt(k._payload),rt,ht,lt,ot)}}if(Tt)return ot=ot(k),Tt=lt===""?"."+P(k,0):lt,W(ot)?(ht="",Tt!=null&&(ht=Tt.replace(U,"$&/")+"/"),Jt(ot,rt,ht,"",function(ae){return ae})):ot!=null&&(w(ot)&&(ot=D(ot,ht+(ot.key==null||k&&k.key===ot.key?"":(""+ot.key).replace(U,"$&/")+"/")+Tt)),rt.push(ot)),1;Tt=0;var te=lt===""?".":lt+":";if(W(k))for(var Vt=0;Vt<k.length;Vt++)lt=k[Vt],bt=te+P(lt,Vt),Tt+=Jt(lt,rt,ht,bt,ot);else if(Vt=E(k),typeof Vt=="function")for(k=Vt.call(k),Vt=0;!(lt=k.next()).done;)lt=lt.value,bt=te+P(lt,Vt++),Tt+=Jt(lt,rt,ht,bt,ot);else if(bt==="object"){if(typeof k.then=="function")return Jt(Xt(k),rt,ht,lt,ot);throw rt=String(k),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function st(k,rt,ht){if(k==null)return k;var lt=[],ot=0;return Jt(k,lt,"","",function(bt){return rt.call(ht,bt,ot++)}),lt}function yt(k){if(k._status===-1){var rt=k._result;rt=rt(),rt.then(function(ht){(k._status===0||k._status===-1)&&(k._status=1,k._result=ht)},function(ht){(k._status===0||k._status===-1)&&(k._status=2,k._result=ht)}),k._status===-1&&(k._status=0,k._result=rt)}if(k._status===1)return k._result.default;throw k._result}var dt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function zt(){}return wt.Children={map:st,forEach:function(k,rt,ht){st(k,function(){rt.apply(this,arguments)},ht)},count:function(k){var rt=0;return st(k,function(){rt++}),rt},toArray:function(k){return st(k,function(rt){return rt})||[]},only:function(k){if(!w(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},wt.Component=j,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=Y,wt.StrictMode=s,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(k){return function(){return k.apply(null,arguments)}},wt.cloneElement=function(k,rt,ht){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var lt=I({},k.props),ot=k.key,bt=void 0;if(rt!=null)for(Tt in rt.ref!==void 0&&(bt=void 0),rt.key!==void 0&&(ot=""+rt.key),rt)!tt.call(rt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&rt.ref===void 0||(lt[Tt]=rt[Tt]);var Tt=arguments.length-2;if(Tt===1)lt.children=ht;else if(1<Tt){for(var te=Array(Tt),Vt=0;Vt<Tt;Vt++)te[Vt]=arguments[Vt+2];lt.children=te}return C(k.type,ot,void 0,void 0,bt,lt)},wt.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:h,_context:k},k},wt.createElement=function(k,rt,ht){var lt,ot={},bt=null;if(rt!=null)for(lt in rt.key!==void 0&&(bt=""+rt.key),rt)tt.call(rt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ot[lt]=rt[lt]);var Tt=arguments.length-2;if(Tt===1)ot.children=ht;else if(1<Tt){for(var te=Array(Tt),Vt=0;Vt<Tt;Vt++)te[Vt]=arguments[Vt+2];ot.children=te}if(k&&k.defaultProps)for(lt in Tt=k.defaultProps,Tt)ot[lt]===void 0&&(ot[lt]=Tt[lt]);return C(k,bt,void 0,void 0,null,ot)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(k){return{$$typeof:g,render:k}},wt.isValidElement=w,wt.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:yt}},wt.memo=function(k,rt){return{$$typeof:p,type:k,compare:rt===void 0?null:rt}},wt.startTransition=function(k){var rt=Z.T,ht={};Z.T=ht;try{var lt=k(),ot=Z.S;ot!==null&&ot(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(zt,dt)}catch(bt){dt(bt)}finally{Z.T=rt}},wt.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},wt.use=function(k){return Z.H.use(k)},wt.useActionState=function(k,rt,ht){return Z.H.useActionState(k,rt,ht)},wt.useCallback=function(k,rt){return Z.H.useCallback(k,rt)},wt.useContext=function(k){return Z.H.useContext(k)},wt.useDebugValue=function(){},wt.useDeferredValue=function(k,rt){return Z.H.useDeferredValue(k,rt)},wt.useEffect=function(k,rt){return Z.H.useEffect(k,rt)},wt.useId=function(){return Z.H.useId()},wt.useImperativeHandle=function(k,rt,ht){return Z.H.useImperativeHandle(k,rt,ht)},wt.useInsertionEffect=function(k,rt){return Z.H.useInsertionEffect(k,rt)},wt.useLayoutEffect=function(k,rt){return Z.H.useLayoutEffect(k,rt)},wt.useMemo=function(k,rt){return Z.H.useMemo(k,rt)},wt.useOptimistic=function(k,rt){return Z.H.useOptimistic(k,rt)},wt.useReducer=function(k,rt,ht){return Z.H.useReducer(k,rt,ht)},wt.useRef=function(k){return Z.H.useRef(k)},wt.useState=function(k){return Z.H.useState(k)},wt.useSyncExternalStore=function(k,rt,ht){return Z.H.useSyncExternalStore(k,rt,ht)},wt.useTransition=function(){return Z.H.useTransition()},wt.version="19.0.0",wt}var qp;function id(){return qp||(qp=1,_f.exports=RE()),_f.exports}var Nt=id();const pa=SE(Nt);var Ef={exports:{}},jl={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function DE(){return Hp||(Hp=1,function(a){function e(st,yt){var dt=st.length;st.push(yt);t:for(;0<dt;){var zt=dt-1>>>1,k=st[zt];if(0<o(k,yt))st[zt]=yt,st[dt]=k,dt=zt;else break t}}function i(st){return st.length===0?null:st[0]}function s(st){if(st.length===0)return null;var yt=st[0],dt=st.pop();if(dt!==yt){st[0]=dt;t:for(var zt=0,k=st.length,rt=k>>>1;zt<rt;){var ht=2*(zt+1)-1,lt=st[ht],ot=ht+1,bt=st[ot];if(0>o(lt,dt))ot<k&&0>o(bt,lt)?(st[zt]=bt,st[ot]=dt,zt=ot):(st[zt]=lt,st[ht]=dt,zt=ht);else if(ot<k&&0>o(bt,dt))st[zt]=bt,st[ot]=dt,zt=ot;else break t}}return yt}function o(st,yt){var dt=st.sortIndex-yt.sortIndex;return dt!==0?dt:st.id-yt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],p=[],T=1,R=null,E=3,A=!1,I=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function z(st){for(var yt=i(p);yt!==null;){if(yt.callback===null)s(p);else if(yt.startTime<=st)s(p),yt.sortIndex=yt.expirationTime,e(y,yt);else break;yt=i(p)}}function W(st){if(M=!1,z(st),!I)if(i(y)!==null)I=!0,Xt();else{var yt=i(p);yt!==null&&Jt(W,yt.startTime-st)}}var Z=!1,tt=-1,C=5,D=-1;function w(){return!(a.unstable_now()-D<C)}function x(){if(Z){var st=a.unstable_now();D=st;var yt=!0;try{t:{I=!1,M&&(M=!1,Q(tt),tt=-1),A=!0;var dt=E;try{e:{for(z(st),R=i(y);R!==null&&!(R.expirationTime>st&&w());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,E=R.priorityLevel;var k=zt(R.expirationTime<=st);if(st=a.unstable_now(),typeof k=="function"){R.callback=k,z(st),yt=!0;break e}R===i(y)&&s(y),z(st)}else s(y);R=i(y)}if(R!==null)yt=!0;else{var rt=i(p);rt!==null&&Jt(W,rt.startTime-st),yt=!1}}break t}finally{R=null,E=dt,A=!1}yt=void 0}}finally{yt?U():Z=!1}}}var U;if(typeof Y=="function")U=function(){Y(x)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=x,U=function(){N.postMessage(null)}}else U=function(){j(x,0)};function Xt(){Z||(Z=!0,U())}function Jt(st,yt){tt=j(function(){st(a.unstable_now())},yt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(st){st.callback=null},a.unstable_continueExecution=function(){I||A||(I=!0,Xt())},a.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<st?Math.floor(1e3/st):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_getFirstCallbackNode=function(){return i(y)},a.unstable_next=function(st){switch(E){case 1:case 2:case 3:var yt=3;break;default:yt=E}var dt=E;E=yt;try{return st()}finally{E=dt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(st,yt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var dt=E;E=st;try{return yt()}finally{E=dt}},a.unstable_scheduleCallback=function(st,yt,dt){var zt=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,st){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=dt+k,st={id:T++,callback:yt,priorityLevel:st,startTime:dt,expirationTime:k,sortIndex:-1},dt>zt?(st.sortIndex=dt,e(p,st),i(y)===null&&st===i(p)&&(M?(Q(tt),tt=-1):M=!0,Jt(W,dt-zt))):(st.sortIndex=k,e(y,st),I||A||(I=!0,Xt())),st},a.unstable_shouldYield=w,a.unstable_wrapCallback=function(st){var yt=E;return function(){var dt=E;E=yt;try{return st.apply(this,arguments)}finally{E=dt}}}}(Af)),Af}var Gp;function CE(){return Gp||(Gp=1,Tf.exports=DE()),Tf.exports}var Sf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function OE(){if(Fp)return He;Fp=1;var a=id();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,p,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:p,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return h(y,p,null,T)},He.flushSync=function(y){var p=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=T,s.d.f()}},He.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},He.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},He.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,R=g(T,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:R,integrity:E,fetchPriority:A}):T==="script"&&s.d.X(y,{crossOrigin:R,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},He.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},He.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,R=g(T,p.crossOrigin);s.d.L(y,T,{crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},He.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},He.requestFormReset=function(y){s.d.r(y)},He.unstable_batchedUpdates=function(y,p){return y(p)},He.useFormState=function(y,p,T){return d.H.useFormState(y,p,T)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Xp;function NE(){if(Xp)return Sf.exports;Xp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sf.exports=OE(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function xE(){if(Qp)return jl;Qp=1;var a=CE(),e=id(),i=NE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function tt(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case y:return"Fragment";case g:return"Portal";case T:return"Profiler";case p:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case I:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return n=t.displayName||null,n!==null?n:D(t.type)||"Memo";case Y:n=t._payload,t=t._init;try{return D(t(n))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,U,P;function N(t){if(U===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);U=n&&n[1]||"",P=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+t+P}var Xt=!1;function Jt(t,n){if(!t||Xt)return"";Xt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(K){var F=K}Reflect.construct(t,[],nt)}else{try{nt.call()}catch(K){F=K}t.call(nt.prototype)}}else{try{throw Error()}catch(K){F=K}(nt=t())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var O=_.split(`
`),B=S.split(`
`);for(c=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===O.length||c===B.length)for(l=O.length-1,c=B.length-1;1<=l&&0<=c&&O[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(O[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||O[l]!==B[c]){var $=`
`+O[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=c);break}}}finally{Xt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?N(r):""}function st(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=Jt(t.type,!1),t;case 11:return t=Jt(t.type.render,!1),t;case 1:return t=Jt(t.type,!0),t;default:return""}}function yt(t){try{var n="";do n+=st(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function dt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function zt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function k(t){if(dt(t)!==t)throw Error(s(188))}function rt(t){var n=t.alternate;if(!n){if(n=dt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return k(c),t;if(f===l)return k(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,S=c.child;S;){if(S===r){_=!0,r=c,l=f;break}if(S===l){_=!0,l=c,r=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===r){_=!0,r=f,l=c;break}if(S===l){_=!0,l=f,r=c;break}S=S.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ht(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ht(t),n!==null)return n;t=t.sibling}return null}var lt=Array.isArray,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},Tt=[],te=-1;function Vt(t){return{current:t}}function ae(t){0>te||(t.current=Tt[te],Tt[te]=null,te--)}function Ft(t,n){te++,Tt[te]=t.current,t.current=n}var Qe=Vt(null),ai=Vt(null),dn=Vt(null),ki=Vt(null);function ji(t,n){switch(Ft(dn,n),Ft(ai,t),Ft(Qe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?mp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=mp(t),n=gp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(Qe),Ft(Qe,n)}function si(){ae(Qe),ae(ai),ae(dn)}function xs(t){t.memoizedState!==null&&Ft(ki,t);var n=Qe.current,r=gp(n,t.type);n!==r&&(Ft(ai,t),Ft(Qe,r))}function Ta(t){ai.current===t&&(ae(Qe),ae(ai)),ki.current===t&&(ae(ki),xl._currentValue=bt)}var Aa=Object.prototype.hasOwnProperty,Ir=a.unstable_scheduleCallback,Sa=a.unstable_cancelCallback,_c=a.unstable_shouldYield,Vs=a.unstable_requestPaint,Je=a.unstable_now,io=a.unstable_getCurrentPriorityLevel,ye=a.unstable_ImmediatePriority,Re=a.unstable_UserBlockingPriority,li=a.unstable_NormalPriority,ro=a.unstable_LowPriority,Ms=a.unstable_IdlePriority,Ec=a.log,Ur=a.unstable_setDisableYieldValue,Li=null,Pe=null;function Is(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}function jn(t){if(typeof Ec=="function"&&Ur(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Li,t)}catch{}}var Ye=Math.clz32?Math.clz32:so,Us=Math.log,ao=Math.LN2;function so(t){return t>>>=0,t===0?32:31-(Us(t)/ao|0)|0}var Ln=128,zi=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var S=r&134217727;return S!==0?(r=S&~c,r!==0?l=xn(r):(f&=S,f!==0?l=xn(f):t||(_=S&~_,_!==0&&(l=xn(_))))):(S=r&~c,S!==0?l=xn(S):f!==0?l=xn(f):t||(_=r&~_,_!==0&&(l=xn(_)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,_=n&-n,c>=_||c===32&&(_&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ba(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var t=Ln;return Ln<<=1,(Ln&4194176)===0&&(Ln=128),t}function Pi(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function wa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ce(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lo(t,n,r,l,c,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(r=_&~r;0<r;){var $=31-Ye(r),nt=1<<$;S[$]=0,O[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}r&=~nt}l!==0&&qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Hi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function oo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uo(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:Mp(t.type))}function Gi(t,n){var r=ot.p;try{return ot.p=t,n()}finally{ot.p=r}}var zn=Math.random().toString(36).slice(2),De="__reactFiber$"+zn,ve="__reactProps$"+zn,oi="__reactContainer$"+zn,kr="__reactEvents$"+zn,Ra="__reactListeners$"+zn,Bn="__reactHandles$"+zn,js="__reactResources$"+zn,Fi="__reactMarker$"+zn;function jr(t){delete t[De],delete t[ve],delete t[kr],delete t[Ra],delete t[Bn]}function Vn(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[oi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=vp(t);t!==null;){if(r=t[De])return r;t=vp(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[De]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Xi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qi(t){var n=t[js];return n||(n=t[js]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ee(t){t[Fi]=!0}var Ls=new Set,Da={};function an(t,n){tn(t,n),tn(t+"Capture",n)}function tn(t,n){for(Da[t]=n,t=0;t<n.length;t++)Ls.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zs={},Bs={};function co(t){return Aa.call(Bs,t)?!0:Aa.call(zs,t)?!1:Tc.test(t)?Bs[t]=!0:(zs[t]=!0,!1)}function Yi(t,n,r){if(co(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ki(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ho(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ac(t){var n=ho(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Lr(t){t._valueTracker||(t._valueTracker=Ac(t))}function Ps(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ho(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function se(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $i(t,n,r,l,c,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Oa(t,_,Ke(n)):r!=null?Oa(t,_,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ke(S):t.removeAttribute("name")}function zr(t,n,r,l,c,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Oa(t,n,r){n==="number"&&Ca(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Br(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Sc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function fo(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&qs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&qs(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(t){return wc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function Na(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if($i(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ve]||null;if(!c)throw Error(s(90));$i(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ps(l)}break t;case"textarea":Br(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Bt(t,!!r.multiple,n,!1)}}}var Gs=!1;function mo(t,n,r){if(Gs)return t(n,r);Gs=!0;try{var l=t(n);return l}finally{if(Gs=!1,(hi!==null||fi!==null)&&(au(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ve]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var vn=!1;if(sn)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{vn=!1}var qn=null,Wi=null,mi=null;function Fs(){if(mi)return mi;var t,n=Wi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Xs(){return!1}function Ce(t){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Xs,this.isPropagationStopped=Xs,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Ce(Ht),Hr=x({},Ht,{view:0,detail:0}),go=Ce(Hr),Va,Ma,Fn,Gr=x({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Va=t.screenX-Fn.screenX,Ma=t.screenY-Fn.screenY):Ma=Va=0,Fn=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),_n=Ce(Gr),po=x({},Gr,{dataTransfer:0}),Rc=Ce(po),Fr=x({},Hr,{relatedTarget:0}),Ia=Ce(Fr),Qs=x({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Ce(Qs),yo=x({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=Ce(yo),Dc=x({},Ht,{data:0}),Ys=Ce(Dc),Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_o[t])?!!n[t]:!1}function Qr(){return Ks}var Eo=x({},Hr,{key:function(t){if(t.key){var n=Xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ja=Ce(Eo),To=x({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Ce(To),gi=x({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Ao=Ce(gi),So=x({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),bo=Ce(So),wo=x({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Ce(wo),$e=x({},Ht,{newState:0,oldState:0}),Ro=Ce($e),Do=[9,13,27,32],Xn=sn&&"CompositionEvent"in window,u=null;sn&&"documentMode"in document&&(u=document.documentMode);var m=sn&&"TextEvent"in window&&!u,v=sn&&(!Xn||u&&8<u&&11>=u),b=" ",H=!1;function X(t,n){switch(t){case"keyup":return Do.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function _e(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(H=!0,b);case"textInput":return t=n.data,t===b&&H?null:t;default:return null}}function Ut(t,n){if(It)return t==="compositionend"||!Xn&&X(t,n)?(t=Fs(),mi=Wi=qn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Oe[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=cu(n,"onChange"),0<n.length&&(r=new xa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ie=null,Qn=null;function Zs(t){up(t,0)}function Co(t){var n=Xi(t);if(Ps(n))return t}function Ld(t,n){if(t==="change")return n}var zd=!1;if(sn){var Cc;if(sn){var Oc="oninput"in document;if(!Oc){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),Oc=typeof Bd.oninput=="function"}Cc=Oc}else Cc=!1;zd=Cc&&(!document.documentMode||9<document.documentMode)}function Pd(){Ie&&(Ie.detachEvent("onpropertychange",qd),Qn=Ie=null)}function qd(t){if(t.propertyName==="value"&&Co(Qn)){var n=[];pi(n,Qn,t,Na(t)),mo(Zs,n)}}function J_(t,n,r){t==="focusin"?(Pd(),Ie=n,Qn=r,Ie.attachEvent("onpropertychange",qd)):t==="focusout"&&Pd()}function t0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(Qn)}function e0(t,n){if(t==="click")return Co(n)}function n0(t,n){if(t==="input"||t==="change")return Co(n)}function i0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:i0;function Ws(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Aa.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Hd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gd(t,n){var r=Hd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Hd(r)}}function Fd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Xd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ca(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ca(t.document)}return n}function Nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function r0(t,n){var r=Xd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Fd(n.ownerDocument.documentElement,n)){if(l!==null&&Nc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Gd(n,f);var _=Gd(n,l);c&&_&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var a0=sn&&"documentMode"in document&&11>=document.documentMode,za=null,xc=null,Js=null,Vc=!1;function Qd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vc||za==null||za!==Ca(l)||(l=za,"selectionStart"in l&&Nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&Ws(Js,l)||(Js=l,l=cu(xc,"onSelect"),0<l.length&&(n=new xa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=za)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ba={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Mc={},Yd={};sn&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Kr(t){if(Mc[t])return Mc[t];if(!Ba[t])return t;var n=Ba[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Yd)return Mc[t]=n[r];return t}var Kd=Kr("animationend"),$d=Kr("animationiteration"),Zd=Kr("animationstart"),s0=Kr("transitionrun"),l0=Kr("transitionstart"),o0=Kr("transitioncancel"),Wd=Kr("transitionend"),Jd=new Map,tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(t,n){Jd.set(t,n),an(n,[t])}var En=[],Pa=0,Ic=0;function Oo(){for(var t=Pa,n=Ic=Pa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&em(r,c,f)}}function No(t,n,r,l){En[Pa++]=t,En[Pa++]=n,En[Pa++]=r,En[Pa++]=l,Ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,r,l){return No(t,n,r,l),xo(t)}function Ji(t,n){return No(t,null,null,n),xo(t)}function em(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function xo(t){if(50<bl)throw bl=0,Ph=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qa={},nm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=nm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:yt(n)},nm.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var Ha=[],Ga=0,Vo=null,Mo=0,An=[],Sn=0,$r=null,yi=1,vi="";function Zr(t,n){Ha[Ga++]=Mo,Ha[Ga++]=Vo,Vo=t,Mo=n}function im(t,n,r){An[Sn++]=yi,An[Sn++]=vi,An[Sn++]=$r,$r=t;var l=yi;t=vi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,yi=1<<32-Ye(n)+c|r<<c|l,vi=f+t}else yi=1<<f|r<<c|l,vi=t}function kc(t){t.return!==null&&(Zr(t,1),im(t,1,0))}function jc(t){for(;t===Vo;)Vo=Ha[--Ga],Ha[Ga]=null,Mo=Ha[--Ga],Ha[Ga]=null;for(;t===$r;)$r=An[--Sn],An[Sn]=null,vi=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null}var Ze=null,Ue=null,Pt=!1,In=null,Yn=!1,Lc=Error(s(519));function Wr(t){var n=Error(s(418,""));throw nl(Tn(n,t)),Lc}function rm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(r=0;r<Rl.length;r++)Mt(Rl[r],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Lr(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),Zi(n,l.value,l.defaultValue,l.children),Lr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||dp(n.textContent,r)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=hu),n=!0):n=!1,n||Wr(t)}function am(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Yn=!0;return;case 5:case 13:Yn=!1;return;default:Ze=Ze.return}}function tl(t){if(t!==Ze)return!1;if(!Pt)return am(t),Pt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||af(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Wr(t),am(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=kn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?kn(t.stateNode.nextSibling):null;return!0}function el(){Ue=Ze=null,Pt=!1}function nl(t){In===null?In=[t]:In.push(t)}var il=Error(s(460)),sm=Error(s(474)),zc={then:function(){}};function lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Io(){}function om(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Io,Io),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===il?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Io,Io);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===il?Error(s(483)):t}throw rl=n,il}}var rl=null;function um(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}var Fa=null,al=0;function Uo(t){var n=al;return al+=1,Fa===null&&(Fa=[]),om(Fa,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ko(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cm(t){var n=t._init;return n(t._payload)}function hm(t){function n(q,L){if(t){var G=q.deletions;G===null?(q.deletions=[L],q.flags|=16):G.push(L)}}function r(q,L){if(!t)return null;for(;L!==null;)n(q,L),L=L.sibling;return null}function l(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function c(q,L){return q=hr(q,L),q.index=0,q.sibling=null,q}function f(q,L,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<L?(q.flags|=33554434,L):G):(q.flags|=33554434,L)):(q.flags|=1048576,L)}function _(q){return t&&q.alternate===null&&(q.flags|=33554434),q}function S(q,L,G,J){return L===null||L.tag!==6?(L=Mh(G,q.mode,J),L.return=q,L):(L=c(L,G),L.return=q,L)}function O(q,L,G,J){var ct=G.type;return ct===y?$(q,L,G.props.children,J,G.key):L!==null&&(L.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Y&&cm(ct)===L.type)?(L=c(L,G.props),sl(L,G),L.return=q,L):(L=tu(G.type,G.key,G.props,null,q.mode,J),sl(L,G),L.return=q,L)}function B(q,L,G,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Ih(G,q.mode,J),L.return=q,L):(L=c(L,G.children||[]),L.return=q,L)}function $(q,L,G,J,ct){return L===null||L.tag!==7?(L=oa(G,q.mode,J,ct),L.return=q,L):(L=c(L,G),L.return=q,L)}function nt(q,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Mh(""+L,q.mode,G),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return G=tu(L.type,L.key,L.props,null,q.mode,G),sl(G,L),G.return=q,G;case g:return L=Ih(L,q.mode,G),L.return=q,L;case Y:var J=L._init;return L=J(L._payload),nt(q,L,G)}if(lt(L)||tt(L))return L=oa(L,q.mode,G,null),L.return=q,L;if(typeof L.then=="function")return nt(q,Uo(L),G);if(L.$$typeof===A)return nt(q,Zo(q,L),G);ko(q,L)}return null}function F(q,L,G,J){var ct=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ct!==null?null:S(q,L,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return G.key===ct?O(q,L,G,J):null;case g:return G.key===ct?B(q,L,G,J):null;case Y:return ct=G._init,G=ct(G._payload),F(q,L,G,J)}if(lt(G)||tt(G))return ct!==null?null:$(q,L,G,J,null);if(typeof G.then=="function")return F(q,L,Uo(G),J);if(G.$$typeof===A)return F(q,L,Zo(q,G),J);ko(q,G)}return null}function K(q,L,G,J,ct){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get(G)||null,S(L,q,""+J,ct);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case d:return q=q.get(J.key===null?G:J.key)||null,O(L,q,J,ct);case g:return q=q.get(J.key===null?G:J.key)||null,B(L,q,J,ct);case Y:var Ct=J._init;return J=Ct(J._payload),K(q,L,G,J,ct)}if(lt(J)||tt(J))return q=q.get(G)||null,$(L,q,J,ct,null);if(typeof J.then=="function")return K(q,L,G,Uo(J),ct);if(J.$$typeof===A)return K(q,L,G,Zo(L,J),ct);ko(L,J)}return null}function ft(q,L,G,J){for(var ct=null,Ct=null,mt=L,vt=L=0,Ve=null;mt!==null&&vt<G.length;vt++){mt.index>vt?(Ve=mt,mt=null):Ve=mt.sibling;var qt=F(q,mt,G[vt],J);if(qt===null){mt===null&&(mt=Ve);break}t&&mt&&qt.alternate===null&&n(q,mt),L=f(qt,L,vt),Ct===null?ct=qt:Ct.sibling=qt,Ct=qt,mt=Ve}if(vt===G.length)return r(q,mt),Pt&&Zr(q,vt),ct;if(mt===null){for(;vt<G.length;vt++)mt=nt(q,G[vt],J),mt!==null&&(L=f(mt,L,vt),Ct===null?ct=mt:Ct.sibling=mt,Ct=mt);return Pt&&Zr(q,vt),ct}for(mt=l(mt);vt<G.length;vt++)Ve=K(mt,q,vt,G[vt],J),Ve!==null&&(t&&Ve.alternate!==null&&mt.delete(Ve.key===null?vt:Ve.key),L=f(Ve,L,vt),Ct===null?ct=Ve:Ct.sibling=Ve,Ct=Ve);return t&&mt.forEach(function(vr){return n(q,vr)}),Pt&&Zr(q,vt),ct}function At(q,L,G,J){if(G==null)throw Error(s(151));for(var ct=null,Ct=null,mt=L,vt=L=0,Ve=null,qt=G.next();mt!==null&&!qt.done;vt++,qt=G.next()){mt.index>vt?(Ve=mt,mt=null):Ve=mt.sibling;var vr=F(q,mt,qt.value,J);if(vr===null){mt===null&&(mt=Ve);break}t&&mt&&vr.alternate===null&&n(q,mt),L=f(vr,L,vt),Ct===null?ct=vr:Ct.sibling=vr,Ct=vr,mt=Ve}if(qt.done)return r(q,mt),Pt&&Zr(q,vt),ct;if(mt===null){for(;!qt.done;vt++,qt=G.next())qt=nt(q,qt.value,J),qt!==null&&(L=f(qt,L,vt),Ct===null?ct=qt:Ct.sibling=qt,Ct=qt);return Pt&&Zr(q,vt),ct}for(mt=l(mt);!qt.done;vt++,qt=G.next())qt=K(mt,q,vt,qt.value,J),qt!==null&&(t&&qt.alternate!==null&&mt.delete(qt.key===null?vt:qt.key),L=f(qt,L,vt),Ct===null?ct=qt:Ct.sibling=qt,Ct=qt);return t&&mt.forEach(function(AE){return n(q,AE)}),Pt&&Zr(q,vt),ct}function ue(q,L,G,J){if(typeof G=="object"&&G!==null&&G.type===y&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case d:t:{for(var ct=G.key;L!==null;){if(L.key===ct){if(ct=G.type,ct===y){if(L.tag===7){r(q,L.sibling),J=c(L,G.props.children),J.return=q,q=J;break t}}else if(L.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Y&&cm(ct)===L.type){r(q,L.sibling),J=c(L,G.props),sl(J,G),J.return=q,q=J;break t}r(q,L);break}else n(q,L);L=L.sibling}G.type===y?(J=oa(G.props.children,q.mode,J,G.key),J.return=q,q=J):(J=tu(G.type,G.key,G.props,null,q.mode,J),sl(J,G),J.return=q,q=J)}return _(q);case g:t:{for(ct=G.key;L!==null;){if(L.key===ct)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){r(q,L.sibling),J=c(L,G.children||[]),J.return=q,q=J;break t}else{r(q,L);break}else n(q,L);L=L.sibling}J=Ih(G,q.mode,J),J.return=q,q=J}return _(q);case Y:return ct=G._init,G=ct(G._payload),ue(q,L,G,J)}if(lt(G))return ft(q,L,G,J);if(tt(G)){if(ct=tt(G),typeof ct!="function")throw Error(s(150));return G=ct.call(G),At(q,L,G,J)}if(typeof G.then=="function")return ue(q,L,Uo(G),J);if(G.$$typeof===A)return ue(q,L,Zo(q,G),J);ko(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(r(q,L.sibling),J=c(L,G),J.return=q,q=J):(r(q,L),J=Mh(G,q.mode,J),J.return=q,q=J),_(q)):r(q,L)}return function(q,L,G,J){try{al=0;var ct=ue(q,L,G,J);return Fa=null,ct}catch(mt){if(mt===il)throw mt;var Ct=Dn(29,mt,null,q.mode);return Ct.lanes=J,Ct.return=q,Ct}finally{}}}var Jr=hm(!0),fm=hm(!1),Xa=Vt(null),jo=Vt(0);function dm(t,n){t=Oi,Ft(jo,t),Ft(Xa,n),Oi=t|n.baseLanes}function Bc(){Ft(jo,Oi),Ft(Xa,Xa.current)}function Pc(){Oi=jo.current,ae(Xa),ae(jo)}var bn=Vt(null),Kn=null;function tr(t){var n=t.alternate;Ft(Te,Te.current&1),Ft(bn,t),Kn===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(Kn=t)}function mm(t){if(t.tag===22){if(Ft(Te,Te.current),Ft(bn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else er()}function er(){Ft(Te,Te.current),Ft(bn,bn.current)}function _i(t){ae(bn),Kn===t&&(Kn=null),ae(Te)}var Te=Vt(0);function Lo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var u0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},c0=a.unstable_scheduleCallback,h0=a.unstable_NormalPriority,Ae={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new u0,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&c0(h0,function(){t.controller.abort()})}var ol=null,Hc=0,Qa=0,Ya=null;function f0(t,n){if(ol===null){var r=ol=[];Hc=0,Qa=Kh(),Ya={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Hc++,n.then(gm,gm),n}function gm(){if(--Hc===0&&ol!==null){Ya!==null&&(Ya.status="fulfilled");var t=ol;ol=null,Qa=0,Ya=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function d0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var pm=w.S;w.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&f0(t,n),pm!==null&&pm(t,n)};var ta=Vt(null);function Gc(){var t=ta.current;return t!==null?t:$t.pooledCache}function zo(t,n){n===null?Ft(ta,ta.current):Ft(ta,n.pool)}function ym(){var t=Gc();return t===null?null:{parent:Ae._currentValue,pool:t}}var nr=0,Rt=null,Qt=null,de=null,Bo=!1,Ka=!1,ea=!1,Po=0,ul=0,$a=null,m0=0;function he(){throw Error(s(321))}function Fc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Xc(t,n,r,l,c,f){return nr=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,w.H=t===null||t.memoizedState===null?na:ir,ea=!1,f=r(l,c),ea=!1,Ka&&(f=_m(n,r,l,c)),vm(t),f}function vm(t){w.H=$n;var n=Qt!==null&&Qt.next!==null;if(nr=0,de=Qt=Rt=null,Bo=!1,ul=0,$a=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&$o(t)&&(Ne=!0))}function _m(t,n,r,l){Rt=t;var c=0;do{if(Ka&&($a=null),ul=0,Ka=!1,25<=c)throw Error(s(301));if(c+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}w.H=ia,f=n(r,l)}while(Ka);return f}function g0(){var t=w.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Qc(){var t=Po!==0;return Po=0,t}function Yc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Kc(t){if(Bo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bo=!1}nr=0,de=Qt=Rt=null,Ka=!1,ul=Po=0,$a=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Rt.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?Rt.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Rt.memoizedState=de=t:de=de.next=t}return de}var qo;qo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(t){var n=ul;return ul+=1,$a===null&&($a=[]),t=om($a,t,n),n=Rt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,w.H=n===null||n.memoizedState===null?na:ir),t}function Ho(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===A)return qe(t)}throw Error(s(438,String(t)))}function $c(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qo(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=W;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Go(t){var n=me();return Zc(n,Qt,t)}function Zc(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var S=_=null,O=null,B=n,$=!1;do{var nt=B.lane&-536870913;if(nt!==B.lane?(kt&nt)===nt:(nr&nt)===nt){var F=B.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),nt===Qa&&($=!0);else if((nr&F)===F){B=B.next,F===Qa&&($=!0);continue}else nt={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(S=O=nt,_=f):O=O.next=nt,Rt.lanes|=F,fr|=F;nt=B.action,ea&&r(f,nt),f=B.hasEagerState?B.eagerState:r(f,nt)}else F={lane:nt,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(S=O=F,_=f):O=O.next=F,Rt.lanes|=nt,fr|=nt;B=B.next}while(B!==null&&B!==n);if(O===null?_=f:O.next=S,!ln(f,t.memoizedState)&&(Ne=!0,$&&(r=Ya,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=O,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wc(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=t(f,_.action),_=_.next;while(_!==c);ln(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Em(t,n,r){var l=Rt,c=me(),f=Pt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!ln((Qt||c).memoizedState,r);if(_&&(c.memoizedState=r,Ne=!0),c=c.queue,eh(Sm.bind(null,l,c,t),[t]),c.getSnapshot!==n||_||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Za(9,Am.bind(null,l,c,r,n),{destroy:void 0},null),$t===null)throw Error(s(349));f||(nr&60)!==0||Tm(l,n,r)}return r}function Tm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=qo(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Am(t,n,r,l){n.value=r,n.getSnapshot=l,bm(n)&&wm(t)}function Sm(t,n,r){return r(function(){bm(n)&&wm(t)})}function bm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function wm(t){var n=Ji(t,2);n!==null&&We(n,t,2)}function Jc(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),ea){jn(!0);try{r()}finally{jn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Rm(t,n,r,l){return t.baseState=r,Zc(t,Qt,typeof l=="function"?l:Ei)}function p0(t,n,r,l,c){if(Qo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};w.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Dm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Dm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=w.T,_={};w.T=_;try{var S=r(c,l),O=w.S;O!==null&&O(_,S),Cm(t,n,S)}catch(B){th(t,n,B)}finally{w.T=f}}else try{f=r(c,l),Cm(t,n,f)}catch(B){th(t,n,B)}}function Cm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Om(t,n,l)},function(l){return th(t,n,l)}):Om(t,n,r)}function Om(t,n,r){n.status="fulfilled",n.value=r,Nm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Dm(t,r)))}function th(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Nm(n),n=n.next;while(n!==l)}t.action=null}function Nm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xm(t,n){return n}function Vm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=Rt;if(Pt){if(Ue){e:{for(var c=Ue,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=kn(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:n},r.queue=l,r=$m.bind(null,Rt,l),l.dispatch=r,l=Jc(!1),f=sh.bind(null,Rt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=p0.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Mm(t){var n=me();return Im(n,Qt,t)}function Im(t,n,r){n=Zc(t,n,xm)[0],t=Go(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?cl(n):n;var l=me(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Rt.flags|=2048,Za(9,y0.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function y0(t,n){t.action=n}function Um(t){var n=me(),r=Qt;if(r!==null)return Im(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Za(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Rt.updateQueue,n===null&&(n=qo(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function km(){return me().memoizedState}function Fo(t,n,r,l){var c=en();Rt.flags|=t,c.memoizedState=Za(1|n,r,{destroy:void 0},l===void 0?null:l)}function Xo(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&Fc(l,Qt.memoizedState.deps)?c.memoizedState=Za(n,r,f,l):(Rt.flags|=t,c.memoizedState=Za(1|n,r,f,l))}function jm(t,n){Fo(8390656,8,t,n)}function eh(t,n){Xo(2048,8,t,n)}function Lm(t,n){return Xo(4,2,t,n)}function zm(t,n){return Xo(4,4,t,n)}function Bm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pm(t,n,r){r=r!=null?r.concat([t]):null,Xo(4,4,Bm.bind(null,n,t),r)}function nh(){}function qm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Fc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Hm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Fc(n,l[1]))return l[0];if(l=t(),ea){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,n],l}function ih(t,n,r){return r===void 0||(nr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Fg(),Rt.lanes|=t,fr|=t,r)}function Gm(t,n,r,l){return ln(r,n)?r:Xa.current!==null?(t=ih(t,r,l),ln(t,n)||(Ne=!0),t):(nr&42)===0?(Ne=!0,t.memoizedState=r):(t=Fg(),Rt.lanes|=t,fr|=t,n)}function Fm(t,n,r,l,c){var f=ot.p;ot.p=f!==0&&8>f?f:8;var _=w.T,S={};w.T=S,sh(t,!1,n,r);try{var O=c(),B=w.S;if(B!==null&&B(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=d0(O,l);hl(t,n,$,hn(t))}else hl(t,n,l,hn(t))}catch(nt){hl(t,n,{then:function(){},status:"rejected",reason:nt},hn())}finally{ot.p=f,w.T=_}}function v0(){}function rh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Xm(t).queue;Fm(t,c,n,bt,r===null?v0:function(){return Qm(t),r(l)})}function Xm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:bt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qm(t){var n=Xm(t).next.queue;hl(t,n,{},hn())}function ah(){return qe(xl)}function Ym(){return me().memoizedState}function Km(){return me().memoizedState}function _0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=sr(r);var l=lr(n,t,r);l!==null&&(We(l,n,r),ml(l,n,r)),n={cache:qc()},t.payload=n;return}n=n.return}}function E0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Qo(t)?Zm(n,r):(r=Uc(t,n,r,l),r!==null&&(We(r,t,l),Wm(r,n,l)))}function $m(t,n,r){var l=hn();hl(t,n,r,l)}function hl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qo(t))Zm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,S=f(_,r);if(c.hasEagerState=!0,c.eagerState=S,ln(S,_))return No(t,n,c,0),$t===null&&Oo(),!1}catch{}finally{}if(r=Uc(t,n,c,l),r!==null)return We(r,t,l),Wm(r,n,l),!0}return!1}function sh(t,n,r,l){if(l={lane:2,revertLane:Kh(),action:l,hasEagerState:!1,eagerState:null,next:null},Qo(t)){if(n)throw Error(s(479))}else n=Uc(t,r,l,2),n!==null&&We(n,t,2)}function Qo(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Zm(t,n){Ka=Bo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Wm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}var $n={readContext:qe,use:Ho,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he};$n.useCacheRefresh=he,$n.useMemoCache=he,$n.useHostTransitionStatus=he,$n.useFormState=he,$n.useActionState=he,$n.useOptimistic=he;var na={readContext:qe,use:Ho,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:jm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fo(4194308,4,Bm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fo(4194308,4,t,n)},useInsertionEffect:function(t,n){Fo(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(ea){jn(!0);try{t()}finally{jn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(ea){jn(!0);try{r(n)}finally{jn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=E0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Jc(t);var n=t.queue,r=$m.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:nh,useDeferredValue:function(t,n){var r=en();return ih(r,t,n)},useTransition:function(){var t=Jc(!1);return t=Fm.bind(null,Rt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=en();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(kt&60)!==0||Tm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,jm(Sm.bind(null,l,f,t),[t]),l.flags|=2048,Za(9,Am.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=en(),n=$t.identifierPrefix;if(Pt){var r=vi,l=yi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Po++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=m0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return en().memoizedState=_0.bind(null,Rt)}};na.useMemoCache=$c,na.useHostTransitionStatus=ah,na.useFormState=Vm,na.useActionState=Vm,na.useOptimistic=function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=sh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]};var ir={readContext:qe,use:Ho,useCallback:qm,useContext:qe,useEffect:eh,useImperativeHandle:Pm,useInsertionEffect:Lm,useLayoutEffect:zm,useMemo:Hm,useReducer:Go,useRef:km,useState:function(){return Go(Ei)},useDebugValue:nh,useDeferredValue:function(t,n){var r=me();return Gm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Go(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Em,useId:Ym};ir.useCacheRefresh=Km,ir.useMemoCache=$c,ir.useHostTransitionStatus=ah,ir.useFormState=Mm,ir.useActionState=Mm,ir.useOptimistic=function(t,n){var r=me();return Rm(r,Qt,t,n)};var ia={readContext:qe,use:Ho,useCallback:qm,useContext:qe,useEffect:eh,useImperativeHandle:Pm,useInsertionEffect:Lm,useLayoutEffect:zm,useMemo:Hm,useReducer:Wc,useRef:km,useState:function(){return Wc(Ei)},useDebugValue:nh,useDeferredValue:function(t,n){var r=me();return Qt===null?ih(r,t,n):Gm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Wc(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Em,useId:Ym};ia.useCacheRefresh=Km,ia.useMemoCache=$c,ia.useHostTransitionStatus=ah,ia.useFormState=Um,ia.useActionState=Um,ia.useOptimistic=function(t,n){var r=me();return Qt!==null?Rm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function lh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var oh={isMounted:function(t){return(t=t._reactInternals)?dt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=sr(l);c.payload=n,r!=null&&(c.callback=r),n=lr(t,c,l),n!==null&&(We(n,t,l),ml(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=sr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=lr(t,c,l),n!==null&&(We(n,t,l),ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=sr(r);l.tag=2,n!=null&&(l.callback=n),n=lr(t,l,r),n!==null&&(We(n,t,r),ml(n,t,r))}};function Jm(t,n,r,l,c,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Ws(r,l)||!Ws(c,f):!0}function tg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&oh.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function eg(t){Yo(t)}function ng(t){console.error(t)}function ig(t){Yo(t)}function Ko(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function rg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function uh(t,n,r){return r=sr(r),r.tag=3,r.payload={element:null},r.callback=function(){Ko(t,n)},r}function ag(t){return t=sr(t),t.tag=3,t}function sg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){rg(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){rg(n,r,l),typeof c!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function T0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&dl(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Kn===null?Gh():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===zc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Xh(t,l,c)),!1;case 22:return r.flags|=65536,l===zc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Xh(t,l,c)),!1}throw Error(s(435,r.tag))}return Xh(t,l,c),Gh(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Lc&&(t=Error(s(422),{cause:l}),nl(Tn(t,r)))):(l!==Lc&&(n=Error(s(423),{cause:l}),nl(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=uh(t.stateNode,l,c),bh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),Al===null?Al=[f]:Al.push(f),oe!==4&&(oe=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=uh(r.stateNode,l,t),bh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(dr===null||!dr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=ag(c),sg(c,t,r,l),bh(r,c),!1}r=r.return}while(r!==null);return!1}var lg=Error(s(461)),Ne=!1;function ke(t,n,r,l){n.child=t===null?fm(n,null,r,l):Jr(n,t.child,r,l)}function og(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return sa(n),l=Xc(t,n,r,_,f,c),S=Qc(),t!==null&&!Ne?(Yc(t,n,c),Ti(t,n,c)):(Pt&&S&&kc(n),n.flags|=1,ke(t,n,l,c),n.child)}function ug(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,cg(t,n,f,l,c)):(t=tu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!vh(t,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(_,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=hr(f,l),t.ref=n.ref,t.return=n,n.child=t}function cg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,vh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return ch(t,n,r,l,c)}function hg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(fl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=_!==null?_.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return fg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zo(n,_!==null?_.cachePool:null),_!==null?dm(n,_):Bc(),mm(n);else return n.lanes=n.childLanes=536870912,fg(t,n,_!==null?_.baseLanes|r:r,r)}else _!==null?(zo(n,_.cachePool),dm(n,_),er(),n.memoizedState=null):(t!==null&&zo(n,null),Bc(),er());return ke(t,n,c,r),n.child}function fg(t,n,r,l){var c=Gc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zo(n,null),Bc(),mm(n),t!==null&&dl(t,n,l,!0),null}function fl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function ch(t,n,r,l,c){return sa(n),r=Xc(t,n,r,l,void 0,c),l=Qc(),t!==null&&!Ne?(Yc(t,n,c),Ti(t,n,c)):(Pt&&l&&kc(n),n.flags|=1,ke(t,n,r,c),n.child)}function dg(t,n,r,l,c,f){return sa(n),n.updateQueue=null,r=_m(n,l,r,c),vm(t),l=Qc(),t!==null&&!Ne?(Yc(t,n,f),Ti(t,n,f)):(Pt&&l&&kc(n),n.flags|=1,ke(t,n,r,f),n.child)}function mg(t,n,r,l,c){if(sa(n),n.stateNode===null){var f=qa,_=r.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ah(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?qe(_):qa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(lh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&oh.enqueueReplaceState(f,f.state,null),pl(n,l,f,c),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,O=ra(r,S);f.props=O;var B=f.context,$=r.contextType;_=qa,typeof $=="object"&&$!==null&&(_=qe($));var nt=r.getDerivedStateFromProps;$=typeof nt=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||B!==_)&&tg(n,f,l,_),ar=!1;var F=n.memoizedState;f.state=F,pl(n,l,f,c),gl(),B=n.memoizedState,S||F!==B||ar?(typeof nt=="function"&&(lh(n,r,nt,l),B=n.memoizedState),(O=ar||Jm(n,r,O,l,F,B,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=_,l=O):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Sh(t,n),_=n.memoizedProps,$=ra(r,_),f.props=$,nt=n.pendingProps,F=f.context,B=r.contextType,O=qa,typeof B=="object"&&B!==null&&(O=qe(B)),S=r.getDerivedStateFromProps,(B=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==nt||F!==O)&&tg(n,f,l,O),ar=!1,F=n.memoizedState,f.state=F,pl(n,l,f,c),gl();var K=n.memoizedState;_!==nt||F!==K||ar||t!==null&&t.dependencies!==null&&$o(t.dependencies)?(typeof S=="function"&&(lh(n,r,S,l),K=n.memoizedState),($=ar||Jm(n,r,$,l,F,K,O)||t!==null&&t.dependencies!==null&&$o(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,O)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),f.props=l,f.state=K,f.context=O,l=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,c),n.child=Jr(n,null,r,c)):ke(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function gg(t,n,r,l){return el(),n.flags|=256,ke(t,n,r,l),n.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function fh(t){return{baseLanes:t,cachePool:ym()}}function dh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function pg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?tr(n):er(),Pt){var S=Ue,O;if(O=S){t:{for(O=S,S=Yn;O.nodeType!==8;){if(!S){S=null;break t}if(O=kn(O.nextSibling),O===null){S=null;break t}}S=O}S!==null?(n.memoizedState={dehydrated:S,treeContext:$r!==null?{id:yi,overflow:vi}:null,retryLane:536870912},O=Dn(18,null,null,0),O.stateNode=S,O.return=n,n.child=O,Ze=n,Ue=null,O=!0):O=!1}O||Wr(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return S=l.children,l=l.fallback,c?(er(),c=n.mode,S=gh({mode:"hidden",children:S},c),l=oa(l,c,r,null),S.return=n,l.return=n,S.sibling=l,n.child=S,c=n.child,c.memoizedState=fh(r),c.childLanes=dh(t,_,r),n.memoizedState=hh,l):(tr(n),mh(n,S))}if(O=t.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(f)n.flags&256?(tr(n),n.flags&=-257,n=ph(t,n,r)):n.memoizedState!==null?(er(),n.child=t.child,n.flags|=128,n=null):(er(),c=l.fallback,S=n.mode,l=gh({mode:"visible",children:l.children},S),c=oa(c,S,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Jr(n,t.child,null,r),l=n.child,l.memoizedState=fh(r),l.childLanes=dh(t,_,r),n.memoizedState=hh,n=c);else if(tr(n),S.data==="$!"){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),n=ph(t,n,r)}else if(Ne||dl(t,n,r,!1),_=(r&t.childLanes)!==0,Ne||_){if(_=$t,_!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==O.retryLane)throw O.retryLane=l,Ji(t,l),We(_,t,l),lg}S.data==="$?"||Gh(),n=ph(t,n,r)}else S.data==="$?"?(n.flags|=128,n.child=t.child,n=k0.bind(null,t),S._reactRetry=n,n=null):(t=O.treeContext,Ue=kn(S.nextSibling),Ze=n,Pt=!0,In=null,Yn=!1,t!==null&&(An[Sn++]=yi,An[Sn++]=vi,An[Sn++]=$r,yi=t.id,vi=t.overflow,$r=n),n=mh(n,l.children),n.flags|=4096);return n}return c?(er(),c=l.fallback,S=n.mode,O=t.child,B=O.sibling,l=hr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&31457280,B!==null?c=hr(B,c):(c=oa(c,S,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,S=t.child.memoizedState,S===null?S=fh(r):(O=S.cachePool,O!==null?(B=Ae._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=ym(),S={baseLanes:S.baseLanes|r,cachePool:O}),c.memoizedState=S,c.childLanes=dh(t,_,r),n.memoizedState=hh,l):(tr(n),r=t.child,t=r.sibling,r=hr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function mh(t,n){return n=gh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gh(t,n){return qg(t,n,0,null)}function ph(t,n,r){return Jr(n,t.child,null,r),t=mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Eh(t.return,n,r)}function yh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function vg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ke(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yg(t,r,n);else if(t.tag===19)yg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Lo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),yh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Lo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}yh(n,!0,r,null,f);break;case"together":yh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),fr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(dl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=hr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=hr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function vh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&$o(t)))}function A0(t,n,r){switch(n.tag){case 3:ji(n,n.stateNode.containerInfo),rr(n,Ae,t.memoizedState.cache),el();break;case 27:case 5:xs(n);break;case 4:ji(n,n.stateNode.containerInfo);break;case 10:rr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?pg(t,n,r):(tr(n),t=Ti(t,n,r),t!==null?t.sibling:null);tr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(dl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return vg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,hg(t,n,r);case 24:rr(n,Ae,t.memoizedState.cache)}return Ti(t,n,r)}function _g(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!vh(t,r)&&(n.flags&128)===0)return Ne=!1,A0(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,Pt&&(n.flags&1048576)!==0&&im(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Vh(l)?(t=ra(l,t),n.tag=1,n=mg(null,n,l,t,r)):(n.tag=0,n=ch(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===I){n.tag=11,n=og(null,n,l,t,r);break t}else if(c===Q){n.tag=14,n=ug(null,n,l,t,r);break t}}throw n=D(l)||l,Error(s(306,n,""))}}return n;case 0:return ch(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),mg(t,n,l,c,r);case 3:t:{if(ji(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Sh(t,n),pl(n,f,null,r);var _=n.memoizedState;if(f=_.cache,rr(n,Ae,f),f!==c.cache&&Th(n,[Ae],r,!0),gl(),f=_.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=gg(t,n,f,r);break t}else if(f!==l){l=Tn(Error(s(424)),n),nl(l),n=gg(t,n,f,r);break t}else for(Ue=kn(n.stateNode.containerInfo.firstChild),Ze=n,Pt=!0,In=null,Yn=!0,r=fm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(el(),f===l){n=Ti(t,n,r);break t}ke(t,n,f,r)}n=n.child}return n;case 26:return fl(t,n),t===null?(r=Ap(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=fu(dn.current).createElement(r),l[De]=n,l[ve]=t,je(l,r,t),ee(l),n.stateNode=l):n.memoizedState=Ap(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xs(n),t===null&&Pt&&(l=n.stateNode=_p(n.type,n.pendingProps,dn.current),Ze=n,Yn=!0,Ue=kn(l.firstChild)),l=n.pendingProps.children,t!==null||Pt?ke(t,n,l,r):n.child=Jr(n,null,l,r),fl(t,n),n.child;case 5:return t===null&&Pt&&((c=l=Ue)&&(l=W0(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,Ue=kn(l.firstChild),Yn=!1,c=!0):c=!1),c||Wr(n)),xs(n),c=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,af(c,f)?l=null:_!==null&&af(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=Xc(t,n,g0,null,null,r),xl._currentValue=c),fl(t,n),ke(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=Ue)&&(r=J0(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Wr(n)),null;case 13:return pg(t,n,r);case 4:return ji(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,r):ke(t,n,l,r),n.child;case 11:return og(t,n,n.type,n.pendingProps,r);case 7:return ke(t,n,n.pendingProps,r),n.child;case 8:return ke(t,n,n.pendingProps.children,r),n.child;case 12:return ke(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,rr(n,n.type,l.value),ke(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,sa(n),c=qe(c),l=l(c),n.flags|=1,ke(t,n,l,r),n.child;case 14:return ug(t,n,n.type,n.pendingProps,r);case 15:return cg(t,n,n.type,n.pendingProps,r);case 19:return vg(t,n,r);case 22:return hg(t,n,r);case 24:return sa(n),l=qe(Ae),t===null?(c=Gc(),c===null&&(c=$t,f=qc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Ah(n),rr(n,Ae,c)):((t.lanes&r)!==0&&(Sh(t,n),pl(n,null,null,r),gl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),rr(n,Ae,l)):(l=f.cache,rr(n,Ae,l),l!==c.cache&&Th(n,[Ae],r,!0))),ke(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var _h=Vt(null),aa=null,Ai=null;function rr(t,n,r){Ft(_h,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=_h.current,ae(_h)}function Eh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Th(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=c;for(var O=0;O<n.length;O++)if(S.context===n[O]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),Eh(f.return,r,t),l||(_=null);break t}f=S.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Eh(_,r,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function dl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=c.type;ln(c.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(c===ki.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&Th(n,t,r,l),n.flags|=262144}function $o(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){aa=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Eg(aa,t)}function Zo(t,n){return aa===null&&sa(t),Eg(t,n)}function Eg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var ar=!1;function Ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function lr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xo(t),em(t,null,r),n}return No(t,l,n,r),xo(t)}function ml(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}function bh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var wh=!1;function gl(){if(wh){var t=Ya;if(t!==null)throw t}}function pl(t,n,r,l){wh=!1;var c=t.updateQueue;ar=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var O=S,B=O.next;O.next=null,_===null?f=B:_.next=B,_=O;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=B:S.next=B,$.lastBaseUpdate=O))}if(f!==null){var nt=c.baseState;_=0,$=B=O=null,S=f;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(kt&F)===F:(l&F)===F){F!==0&&F===Qa&&(wh=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=t,At=S;F=n;var ue=r;switch(At.tag){case 1:if(ft=At.payload,typeof ft=="function"){nt=ft.call(ue,nt,F);break t}nt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=At.payload,F=typeof ft=="function"?ft.call(ue,nt,F):ft,F==null)break t;nt=x({},nt,F);break t;case 2:ar=!0}}F=S.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=c.callbacks,K===null?c.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(B=$=K,O=nt):$=$.next=K,_|=F;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;K=S,S=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);$===null&&(O=nt),c.baseState=O,c.firstBaseUpdate=B,c.lastBaseUpdate=$,f===null&&(c.shared.lanes=0),fr|=_,t.lanes=_,t.memoizedState=nt}}function Tg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ag(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Tg(r[t],n)}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(S){Kt(n,n.return,S)}}function or(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,c=n;var O=r;try{S()}catch(B){Kt(c,O,B)}}}l=l.next}while(l!==f)}}catch(B){Kt(n,n.return,B)}}function Sg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Ag(n,r)}catch(l){Kt(t,t.return,l)}}}function bg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function la(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Kt(t,n,f)}}function on(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function wg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Rg(t,n,r){try{var l=t.stateNode;Q0(l,t.type,r,n),l[ve]=n}catch(c){Kt(t,t.return,c)}}function Dg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Rh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Dg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=hu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Dh(t,n,r),t=t.sibling;t!==null;)Dh(t,n,r),t=t.sibling}function Wo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Wo(t,n,r),t=t.sibling;t!==null;)Wo(t,n,r),t=t.sibling}var bi=!1,le=!1,Ch=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,xe=null,Og=!1;function S0(t,n){if(t=t.containerInfo,nf=vu,t=Xd(t),Nc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,S=-1,O=-1,B=0,$=0,nt=t,F=null;e:for(;;){for(var K;nt!==r||c!==0&&nt.nodeType!==3||(S=_+c),nt!==f||l!==0&&nt.nodeType!==3||(O=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(K=nt.firstChild)!==null;)F=nt,nt=K;for(;;){if(nt===t)break e;if(F===r&&++B===c&&(S=_),F===f&&++$===l&&(O=_),(K=nt.nextSibling)!==null)break;nt=F,F=nt.parentNode}nt=K}r=S===-1||O===-1?null:{start:S,end:O}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:t,selectionRange:r},vu=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ft=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){Kt(r,r.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)of(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}return ft=Og,Og=!1,ft}function Ng(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(t,r),l&4&&yl(5,r);break;case 1:if(Ri(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(S){Kt(r,r.return,S)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Kt(r,r.return,S)}}l&64&&Sg(r),l&512&&la(r,r.return);break;case 3:if(Ri(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Ag(l,t)}catch(S){Kt(r,r.return,S)}}break;case 26:Ri(t,r),l&512&&la(r,r.return);break;case 27:case 5:Ri(t,r),n===null&&l&4&&wg(r),l&512&&la(r,r.return);break;case 12:Ri(t,r);break;case 13:Ri(t,r),l&4&&Mg(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||le;var f=bi,_=le;bi=c,(le=n)&&!_?ur(t,r,(r.subtreeFlags&8772)!==0):Ri(t,r),bi=f,le=_}l&512&&(r.memoizedProps.mode==="manual"?la(r,r.return):on(r,r.return));break;default:Ri(t,r)}}function xg(t){var n=t.alternate;n!==null&&(t.alternate=null,xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&jr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,un=!1;function wi(t,n,r){for(r=r.child;r!==null;)Vg(t,n,r),r=r.sibling}function Vg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Li,r)}catch{}switch(r.tag){case 26:le||on(r,n),wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:le||on(r,n);var l=ge,c=un;for(ge=r.stateNode,wi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);jr(r),ge=l,un=c;break;case 5:le||on(r,n);case 6:c=ge;var f=un;if(ge=null,wi(t,n,r),ge=c,un=f,ge!==null)if(un)try{t=ge,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Kt(r,n,_)}else try{ge.removeChild(r.stateNode)}catch(_){Kt(r,n,_)}break;case 18:ge!==null&&(un?(n=ge,r=r.stateNode,n.nodeType===8?lf(n.parentNode,r):n.nodeType===1&&lf(n,r),Ul(n)):lf(ge,r.stateNode));break;case 4:l=ge,c=un,ge=r.stateNode.containerInfo,un=!0,wi(t,n,r),ge=l,un=c;break;case 0:case 11:case 14:case 15:le||or(2,r,n),le||or(4,r,n),wi(t,n,r);break;case 1:le||(on(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&bg(r,n,l)),wi(t,n,r);break;case 21:wi(t,n,r);break;case 22:le||on(r,n),le=(l=le)||r.memoizedState!==null,wi(t,n,r),le=l;break;default:wi(t,n,r)}}function Mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){Kt(n,n.return,r)}}function b0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cg),n;default:throw Error(s(435,t.tag))}}function Oh(t,n){var r=b0(t);n.forEach(function(l){var c=j0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,_=n,S=_;t:for(;S!==null;){switch(S.tag){case 27:case 5:ge=S.stateNode,un=!1;break t;case 3:ge=S.stateNode.containerInfo,un=!0;break t;case 4:ge=S.stateNode.containerInfo,un=!0;break t}S=S.return}if(ge===null)throw Error(s(160));Vg(f,_,c),ge=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ig(n,t),n=n.sibling}var Un=null;function Ig(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Rn(t),l&4&&(or(3,t,t.return),yl(3,t),or(5,t,t.return));break;case 1:wn(n,t),Rn(t),l&512&&(le||r===null||on(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(wn(n,t),Rn(t),l&512&&(le||r===null||on(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,l,r),f[De]=t,ee(f),l=f;break t;case"link":var _=wp("link","href",c).get(l+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break e}}f=c.createElement(l),je(f,l,r),c.head.appendChild(f);break;case"meta":if(_=wp("meta","content",c).get(l+(r.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break e}}f=c.createElement(l),je(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,ee(f),l=f}t.stateNode=l}else Rp(c,t.type,t.stateNode);else t.stateNode=bp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Rp(c,t.type,t.stateNode):bp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var O=c.firstChild;O;){var B=O.nextSibling,$=O.nodeName;O[Fi]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&O.rel.toLowerCase()==="stylesheet"||c.removeChild(O),O=B}for(var nt=t.type,F=c.attributes;F.length;)c.removeAttributeNode(F[0]);je(c,nt,f),c[De]=t,c[ve]=f}catch(ft){Kt(t,t.return,ft)}}case 5:if(wn(n,t),Rn(t),l&512&&(le||r===null||on(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(ft){Kt(t,t.return,ft)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Rg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ch=!0);break;case 6:if(wn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ft){Kt(t,t.return,ft)}}break;case 3:if(gu=null,c=Un,Un=du(n.containerInfo),wn(n,t),Un=c,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(ft){Kt(t,t.return,ft)}Ch&&(Ch=!1,Ug(t));break;case 4:l=Un,Un=du(t.stateNode.containerInfo),wn(n,t),Rn(t),Un=l;break;case 12:wn(n,t),Rn(t);break;case 13:wn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Lh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 22:if(l&512&&(le||r===null||on(r,r.return)),O=t.memoizedState!==null,B=r!==null&&r.memoizedState!==null,$=bi,nt=le,bi=$||O,le=nt||B,wn(n,t),le=nt,bi=$,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=O?n._visibility&-2:n._visibility|1,O&&(n=bi||le,r===null||B||n||Wa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){B=r=n;try{if(c=B.stateNode,O)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{_=B.stateNode,S=B.memoizedProps.style;var K=S!=null&&S.hasOwnProperty("display")?S.display:null;_.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ft){Kt(B,B.return,ft)}}}else if(n.tag===6){if(r===null){B=n;try{B.stateNode.nodeValue=O?"":B.memoizedProps}catch(ft){Kt(B,B.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Oh(t,r))));break;case 19:wn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 21:break;default:wn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Dg(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=Rh(t);Wo(t,f,c);break;case 5:var _=l.stateNode;l.flags&32&&(pn(_,""),l.flags&=-33);var S=Rh(t);Wo(t,S,_);break;case 3:case 4:var O=l.stateNode.containerInfo,B=Rh(t);Dh(t,B,O);break;default:throw Error(s(161))}}}catch($){Kt(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ug(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ng(t,n.alternate,n),n=n.sibling}function Wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),Wa(n);break;case 1:on(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&bg(n,n.return,r),Wa(n);break;case 26:case 27:case 5:on(n,n.return),Wa(n);break;case 22:on(n,n.return),n.memoizedState===null&&Wa(n);break;default:Wa(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),yl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Kt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var S=l.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)Tg(O[c],S)}catch(B){Kt(l,l.return,B)}}r&&_&64&&Sg(f),la(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&_&4&&wg(f),la(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&_&4&&Mg(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),la(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function Nh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ll(r))}function xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function cr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kg(t,n,r,l),n=n.sibling}function kg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:cr(t,n,r,l),c&2048&&yl(9,n);break;case 3:cr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){cr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Kt(n,n.return,O)}}else cr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?cr(t,n,r,l):vl(t,n):f._visibility&4?cr(t,n,r,l):(f._visibility|=4,Ja(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Nh(n.alternate,n);break;case 24:cr(t,n,r,l),c&2048&&xh(n.alternate,n);break;default:cr(t,n,r,l)}}function Ja(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,S=r,O=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(f,_,S,O,c),yl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&4?Ja(f,_,S,O,c):vl(f,_):($._visibility|=4,Ja(f,_,S,O,c)),c&&B&2048&&Nh(_.alternate,_);break;case 24:Ja(f,_,S,O,c),c&&B&2048&&xh(_.alternate,_);break;default:Ja(f,_,S,O,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&Nh(l.alternate,l);break;case 24:vl(r,l),c&2048&&xh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var _l=8192;function ts(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 26:ts(t),t.flags&_l&&t.memoizedState!==null&&fE(Un,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var n=Un;Un=du(t.stateNode.containerInfo),ts(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=_l,_l=16777216,ts(t),_l=n):ts(t));break;default:ts(t)}}function Lg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,Bg(l,t)}Lg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zg(t),t=t.sibling}function zg(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&or(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Jo(t)):El(t);break;default:El(t)}}function Jo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,Bg(l,t)}Lg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:or(8,n,n.return),Jo(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Jo(n));break;default:Jo(n)}t=t.sibling}}function Bg(t,n){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:or(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,xe=l;else t:for(r=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(xg(l),l===r){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}function w0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,l){return new w0(t,n,r,l)}function Vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hr(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function tu(t,n,r,l,c,f){var _=0;if(l=t,typeof t=="function")Vh(t)&&(_=1);else if(typeof t=="string")_=cE(t,r,Qe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case y:return oa(r.children,c,f,n);case p:_=8,c|=24;break;case T:return t=Dn(12,r,n,c|2),t.elementType=T,t.lanes=f,t;case M:return t=Dn(13,r,n,c),t.elementType=M,t.lanes=f,t;case j:return t=Dn(19,r,n,c),t.elementType=j,t.lanes=f,t;case z:return qg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case A:_=10;break t;case E:_=9;break t;case I:_=11;break t;case Q:_=14;break t;case Y:_=16,l=null;break t}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Dn(_,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function oa(t,n,r,l){return t=Dn(7,t,l,n),t.lanes=r,t}function qg(t,n,r,l){t=Dn(22,t,l,n),t.elementType=z,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)===0){var _=Ji(f,2);_!==null&&(c._pendingVisibility|=2,We(_,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)!==0){var _=Ji(f,2);_!==null&&(c._pendingVisibility&=-3,We(_,f,2))}}};return t.stateNode=c,t}function Mh(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function Ih(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Hg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dp(n)){if(n=bn.current,n!==null&&((kt&4194176)===kt?Kn!==null:(kt&62914560)!==kt&&(kt&536870912)===0||n!==Kn))throw rl=zc,sm;t.flags|=8192}}function eu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pi():536870912,t.lanes|=n,ns|=n)}function Tl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function R0(t,n,r){var l=n.pendingProps;switch(jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ae),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,In!==null&&(qh(In),In=null))),ne(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ne(n),Hg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ne(n),Hg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ne(n),n.flags&=-16777217),null;case 27:Ta(n),r=dn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=Qe.current,tl(n)?rm(n):(t=_p(c,l,r),n.stateNode=t,Di(n))}return ne(n),null;case 5:if(Ta(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=Qe.current,tl(n))rm(n);else{switch(c=fu(dn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[ve]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(je(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=dn.current,tl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||dp(t.nodeValue,r)),t||Wr(n)}else t=fu(t).createTextNode(l),t[De]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else In!==null&&(qh(In),In=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),eu(n,n.updateQueue),ne(n),null;case 4:return si(),t===null&&Jh(n.stateNode.containerInfo),ne(n),null;case 10:return Si(n.type),ne(n),null;case 19:if(ae(Te),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Tl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Lo(t),f!==null){for(n.flags|=128,Tl(c,!1),t=f.updateQueue,n.updateQueue=t,eu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Pg(r,t),r=r.sibling;return Ft(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>nu&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Lo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,eu(n,t),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ne(n),null}else 2*Je()-c.renderingStartTime>nu&&r!==536870912&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Te.current,Ft(Te,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return _i(n),Pc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&eu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ae(ta),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ae),ne(n),null;case 25:return null}throw Error(s(156,n.tag))}function D0(t,n){switch(jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ae),si(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ta(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(Te),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return _i(n),Pc(),t!==null&&ae(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ae),null;case 25:return null;default:return null}}function Gg(t,n){switch(jc(n),n.tag){case 3:Si(Ae),si();break;case 26:case 27:case 5:Ta(n);break;case 4:si();break;case 13:_i(n);break;case 19:ae(Te);break;case 10:Si(n.type);break;case 22:case 23:_i(n),Pc(),t!==null&&ae(ta);break;case 24:Si(Ae)}}var C0={getCacheForType:function(t){var n=qe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},O0=typeof WeakMap=="function"?WeakMap:Map,ie=0,$t=null,Ot=null,kt=0,Zt=0,cn=null,Ci=!1,es=!1,Uh=!1,Oi=0,oe=0,fr=0,ua=0,kh=0,Cn=0,ns=0,Al=null,Zn=null,jh=!1,Lh=0,nu=1/0,iu=null,dr=null,ru=!1,ca=null,Sl=0,zh=0,Bh=null,bl=0,Ph=null;function hn(){if((ie&2)!==0&&kt!==0)return kt&-kt;if(w.T!==null){var t=Qa;return t!==0?t:Kh()}return uo()}function Fg(){Cn===0&&(Cn=(kt&536870912)===0||Pt?ks():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Cn}function We(t,n,r){(t===$t&&Zt===2||t.cancelPendingCommit!==null)&&(is(t,0),Ni(t,kt,Cn,!1)),ce(t,r),((ie&2)===0||t!==$t)&&(t===$t&&((ie&2)===0&&(ua|=r),oe===4&&Ni(t,kt,Cn,!1)),Wn(t))}function Xg(t,n,r){if((ie&6)!==0)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?V0(t,n):Fh(t,n,!0),f=l;do{if(c===0){es&&!l&&Ni(t,n,0,!1);break}else if(c===6)Ni(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!N0(r)){c=Fh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var S=t;c=Al;var O=S.current.memoizedState.isDehydrated;if(O&&(is(S,_).flags|=256),_=Fh(S,_,!1),_!==2){if(Uh&&!O){S.errorRecoveryDisabledLanes|=f,ua|=f,c=4;break t}f=Zn,Zn=c,f!==null&&qh(f)}c=_}if(f=!1,c!==2)continue}}if(c===1){is(t,0),Ni(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ni(l,n,Cn,!Ci);break t}break;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Lh+300-Je(),10<f)){if(Ni(l,n,Cn,!Ci),mn(l,0)!==0)break t;l.timeoutHandle=pp(Qg.bind(null,l,r,Zn,iu,jh,n,Cn,ua,ns,Ci,2,-0,0),f);break t}Qg(l,r,Zn,iu,jh,n,Cn,ua,ns,Ci,0,-0,0)}}break}while(!0);Wn(t)}function qh(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function Qg(t,n,r,l,c,f,_,S,O,B,$,nt,F){var K=n.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:hE},jg(n),n=dE(),n!==null)){t.cancelPendingCommit=n(tp.bind(null,t,r,l,c,_,S,O,1,nt,F)),Ni(t,f,_,!B);return}tp(t,r,l,c,_,S,O,$,nt,F)}function N0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(t,n,r,l){n&=~kh,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&qi(t,r,n)}function au(){return(ie&6)===0?(wl(0),!1):!0}function Hh(){if(Ot!==null){if(Zt===0)var t=Ot.return;else t=Ot,Ai=aa=null,Kc(t),Fa=null,al=0,t=Ot;for(;t!==null;)Gg(t.alternate,t),t=t.return;Ot=null}}function is(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,K0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hh(),$t=t,Ot=r=hr(t.current,null),kt=n,Zt=0,cn=null,Ci=!1,es=Bi(t,n),Uh=!1,ns=Cn=kh=ua=fr=oe=0,Zn=Al=null,jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,Oo(),r}function Yg(t,n){Rt=null,w.H=$n,n===il?(n=um(),Zt=3):n===sm?(n=um(),Zt=4):Zt=n===lg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ot===null&&(oe=1,Ko(t,Tn(n,t.current)))}function Kg(){var t=w.H;return w.H=$n,t===null?$n:t}function $g(){var t=w.A;return w.A=C0,t}function Gh(){oe=4,Ci||(kt&4194176)!==kt&&bn.current!==null||(es=!0),(fr&134217727)===0&&(ua&134217727)===0||$t===null||Ni($t,kt,Cn,!1)}function Fh(t,n,r){var l=ie;ie|=2;var c=Kg(),f=$g();($t!==t||kt!==n)&&(iu=null,is(t,n)),n=!1;var _=oe;t:do try{if(Zt!==0&&Ot!==null){var S=Ot,O=cn;switch(Zt){case 8:Hh(),_=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var B=Zt;if(Zt=0,cn=null,rs(t,S,O,B),r&&es){_=0;break t}break;default:B=Zt,Zt=0,cn=null,rs(t,S,O,B)}}x0(),_=oe;break}catch($){Yg(t,$)}while(!0);return n&&t.shellSuspendCounter++,Ai=aa=null,ie=l,w.H=c,w.A=f,Ot===null&&($t=null,kt=0,Oo()),_}function x0(){for(;Ot!==null;)Zg(Ot)}function V0(t,n){var r=ie;ie|=2;var l=Kg(),c=$g();$t!==t||kt!==n?(iu=null,nu=Je()+500,is(t,n)):es=Bi(t,n);t:do try{if(Zt!==0&&Ot!==null){n=Ot;var f=cn;e:switch(Zt){case 1:Zt=0,cn=null,rs(t,n,f,1);break;case 2:if(lm(f)){Zt=0,cn=null,Wg(n);break}n=function(){Zt===2&&$t===t&&(Zt=7),Wn(t)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:lm(f)?(Zt=0,cn=null,Wg(n)):(Zt=0,cn=null,rs(t,n,f,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var S=Ot;if(!_||Dp(_)){Zt=0,cn=null;var O=S.sibling;if(O!==null)Ot=O;else{var B=S.return;B!==null?(Ot=B,su(B)):Ot=null}break e}}Zt=0,cn=null,rs(t,n,f,5);break;case 6:Zt=0,cn=null,rs(t,n,f,6);break;case 8:Hh(),oe=6;break t;default:throw Error(s(462))}}M0();break}catch($){Yg(t,$)}while(!0);return Ai=aa=null,w.H=l,w.A=c,ie=r,Ot!==null?0:($t=null,kt=0,Oo(),oe)}function M0(){for(;Ot!==null&&!_c();)Zg(Ot)}function Zg(t){var n=_g(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?su(t):Ot=n}function Wg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=dg(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=dg(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:Kc(n);default:Gg(r,n),n=Ot=Pg(n,Oi),n=_g(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?su(t):Ot=n}function rs(t,n,r,l){Ai=aa=null,Kc(n),Fa=null,al=0;var c=n.return;try{if(T0(t,c,n,r,kt)){oe=1,Ko(t,Tn(r,t.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;oe=1,Ko(t,Tn(r,t.current)),Ot=null;return}n.flags&32768?(Pt||l===1?t=!0:es||(kt&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jg(n,t)):su(n)}function su(t){var n=t;do{if((n.flags&32768)!==0){Jg(n,Ci);return}t=n.return;var r=R0(n.alternate,n,Oi);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);oe===0&&(oe=5)}function Jg(t,n){do{var r=D0(t.alternate,t);if(r!==null){r.flags&=32767,Ot=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=r}while(t!==null);oe=6,Ot=null}function tp(t,n,r,l,c,f,_,S,O,B){var $=w.T,nt=ot.p;try{ot.p=2,w.T=null,I0(t,n,r,l,nt,c,f,_,S,O,B)}finally{w.T=$,ot.p=nt}}function I0(t,n,r,l,c,f,_,S){do as();while(ca!==null);if((ie&6)!==0)throw Error(s(327));var O=t.finishedWork;if(l=t.finishedLanes,O===null)return null;if(t.finishedWork=null,t.finishedLanes=0,O===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var B=O.lanes|O.childLanes;if(B|=Ic,lo(t,l,B,f,_,S),t===$t&&(Ot=$t=null,kt=0),(O.subtreeFlags&10256)===0&&(O.flags&10256)===0||ru||(ru=!0,zh=B,Bh=r,L0(li,function(){return as(),null})),r=(O.flags&15990)!==0,(O.subtreeFlags&15990)!==0||r?(r=w.T,w.T=null,f=ot.p,ot.p=2,_=ie,ie|=4,S0(t,O),Ig(O,t),r0(rf,t.containerInfo),vu=!!nf,rf=nf=null,t.current=O,Ng(t,O.alternate,O),Vs(),ie=_,ot.p=f,w.T=r):t.current=O,ru?(ru=!1,ca=t,Sl=l):ep(t,B),B=t.pendingLanes,B===0&&(dr=null),Is(O.stateNode),Wn(t),n!==null)for(c=t.onRecoverableError,O=0;O<n.length;O++)B=n[O],c(B.value,{componentStack:B.stack});return(Sl&3)!==0&&as(),B=t.pendingLanes,(l&4194218)!==0&&(B&42)!==0?t===Ph?bl++:(bl=0,Ph=t):bl=0,wl(0),null}function ep(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function as(){if(ca!==null){var t=ca,n=zh;zh=0;var r=oo(Sl),l=w.T,c=ot.p;try{if(ot.p=32>r?32:r,w.T=null,ca===null)var f=!1;else{r=Bh,Bh=null;var _=ca,S=Sl;if(ca=null,Sl=0,(ie&6)!==0)throw Error(s(331));var O=ie;if(ie|=4,zg(_.current),kg(_,_.current,S,r),ie=O,wl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Li,_)}catch{}f=!0}return f}finally{ot.p=c,w.T=l,ep(t,n)}}return!1}function np(t,n,r){n=Tn(r,n),n=uh(t.stateNode,n,2),t=lr(t,n,2),t!==null&&(ce(t,2),Wn(t))}function Kt(t,n,r){if(t.tag===3)np(t,t,r);else for(;n!==null;){if(n.tag===3){np(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){t=Tn(r,t),r=ag(2),l=lr(n,r,2),l!==null&&(sg(r,l,n,t),ce(l,2),Wn(l));break}}n=n.return}}function Xh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new O0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Uh=!0,c.add(r),t=U0.bind(null,t,n,r),n.then(t,t))}function U0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(kt&r)===r&&(oe===4||oe===3&&(kt&62914560)===kt&&300>Je()-Lh?(ie&2)===0&&is(t,0):kh|=r,ns===kt&&(ns=0)),Wn(t)}function ip(t,n){n===0&&(n=Pi()),t=Ji(t,n),t!==null&&(ce(t,n),Wn(t))}function k0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),ip(t,r)}function j0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ip(t,r)}function L0(t,n){return Ir(t,n)}var lu=null,ss=null,Qh=!1,ou=!1,Yh=!1,ha=0;function Wn(t){t!==ss&&t.next===null&&(ss===null?lu=ss=t:ss=ss.next=t),ou=!0,Qh||(Qh=!0,B0(z0))}function wl(t,n){if(!Yh&&ou){Yh=!0;do for(var r=!1,l=lu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(_&~S),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,sp(l,f))}else f=kt,f=mn(l,l===$t?f:0),(f&3)===0||Bi(l,f)||(r=!0,sp(l,f));l=l.next}while(r);Yh=!1}}function z0(){ou=Qh=!1;var t=0;ha!==0&&(Y0()&&(t=ha),ha=0);for(var n=Je(),r=null,l=lu;l!==null;){var c=l.next,f=rp(l,n);f===0?(l.next=null,r===null?lu=c:r.next=c,c===null&&(ss=r)):(r=l,(t!==0||(f&3)!==0)&&(ou=!0)),l=c}wl(t)}function rp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Ye(f),S=1<<_,O=c[_];O===-1?((S&r)===0||(S&l)!==0)&&(c[_]=ba(S,n)):O<=n&&(t.expiredLanes|=S),f&=~S}if(n=$t,r=kt,r=mn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Zt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sa(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Sa(l),oo(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Ms;break;default:r=li}return l=ap.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Sa(l),t.callbackPriority=2,t.callbackNode=null,2}function ap(t,n){var r=t.callbackNode;if(as()&&t.callbackNode!==r)return null;var l=kt;return l=mn(t,t===$t?l:0),l===0?null:(Xg(t,l,n),rp(t,Je()),t.callbackNode!=null&&t.callbackNode===r?ap.bind(null,t):null)}function sp(t,n){if(as())return null;Xg(t,n,!0)}function B0(t){$0(function(){(ie&6)!==0?Ir(ye,t):t()})}function Kh(){return ha===0&&(ha=ks()),ha}function lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pn(""+t)}function op(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function P0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=lp((c[ve]||null).action),_=l.submitter;_&&(n=(n=_[ve]||null)?lp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var S=new xa("action","action",null,l,c);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var O=_?op(c,_):new FormData(c);rh(r,{pending:!0,data:O,method:c.method,action:f},null,O)}}else typeof f=="function"&&(S.preventDefault(),O=_?op(c,_):new FormData(c),rh(r,{pending:!0,data:O,method:c.method,action:f},f,O))},currentTarget:c}]})}}for(var $h=0;$h<tm.length;$h++){var Zh=tm[$h],q0=Zh.toLowerCase(),H0=Zh[0].toUpperCase()+Zh.slice(1);Mn(q0,"on"+H0)}Mn(Kd,"onAnimationEnd"),Mn($d,"onAnimationIteration"),Mn(Zd,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(s0,"onTransitionRun"),Mn(l0,"onTransitionStart"),Mn(o0,"onTransitionCancel"),Mn(Wd,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function up(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var S=l[_],O=S.instance,B=S.currentTarget;if(S=S.listener,O!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=B;try{f(c)}catch($){Yo($)}c.currentTarget=null,f=O}else for(_=0;_<l.length;_++){if(S=l[_],O=S.instance,B=S.currentTarget,S=S.listener,O!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=B;try{f(c)}catch($){Yo($)}c.currentTarget=null,f=O}}}}function Mt(t,n){var r=n[kr];r===void 0&&(r=n[kr]=new Set);var l=t+"__bubble";r.has(l)||(cp(n,t,2,!1),r.add(l))}function Wh(t,n,r){var l=0;n&&(l|=4),cp(r,t,l,n)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Jh(t){if(!t[uu]){t[uu]=!0,Ls.forEach(function(r){r!=="selectionchange"&&(G0.has(r)||Wh(r,!1,t),Wh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uu]||(n[uu]=!0,Wh("selectionchange",!1,n))}}function cp(t,n,r,l){switch(Mp(n)){case 2:var c=pE;break;case 8:c=yE;break;default:c=df}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===c||O.nodeType===8&&O.parentNode===c))return;_=_.return}for(;S!==null;){if(_=Vn(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=f=_;continue t}S=S.parentNode}}l=l.return}mo(function(){var B=f,$=Na(r),nt=[];t:{var F=Jd.get(t);if(F!==void 0){var K=xa,ft=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":K=ja;break;case"focusin":ft="focus",K=Ia;break;case"focusout":ft="blur",K=Ia;break;case"beforeblur":case"afterblur":K=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ao;break;case Kd:case $d:case Zd:K=Ua;break;case Wd:K=bo;break;case"scroll":case"scrollend":K=go;break;case"wheel":K=La;break;case"copy":case"cut":case"paste":K=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=$s;break;case"toggle":case"beforetoggle":K=Ro}var At=(n&4)!==0,ue=!At&&(t==="scroll"||t==="scrollend"),q=At?F!==null?F+"Capture":null:F;At=[];for(var L=B,G;L!==null;){var J=L;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||q===null||(J=Pr(L,q),J!=null&&At.push(Dl(L,J,G))),ue)break;L=L.return}0<At.length&&(F=new K(F,ft,null,r,$),nt.push({event:F,listeners:At}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&r!==yn&&(ft=r.relatedTarget||r.fromElement)&&(Vn(ft)||ft[oi]))break t;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ft=r.relatedTarget||r.toElement,K=B,ft=ft?Vn(ft):null,ft!==null&&(ue=dt(ft),At=ft.tag,ft!==ue||At!==5&&At!==27&&At!==6)&&(ft=null)):(K=null,ft=B),K!==ft)){if(At=_n,J="onMouseLeave",q="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(At=$s,J="onPointerLeave",q="onPointerEnter",L="pointer"),ue=K==null?F:Xi(K),G=ft==null?F:Xi(ft),F=new At(J,L+"leave",K,r,$),F.target=ue,F.relatedTarget=G,J=null,Vn($)===B&&(At=new At(q,L+"enter",ft,r,$),At.target=G,At.relatedTarget=ue,J=At),ue=J,K&&ft)e:{for(At=K,q=ft,L=0,G=At;G;G=ls(G))L++;for(G=0,J=q;J;J=ls(J))G++;for(;0<L-G;)At=ls(At),L--;for(;0<G-L;)q=ls(q),G--;for(;L--;){if(At===q||q!==null&&At===q.alternate)break e;At=ls(At),q=ls(q)}At=null}else At=null;K!==null&&hp(nt,F,K,At,!1),ft!==null&&ue!==null&&hp(nt,ue,ft,At,!0)}}t:{if(F=B?Xi(B):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var ct=Ld;else if(Ee(F))if(zd)ct=n0;else{ct=t0;var Ct=J_}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Hs(B.elementType)&&(ct=Ld):ct=e0;if(ct&&(ct=ct(t,B))){pi(nt,ct,r,$);break t}Ct&&Ct(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Oa(F,"number",F.value)}switch(Ct=B?Xi(B):window,t){case"focusin":(Ee(Ct)||Ct.contentEditable==="true")&&(za=Ct,xc=B,Js=null);break;case"focusout":Js=xc=za=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Qd(nt,r,$);break;case"selectionchange":if(a0)break;case"keydown":case"keyup":Qd(nt,r,$)}var mt;if(Xn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else It?X(t,r)&&(vt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(vt="onCompositionStart");vt&&(v&&r.locale!=="ko"&&(It||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&It&&(mt=Fs()):(qn=$,Wi="value"in qn?qn.value:qn.textContent,It=!0)),Ct=cu(B,vt),0<Ct.length&&(vt=new Ys(vt,t,null,r,$),nt.push({event:vt,listeners:Ct}),mt?vt.data=mt:(mt=at(r),mt!==null&&(vt.data=mt)))),(mt=m?_e(t,r):Ut(t,r))&&(vt=cu(B,"onBeforeInput"),0<vt.length&&(Ct=new Ys("onBeforeInput","beforeinput",null,r,$),nt.push({event:Ct,listeners:vt}),Ct.data=mt)),P0(nt,t,B,r,$)}up(nt,n)})}function Dl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function cu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pr(t,r),c!=null&&l.unshift(Dl(t,c,f)),c=Pr(t,n),c!=null&&l.push(Dl(t,c,f))),t=t.return}return l}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hp(t,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var S=r,O=S.alternate,B=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||B===null||(O=B,c?(B=Pr(r,f),B!=null&&_.unshift(Dl(r,B,O))):c||(B=Pr(r,f),B!=null&&_.push(Dl(r,B,O)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var F0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function fp(t){return(typeof t=="string"?t:""+t).replace(F0,`
`).replace(X0,"")}function dp(t,n){return n=fp(n),fp(t)===n}function hu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,r,l);break;case"style":fo(t,l,f);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=hu);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Pn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bc.get(r)||r,Yi(t,r,l))}}function ef(t,n,r,l,c,f){switch(r){case"style":fo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Yi(t,r,l)}}}function je(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,_,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Mt("invalid",t);var S=f=_=c=null,O=null,B=null;for(l in r)if(r.hasOwnProperty(l)){var $=r[l];if($!=null)switch(l){case"name":c=$;break;case"type":_=$;break;case"checked":O=$;break;case"defaultChecked":B=$;break;case"value":f=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:Yt(t,n,l,$,r,null)}}zr(t,f,S,O,B,_,c,!1),Lr(t);return;case"select":Mt("invalid",t),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(S=r[c],S!=null))switch(c){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Yt(t,n,c,S,r,null)}n=f,r=_,t.multiple=!!l,n!=null?Bt(t,!!l,n,!1):r!=null&&Bt(t,!!l,r,!0);return;case"textarea":Mt("invalid",t),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":c=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Yt(t,n,_,S,r,null)}Zi(t,l,c,f),Lr(t);return;case"option":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,O,l,r,null)}return;case"dialog":Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Mt(Rl[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(l=r[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,B,l,r,null)}return;default:if(Hs(n)){for($ in r)r.hasOwnProperty($)&&(l=r[$],l!==void 0&&ef(t,n,$,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&Yt(t,n,S,l,r,null))}function Q0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,S=null,O=null,B=null,$=null;for(K in r){var nt=r[K];if(r.hasOwnProperty(K)&&nt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=nt;default:l.hasOwnProperty(K)||Yt(t,n,K,null,l,nt)}}for(var F in l){var K=l[F];if(nt=r[F],l.hasOwnProperty(F)&&(K!=null||nt!=null))switch(F){case"type":f=K;break;case"name":c=K;break;case"checked":B=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:K!==nt&&Yt(t,n,F,K,l,nt)}}$i(t,_,S,O,B,$,f,c);return;case"select":K=_=S=F=null;for(f in r)if(O=r[f],r.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,O)}for(c in l)if(f=l[c],O=r[c],l.hasOwnProperty(c)&&(f!=null||O!=null))switch(c){case"value":F=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==O&&Yt(t,n,c,f,l,O)}n=S,r=_,l=K,F!=null?Bt(t,!!r,F,!1):!!l!=!!r&&(n!=null?Bt(t,!!r,n,!0):Bt(t,!!r,r?[]:"",!1));return;case"textarea":K=F=null;for(S in r)if(c=r[S],r.hasOwnProperty(S)&&c!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Yt(t,n,S,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":F=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,_,c,l,f)}Br(t,F,K);return;case"option":for(var ft in r)if(F=r[ft],r.hasOwnProperty(ft)&&F!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Yt(t,n,ft,null,l,F)}for(O in l)if(F=l[O],K=r[O],l.hasOwnProperty(O)&&F!==K&&(F!=null||K!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Yt(t,n,O,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in r)F=r[At],r.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At)&&Yt(t,n,At,null,l,F);for(B in l)if(F=l[B],K=r[B],l.hasOwnProperty(B)&&F!==K&&(F!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Yt(t,n,B,F,l,K)}return;default:if(Hs(n)){for(var ue in r)F=r[ue],r.hasOwnProperty(ue)&&F!==void 0&&!l.hasOwnProperty(ue)&&ef(t,n,ue,void 0,l,F);for($ in l)F=l[$],K=r[$],!l.hasOwnProperty($)||F===K||F===void 0&&K===void 0||ef(t,n,$,F,l,K);return}}for(var q in r)F=r[q],r.hasOwnProperty(q)&&F!=null&&!l.hasOwnProperty(q)&&Yt(t,n,q,null,l,F);for(nt in l)F=l[nt],K=r[nt],!l.hasOwnProperty(nt)||F===K||F==null&&K==null||Yt(t,n,nt,F,l,K)}var nf=null,rf=null;function fu(t){return t.nodeType===9?t:t.ownerDocument}function mp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function Y0(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,K0=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(t){return yp.resolve(null).then(t).catch(Z0)}:pp;function Z0(t){setTimeout(function(){throw t})}function lf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Ul(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Ul(n)}function of(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":of(r),jr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function W0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function J0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function vp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function _p(t,n,r){switch(n=fu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var On=new Map,Ep=new Set;function du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var xi=ot.d;ot.d={f:tE,r:eE,D:nE,C:iE,L:rE,m:aE,X:lE,S:sE,M:oE};function tE(){var t=xi.f(),n=au();return t||n}function eE(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?Qm(n):xi.r(t)}var os=typeof document>"u"?null:document;function Tp(t,n,r){var l=os;if(l&&typeof n=="string"&&n){var c=se(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Ep.has(c)||(Ep.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),je(n,"link",t),ee(n),l.head.appendChild(n)))}}function nE(t){xi.D(t),Tp("dns-prefetch",t,null)}function iE(t,n){xi.C(t,n),Tp("preconnect",t,n)}function rE(t,n,r){xi.L(t,n,r);var l=os;if(l&&t&&n){var c='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+se(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+se(r.imageSizes)+'"]')):c+='[href="'+se(t)+'"]';var f=c;switch(n){case"style":f=us(t);break;case"script":f=cs(t)}On.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),On.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),je(n,"link",t),ee(n),l.head.appendChild(n)))}}function aE(t,n){xi.m(t,n);var r=os;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+se(l)+'"][href="'+se(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cs(t)}if(!On.has(f)&&(t=x({rel:"modulepreload",href:t},n),On.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),je(l,"link",t),ee(l),r.head.appendChild(l)}}}function sE(t,n,r){xi.S(t,n,r);var l=os;if(l&&t){var c=Qi(l).hoistableStyles,f=us(t);n=n||"default";var _=c.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Cl(f)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=On.get(f))&&uf(t,r);var O=_=l.createElement("link");ee(O),je(O,"link",t),O._p=new Promise(function(B,$){O.onload=B,O.onerror=$}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,mu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:S},c.set(f,_)}}}function lE(t,n){xi.X(t,n);var r=os;if(r&&t){var l=Qi(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=x({src:t,async:!0},n),(n=On.get(c))&&cf(t,n),f=r.createElement("script"),ee(f),je(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function oE(t,n){xi.M(t,n);var r=os;if(r&&t){var l=Qi(r).hoistableScripts,c=cs(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=x({src:t,async:!0,type:"module"},n),(n=On.get(c))&&cf(t,n),f=r.createElement("script"),ee(f),je(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Ap(t,n,r,l){var c=(c=dn.current)?du(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=us(r.href),r=Qi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=us(r.href);var f=Qi(c).hoistableStyles,_=f.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=c.querySelector(Cl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),On.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(t,r),f||uE(c,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(r),r=Qi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function us(t){return'href="'+se(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function Sp(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function uE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",r),ee(n),t.head.appendChild(n))}function cs(t){return'[src="'+se(t)+'"]'}function Ol(t){return"script[async]"+t}function bp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+se(r.href)+'"]');if(l)return n.instance=l,ee(l),l;var c=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ee(l),je(l,"style",c),mu(l,r.precedence,t),n.instance=l;case"stylesheet":c=us(r.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,ee(f),f;l=Sp(r),(c=On.get(c))&&uf(l,c),f=(t.ownerDocument||t).createElement("link"),ee(f);var _=f;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),je(f,"link",l),n.state.loading|=4,mu(f,r.precedence,t),n.instance=f;case"script":return f=cs(r.src),(c=t.querySelector(Ol(f)))?(n.instance=c,ee(c),c):(l=r,(c=On.get(f))&&(l=x({},r),cf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ee(c),je(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mu(l,r.precedence,t));return n.instance}function mu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===n)f=S;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gu=null;function wp(t,n,r){if(gu===null){var l=new Map,c=gu=new Map;c.set(r,l)}else c=gu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Fi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function Rp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function cE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function hE(){}function fE(t,n,r){if(Nl===null)throw Error(s(475));var l=Nl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=us(r.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=pu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ee(f);return}f=t.ownerDocument||t,r=Sp(r),(c=On.get(c))&&uf(r,c),f=f.createElement("link"),ee(f);var _=f;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),je(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=pu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function dE(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&hf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function pu(){if(this.count--,this.count===0){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yu=null;function hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yu=new Map,n.forEach(mE,t),yu=null,pu.call(t))}function mE(t,n){if(!(n.state.loading&4)){var r=yu.get(t);if(r)var l=r.get(null);else{r=new Map,yu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=pu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:A,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function gE(t,n,r,l,c,f,_,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Cp(t,n,r,l,c,f,_,S,O,B,$,nt){return t=new gE(t,n,r,_,S,O,B,nt),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=qc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Ah(f),t}function Op(t){return t?(t=qa,t):qa}function Np(t,n,r,l,c,f){c=Op(c),l.context===null?l.context=c:l.pendingContext=c,l=sr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=lr(t,l,n),r!==null&&(We(r,t,n),ml(r,t,n))}function xp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ff(t,n){xp(t,n),(t=t.alternate)&&xp(t,n)}function Vp(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&We(n,t,67108864),ff(t,67108864)}}var vu=!0;function pE(t,n,r,l){var c=w.T;w.T=null;var f=ot.p;try{ot.p=2,df(t,n,r,l)}finally{ot.p=f,w.T=c}}function yE(t,n,r,l){var c=w.T;w.T=null;var f=ot.p;try{ot.p=8,df(t,n,r,l)}finally{ot.p=f,w.T=c}}function df(t,n,r,l){if(vu){var c=mf(l);if(c===null)tf(t,n,l,_u,r),Ip(t,l);else if(_E(c,t,n,r,l))l.stopPropagation();else if(Ip(t,l),n&4&&-1<vE.indexOf(t)){for(;c!==null;){var f=ui(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=xn(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-Ye(_);S.entanglements[1]|=O,_&=~O}Wn(f),(ie&6)===0&&(nu=Je()+500,wl(0))}}break;case 13:S=Ji(f,2),S!==null&&We(S,f,2),au(),ff(f,2)}if(f=mf(l),f===null&&tf(t,n,l,_u,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(t,n,l,null,r)}}function mf(t){return t=Na(t),gf(t)}var _u=null;function gf(t){if(_u=null,t=Vn(t),t!==null){var n=dt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=zt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _u=t,null}function Mp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(io()){case ye:return 2;case Re:return 8;case li:case ro:return 32;case Ms:return 268435456;default:return 32}default:return 32}}var pf=!1,mr=null,gr=null,pr=null,Vl=new Map,Ml=new Map,yr=[],vE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ip(t,n){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&Vp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function _E(t,n,r,l,c){switch(n){case"focusin":return mr=Il(mr,t,n,r,l,c),!0;case"dragenter":return gr=Il(gr,t,n,r,l,c),!0;case"mouseover":return pr=Il(pr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Vl.set(f,Il(Vl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,Il(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function Up(t){var n=Vn(t.target);if(n!==null){var r=dt(n);if(r!==null){if(n=r.tag,n===13){if(n=zt(r),n!==null){t.blockedOn=n,Gi(t.priority,function(){if(r.tag===13){var l=hn(),c=Ji(r,l);c!==null&&We(c,r,l),ff(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=mf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yn=l,r.target.dispatchEvent(l),yn=null}else return n=ui(r),n!==null&&Vp(n),t.blockedOn=r,!1;n.shift()}return!0}function kp(t,n,r){Eu(t)&&r.delete(n)}function EE(){pf=!1,mr!==null&&Eu(mr)&&(mr=null),gr!==null&&Eu(gr)&&(gr=null),pr!==null&&Eu(pr)&&(pr=null),Vl.forEach(kp),Ml.forEach(kp)}function Tu(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,EE)))}var Au=null;function jp(t){Au!==t&&(Au=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Au===t&&(Au=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(gf(l||r)===null)continue;break}var f=ui(r);f!==null&&(t.splice(n,3),n-=3,rh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(O){return Tu(O,t)}mr!==null&&Tu(mr,t),gr!==null&&Tu(gr,t),pr!==null&&Tu(pr,t),Vl.forEach(n),Ml.forEach(n);for(var r=0;r<yr.length;r++){var l=yr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yr.length&&(r=yr[0],r.blockedOn===null);)Up(r),r.blockedOn===null&&yr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[ve]||null;if(typeof f=="function")_||jp(r);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[ve]||null)S=_.formAction;else if(gf(c)!==null)continue}else S=_.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),jp(r)}}}function yf(t){this._internalRoot=t}Su.prototype.render=yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();Np(r,l,t,n,null,null)},Su.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&as(),Np(t.current,2,null,t,null,null),au(),n[oi]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var n=uo();t={blockedOn:null,target:t,priority:n};for(var r=0;r<yr.length&&n!==0&&n<yr[r].priority;r++);yr.splice(r,0,t),r===0&&Up(t)}};var Lp=e.version;if(Lp!=="19.0.0")throw Error(s(527,Lp,"19.0.0"));ot.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=rt(n),t=t!==null?ht(t):null,t=t===null?null:t.stateNode,t};var TE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Li=bu.inject(TE),Pe=bu}catch{}}return jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=eg,f=ng,_=ig,S=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Cp(t,1,!1,null,null,r,l,c,f,_,S,null),t[oi]=n.current,Jh(t.nodeType===8?t.parentNode:t),new yf(n)},jl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=eg,_=ng,S=ig,O=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(O=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),n=Cp(t,1,!0,n,r??null,l,c,f,_,S,O,B),n.context=Op(null),r=n.current,l=hn(),c=sr(l),c.callback=null,lr(r,c,l),n.current.lanes=l,ce(n,l),Wn(n),t[oi]=n.current,Jh(t),new Su(n)},jl.version="19.0.0",jl}var Yp;function VE(){if(Yp)return Ef.exports;Yp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ef.exports=xE(),Ef.exports}var ME=VE(),ov={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kp=pa.createContext&&pa.createContext(ov),IE=["attr","size","title"];function UE(a,e){if(a==null)return{};var i=kE(a,e),s,o;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(o=0;o<h.length;o++)s=h[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function kE(a,e){if(a==null)return{};var i={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(e.indexOf(s)>=0)continue;i[s]=a[s]}return i}function ju(){return ju=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},ju.apply(this,arguments)}function $p(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function Lu(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?$p(Object(i),!0).forEach(function(s){jE(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):$p(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}function jE(a,e,i){return e=LE(e),e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function LE(a){var e=zE(a,"string");return typeof e=="symbol"?e:e+""}function zE(a,e){if(typeof a!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function uv(a){return a&&a.map((e,i)=>pa.createElement(e.tag,Lu({key:i},e.attr),uv(e.child)))}function Ui(a){return e=>pa.createElement(BE,ju({attr:Lu({},a.attr)},e),uv(a.child))}function BE(a){var e=i=>{var{attr:s,size:o,title:h}=a,d=UE(a,IE),g=o||i.size||"1em",y;return i.className&&(y=i.className),a.className&&(y=(y?y+" ":"")+a.className),pa.createElement("svg",ju({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,d,{className:y,style:Lu(Lu({color:a.color||i.color},i.style),a.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),h&&pa.createElement("title",null,h),a.children)};return Kp!==void 0?pa.createElement(Kp.Consumer,null,i=>e(i)):e(ov)}function PE(a){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"},child:[]}]})(a)}function qE(a){return Ui({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(a)}function HE(a){return Ui({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"},child:[]}]})(a)}function If(a){return Ui({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z"},child:[]}]})(a)}async function rd(){return new Promise((a,e)=>{var i;if((i=chrome==null?void 0:chrome.storage)!=null&&i.sync)chrome.storage.sync.get("userId",s=>{if(chrome.runtime.lastError)e(chrome.runtime.lastError);else if(s.userId)a(s.userId);else{const o=crypto.randomUUID();chrome.storage.sync.set({userId:o},()=>{chrome.runtime.lastError?e(chrome.runtime.lastError):a(o)})}});else{let s=localStorage.getItem("userId");s||(s=crypto.randomUUID(),localStorage.setItem("userId",s)),a(s)}})}const GE=()=>{};var Zp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},FE=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,y=o+2<a.length,p=y?a[o+2]:0,T=h>>2,R=(h&3)<<4|g>>4;let E=(g&15)<<2|p>>6,A=p&63;y||(A=64,d||(E=64)),s.push(i[T],i[R],i[E],i[A])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(cv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):FE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const R=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||p==null||R==null)throw new XE;const E=h<<2|g>>4;if(s.push(E),p!==64){const A=g<<4&240|p>>2;if(s.push(A),R!==64){const I=p<<6&192|R;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class XE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QE=function(a){const e=cv(a);return hv.encodeByteArray(e,!0)},zu=function(a){return QE(a).replace(/\./g,"")},YE=function(a){try{return hv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=()=>KE().__FIREBASE_DEFAULTS__,ZE=()=>{if(typeof process>"u"||typeof Zp>"u")return;const a=Zp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},WE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&YE(a[1]);return e&&JSON.parse(e)},ad=()=>{try{return GE()||$E()||ZE()||WE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},JE=a=>{var e,i;return(i=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},t1=a=>{const e=JE(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},fv=()=>{var a;return(a=ad())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[zu(JSON.stringify(i)),zu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r1(){var a;const e=(a=ad())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a1(){return!r1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s1(){try{return typeof indexedDB=="object"}catch{return!1}}function l1(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="FirebaseError";class Rs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=o1,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dv.prototype.create)}}class dv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?u1(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,g,s)}}function u1(a,e){return a.replace(c1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const c1=/\{\$([^}]+)}/g;function Bu(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Wp(h)&&Wp(d)){if(!Bu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Wp(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(a){return a&&a._delegate?a._delegate:a}class Fl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new e1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d1(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:f1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f1(a){return a===da?void 0:a}function d1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new h1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const g1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},p1=Lt.INFO,y1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},v1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=y1[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mv{constructor(e){this.name=e,this._logLevel=p1,this._logHandler=v1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const _1=(a,e)=>e.some(i=>a instanceof i);let Jp,ty;function E1(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T1(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gv=new WeakMap,Uf=new WeakMap,pv=new WeakMap,bf=new WeakMap,sd=new WeakMap;function A1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Er(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&gv.set(i,a)}).catch(()=>{}),sd.set(e,a),e}function S1(a){if(Uf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Uf.set(a,e)}let kf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Uf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||pv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function b1(a){kf=a(kf)}function w1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(wf(this),e,...i);return pv.set(s,e.sort?e.sort():[e]),Er(s)}:T1().includes(a)?function(...e){return a.apply(wf(this),e),Er(gv.get(this))}:function(...e){return Er(a.apply(wf(this),e))}}function R1(a){return typeof a=="function"?w1(a):(a instanceof IDBTransaction&&S1(a),_1(a,E1())?new Proxy(a,kf):a)}function Er(a){if(a instanceof IDBRequest)return A1(a);if(bf.has(a))return bf.get(a);const e=R1(a);return e!==a&&(bf.set(a,e),sd.set(e,a)),e}const wf=a=>sd.get(a);function D1(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=Er(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Er(d.result),y.oldVersion,y.newVersion,Er(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const C1=["get","getKey","getAll","getAllKeys","count"],O1=["put","add","delete","clear"],Rf=new Map;function ey(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=O1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||C1.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return Rf.set(e,h),h}b1(a=>({...a,get:(e,i,s)=>ey(e,i)||a.get(e,i,s),has:(e,i)=>!!ey(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(x1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function x1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",ny="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new mv("@firebase/app"),V1="@firebase/app-compat",M1="@firebase/analytics-compat",I1="@firebase/analytics",U1="@firebase/app-check-compat",k1="@firebase/app-check",j1="@firebase/auth",L1="@firebase/auth-compat",z1="@firebase/database",B1="@firebase/data-connect",P1="@firebase/database-compat",q1="@firebase/functions",H1="@firebase/functions-compat",G1="@firebase/installations",F1="@firebase/installations-compat",X1="@firebase/messaging",Q1="@firebase/messaging-compat",Y1="@firebase/performance",K1="@firebase/performance-compat",$1="@firebase/remote-config",Z1="@firebase/remote-config-compat",W1="@firebase/storage",J1="@firebase/storage-compat",tT="@firebase/firestore",eT="@firebase/vertexai",nT="@firebase/firestore-compat",iT="firebase",rT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",aT={[jf]:"fire-core",[V1]:"fire-core-compat",[I1]:"fire-analytics",[M1]:"fire-analytics-compat",[k1]:"fire-app-check",[U1]:"fire-app-check-compat",[j1]:"fire-auth",[L1]:"fire-auth-compat",[z1]:"fire-rtdb",[B1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[q1]:"fire-fn",[H1]:"fire-fn-compat",[G1]:"fire-iid",[F1]:"fire-iid-compat",[X1]:"fire-fcm",[Q1]:"fire-fcm-compat",[Y1]:"fire-perf",[K1]:"fire-perf-compat",[$1]:"fire-rc",[Z1]:"fire-rc-compat",[W1]:"fire-gcs",[J1]:"fire-gcs-compat",[tT]:"fire-fst",[nT]:"fire-fst-compat",[eT]:"fire-vertex","fire-js":"fire-js",[iT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,sT=new Map,zf=new Map;function iy(a,e){try{a.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function qu(a){const e=a.name;if(zf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,a);for(const i of Pu.values())iy(i,a);for(const i of sT.values())iy(i,a);return!0}function lT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function oT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new dv("app","Firebase",uT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=rT;function yv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Lf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=fv()),!i)throw Tr.create("no-options");const h=Pu.get(o);if(h){if(Bu(i,h.options)&&Bu(s,h.config))return h;throw Tr.create("duplicate-app",{appName:o})}const d=new m1(o);for(const y of zf.values())d.addComponent(y);const g=new cT(i,s,d);return Pu.set(o,g),g}function fT(a=Lf){const e=Pu.get(a);if(!e&&a===Lf&&fv())return yv();if(!e)throw Tr.create("no-app",{appName:a});return e}function ps(a,e,i){var s;let o=(s=aT[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(g.join(" "));return}qu(new Fl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebase-heartbeat-database",mT=1,Xl="firebase-heartbeat-store";let Df=null;function vv(){return Df||(Df=D1(dT,mT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Tr.create("idb-open",{originalErrorMessage:a.message})})),Df}async function gT(a){try{const i=(await vv()).transaction(Xl),s=await i.objectStore(Xl).get(_v(a));return await i.done,s}catch(e){if(e instanceof Rs)Vi.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(i.message)}}}async function ry(a,e){try{const s=(await vv()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,_v(a)),await s.done}catch(i){if(i instanceof Rs)Vi.warn(i.message);else{const s=Tr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vi.warn(s.message)}}}function _v(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=1024,yT=30;class vT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ET(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ay();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>yT){const d=TT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Vi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ay(),{heartbeatsToSend:s,unsentEntries:o}=_T(this._heartbeatsCache.heartbeats),h=zu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Vi.warn(i),""}}}function ay(){return new Date().toISOString().substring(0,10)}function _T(a,e=pT){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),sy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),sy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ET{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s1()?l1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await gT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return ry(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sy(a){return zu(JSON.stringify({version:2,heartbeats:a})).length}function TT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(a){qu(new Fl("platform-logger",e=>new N1(e),"PRIVATE")),qu(new Fl("heartbeat",e=>new vT(e),"PRIVATE")),ps(jf,ny,a),ps(jf,ny,"esm2017"),ps("fire-js","")}AT("");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,Ev;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,D){function w(){}w.prototype=D.prototype,C.D=D.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(x,U,P){for(var N=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)N[Xt-2]=arguments[Xt];return D.prototype[U].apply(x,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,D,w){w||(w=0);var x=Array(16);if(typeof D=="string")for(var U=0;16>U;++U)x[U]=D.charCodeAt(w++)|D.charCodeAt(w++)<<8|D.charCodeAt(w++)<<16|D.charCodeAt(w++)<<24;else for(U=0;16>U;++U)x[U]=D[w++]|D[w++]<<8|D[w++]<<16|D[w++]<<24;D=C.g[0],w=C.g[1],U=C.g[2];var P=C.g[3],N=D+(P^w&(U^P))+x[0]+3614090360&4294967295;D=w+(N<<7&4294967295|N>>>25),N=P+(U^D&(w^U))+x[1]+3905402710&4294967295,P=D+(N<<12&4294967295|N>>>20),N=U+(w^P&(D^w))+x[2]+606105819&4294967295,U=P+(N<<17&4294967295|N>>>15),N=w+(D^U&(P^D))+x[3]+3250441966&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(P^w&(U^P))+x[4]+4118548399&4294967295,D=w+(N<<7&4294967295|N>>>25),N=P+(U^D&(w^U))+x[5]+1200080426&4294967295,P=D+(N<<12&4294967295|N>>>20),N=U+(w^P&(D^w))+x[6]+2821735955&4294967295,U=P+(N<<17&4294967295|N>>>15),N=w+(D^U&(P^D))+x[7]+4249261313&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(P^w&(U^P))+x[8]+1770035416&4294967295,D=w+(N<<7&4294967295|N>>>25),N=P+(U^D&(w^U))+x[9]+2336552879&4294967295,P=D+(N<<12&4294967295|N>>>20),N=U+(w^P&(D^w))+x[10]+4294925233&4294967295,U=P+(N<<17&4294967295|N>>>15),N=w+(D^U&(P^D))+x[11]+2304563134&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(P^w&(U^P))+x[12]+1804603682&4294967295,D=w+(N<<7&4294967295|N>>>25),N=P+(U^D&(w^U))+x[13]+4254626195&4294967295,P=D+(N<<12&4294967295|N>>>20),N=U+(w^P&(D^w))+x[14]+2792965006&4294967295,U=P+(N<<17&4294967295|N>>>15),N=w+(D^U&(P^D))+x[15]+1236535329&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(U^P&(w^U))+x[1]+4129170786&4294967295,D=w+(N<<5&4294967295|N>>>27),N=P+(w^U&(D^w))+x[6]+3225465664&4294967295,P=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(P^D))+x[11]+643717713&4294967295,U=P+(N<<14&4294967295|N>>>18),N=w+(P^D&(U^P))+x[0]+3921069994&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(U^P&(w^U))+x[5]+3593408605&4294967295,D=w+(N<<5&4294967295|N>>>27),N=P+(w^U&(D^w))+x[10]+38016083&4294967295,P=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(P^D))+x[15]+3634488961&4294967295,U=P+(N<<14&4294967295|N>>>18),N=w+(P^D&(U^P))+x[4]+3889429448&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(U^P&(w^U))+x[9]+568446438&4294967295,D=w+(N<<5&4294967295|N>>>27),N=P+(w^U&(D^w))+x[14]+3275163606&4294967295,P=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(P^D))+x[3]+4107603335&4294967295,U=P+(N<<14&4294967295|N>>>18),N=w+(P^D&(U^P))+x[8]+1163531501&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(U^P&(w^U))+x[13]+2850285829&4294967295,D=w+(N<<5&4294967295|N>>>27),N=P+(w^U&(D^w))+x[2]+4243563512&4294967295,P=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(P^D))+x[7]+1735328473&4294967295,U=P+(N<<14&4294967295|N>>>18),N=w+(P^D&(U^P))+x[12]+2368359562&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(w^U^P)+x[5]+4294588738&4294967295,D=w+(N<<4&4294967295|N>>>28),N=P+(D^w^U)+x[8]+2272392833&4294967295,P=D+(N<<11&4294967295|N>>>21),N=U+(P^D^w)+x[11]+1839030562&4294967295,U=P+(N<<16&4294967295|N>>>16),N=w+(U^P^D)+x[14]+4259657740&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(w^U^P)+x[1]+2763975236&4294967295,D=w+(N<<4&4294967295|N>>>28),N=P+(D^w^U)+x[4]+1272893353&4294967295,P=D+(N<<11&4294967295|N>>>21),N=U+(P^D^w)+x[7]+4139469664&4294967295,U=P+(N<<16&4294967295|N>>>16),N=w+(U^P^D)+x[10]+3200236656&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(w^U^P)+x[13]+681279174&4294967295,D=w+(N<<4&4294967295|N>>>28),N=P+(D^w^U)+x[0]+3936430074&4294967295,P=D+(N<<11&4294967295|N>>>21),N=U+(P^D^w)+x[3]+3572445317&4294967295,U=P+(N<<16&4294967295|N>>>16),N=w+(U^P^D)+x[6]+76029189&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(w^U^P)+x[9]+3654602809&4294967295,D=w+(N<<4&4294967295|N>>>28),N=P+(D^w^U)+x[12]+3873151461&4294967295,P=D+(N<<11&4294967295|N>>>21),N=U+(P^D^w)+x[15]+530742520&4294967295,U=P+(N<<16&4294967295|N>>>16),N=w+(U^P^D)+x[2]+3299628645&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(U^(w|~P))+x[0]+4096336452&4294967295,D=w+(N<<6&4294967295|N>>>26),N=P+(w^(D|~U))+x[7]+1126891415&4294967295,P=D+(N<<10&4294967295|N>>>22),N=U+(D^(P|~w))+x[14]+2878612391&4294967295,U=P+(N<<15&4294967295|N>>>17),N=w+(P^(U|~D))+x[5]+4237533241&4294967295,w=U+(N<<21&4294967295|N>>>11),N=D+(U^(w|~P))+x[12]+1700485571&4294967295,D=w+(N<<6&4294967295|N>>>26),N=P+(w^(D|~U))+x[3]+2399980690&4294967295,P=D+(N<<10&4294967295|N>>>22),N=U+(D^(P|~w))+x[10]+4293915773&4294967295,U=P+(N<<15&4294967295|N>>>17),N=w+(P^(U|~D))+x[1]+2240044497&4294967295,w=U+(N<<21&4294967295|N>>>11),N=D+(U^(w|~P))+x[8]+1873313359&4294967295,D=w+(N<<6&4294967295|N>>>26),N=P+(w^(D|~U))+x[15]+4264355552&4294967295,P=D+(N<<10&4294967295|N>>>22),N=U+(D^(P|~w))+x[6]+2734768916&4294967295,U=P+(N<<15&4294967295|N>>>17),N=w+(P^(U|~D))+x[13]+1309151649&4294967295,w=U+(N<<21&4294967295|N>>>11),N=D+(U^(w|~P))+x[4]+4149444226&4294967295,D=w+(N<<6&4294967295|N>>>26),N=P+(w^(D|~U))+x[11]+3174756917&4294967295,P=D+(N<<10&4294967295|N>>>22),N=U+(D^(P|~w))+x[2]+718787259&4294967295,U=P+(N<<15&4294967295|N>>>17),N=w+(P^(U|~D))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+D&4294967295,C.g[1]=C.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.u=function(C,D){D===void 0&&(D=C.length);for(var w=D-this.blockSize,x=this.B,U=this.h,P=0;P<D;){if(U==0)for(;P<=w;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<D;)if(x[U++]=C.charCodeAt(P++),U==this.blockSize){o(this,x),U=0;break}}else for(;P<D;)if(x[U++]=C[P++],U==this.blockSize){o(this,x),U=0;break}}this.h=U,this.o+=D},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var D=1;D<C.length-8;++D)C[D]=0;var w=8*this.o;for(D=C.length-8;D<C.length;++D)C[D]=w&255,w/=256;for(this.u(C),C=Array(16),D=w=0;4>D;++D)for(var x=0;32>x;x+=8)C[w++]=this.g[D]>>>x&255;return C};function h(C,D){var w=g;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=D(C)}function d(C,D){this.h=D;for(var w=[],x=!0,U=C.length-1;0<=U;U--){var P=C[U]|0;x&&P==D||(w[U]=P,x=!1)}this.g=w}var g={};function y(C){return-128<=C&&128>C?h(C,function(D){return new d([D|0],0>D?-1:0)}):new d([C|0],0>C?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return R;if(0>C)return j(p(-C));for(var D=[],w=1,x=0;C>=w;x++)D[x]=C/w|0,w*=4294967296;return new d(D,0)}function T(C,D){if(C.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C.charAt(0)=="-")return j(T(C.substring(1),D));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=p(Math.pow(D,8)),x=R,U=0;U<C.length;U+=8){var P=Math.min(8,C.length-U),N=parseInt(C.substring(U,U+P),D);8>P?(P=p(Math.pow(D,P)),x=x.j(P).add(p(N))):(x=x.j(w),x=x.add(p(N)))}return x}var R=y(0),E=y(1),A=y(16777216);a=d.prototype,a.m=function(){if(M(this))return-j(this).m();for(var C=0,D=1,w=0;w<this.g.length;w++){var x=this.i(w);C+=(0<=x?x:4294967296+x)*D,D*=4294967296}return C},a.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(M(this))return"-"+j(this).toString(C);for(var D=p(Math.pow(C,6)),w=this,x="";;){var U=W(w,D).g;w=Q(w,U.j(D));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=U,I(w))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},a.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(var D=0;D<C.g.length;D++)if(C.g[D]!=0)return!1;return!0}function M(C){return C.h==-1}a.l=function(C){return C=Q(this,C),M(C)?-1:I(C)?0:1};function j(C){for(var D=C.g.length,w=[],x=0;x<D;x++)w[x]=~C.g[x];return new d(w,~C.h).add(E)}a.abs=function(){return M(this)?j(this):this},a.add=function(C){for(var D=Math.max(this.g.length,C.g.length),w=[],x=0,U=0;U<=D;U++){var P=x+(this.i(U)&65535)+(C.i(U)&65535),N=(P>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);x=N>>>16,P&=65535,N&=65535,w[U]=N<<16|P}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Q(C,D){return C.add(j(D))}a.j=function(C){if(I(this)||I(C))return R;if(M(this))return M(C)?j(this).j(j(C)):j(j(this).j(C));if(M(C))return j(this.j(j(C)));if(0>this.l(A)&&0>C.l(A))return p(this.m()*C.m());for(var D=this.g.length+C.g.length,w=[],x=0;x<2*D;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var U=0;U<C.g.length;U++){var P=this.i(x)>>>16,N=this.i(x)&65535,Xt=C.i(U)>>>16,Jt=C.i(U)&65535;w[2*x+2*U]+=N*Jt,Y(w,2*x+2*U),w[2*x+2*U+1]+=P*Jt,Y(w,2*x+2*U+1),w[2*x+2*U+1]+=N*Xt,Y(w,2*x+2*U+1),w[2*x+2*U+2]+=P*Xt,Y(w,2*x+2*U+2)}for(x=0;x<D;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=D;x<2*D;x++)w[x]=0;return new d(w,0)};function Y(C,D){for(;(C[D]&65535)!=C[D];)C[D+1]+=C[D]>>>16,C[D]&=65535,D++}function z(C,D){this.g=C,this.h=D}function W(C,D){if(I(D))throw Error("division by zero");if(I(C))return new z(R,R);if(M(C))return D=W(j(C),D),new z(j(D.g),j(D.h));if(M(D))return D=W(C,j(D)),new z(j(D.g),D.h);if(30<C.g.length){if(M(C)||M(D))throw Error("slowDivide_ only works with positive integers.");for(var w=E,x=D;0>=x.l(C);)w=Z(w),x=Z(x);var U=tt(w,1),P=tt(x,1);for(x=tt(x,2),w=tt(w,2);!I(x);){var N=P.add(x);0>=N.l(C)&&(U=U.add(w),P=N),x=tt(x,1),w=tt(w,1)}return D=Q(C,U.j(D)),new z(U,D)}for(U=R;0<=C.l(D);){for(w=Math.max(1,Math.floor(C.m()/D.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=p(w),N=P.j(D);M(N)||0<N.l(C);)w-=x,P=p(w),N=P.j(D);I(P)&&(P=E),U=U.add(P),C=Q(C,N)}return new z(U,C)}a.A=function(C){return W(this,C).h},a.and=function(C){for(var D=Math.max(this.g.length,C.g.length),w=[],x=0;x<D;x++)w[x]=this.i(x)&C.i(x);return new d(w,this.h&C.h)},a.or=function(C){for(var D=Math.max(this.g.length,C.g.length),w=[],x=0;x<D;x++)w[x]=this.i(x)|C.i(x);return new d(w,this.h|C.h)},a.xor=function(C){for(var D=Math.max(this.g.length,C.g.length),w=[],x=0;x<D;x++)w[x]=this.i(x)^C.i(x);return new d(w,this.h^C.h)};function Z(C){for(var D=C.g.length+1,w=[],x=0;x<D;x++)w[x]=C.i(x)<<1|C.i(x-1)>>>31;return new d(w,C.h)}function tt(C,D){var w=D>>5;D%=32;for(var x=C.g.length-w,U=[],P=0;P<x;P++)U[P]=0<D?C.i(P+w)>>>D|C.i(P+w+1)<<32-D:C.i(P+w);return new d(U,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ev=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,Ar=d}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tv,Ll,Av,xu,Bf,Sv,bv,wv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var H=u[b];if(!(H in v))break t;v=v[H]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var v=0,b=!1,H={next:function(){if(!b&&v<u.length){var X=v++;return{value:m(X,u[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,v){return u.call.apply(u.bind,arguments)}function R(u,m,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),u.apply(m,H)}}return function(){return u.apply(m,arguments)}}function E(u,m,v){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,E.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function I(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,H,X){for(var at=Array(arguments.length-2),It=2;It<arguments.length;It++)at[It-2]=arguments[It];return m.prototype[H].apply(b,at)}}function M(u){const m=u.length;if(0<m){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function j(u,m){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(y(b)){const H=u.length||0,X=b.length||0;u.length=H+X;for(let at=0;at<X;at++)u[H+at]=b[at]}else u.push(b)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function W(u){return W[" "](u),u}W[" "]=function(){};var Z=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function tt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function C(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(v in b)u[v]=b[v];for(let X=0;X<w.length;X++)v=w[X],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function U(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function P(u){g.setTimeout(()=>{throw u},0)}function N(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Xt{constructor(){this.h=this.g=null}add(m,v){const b=Jt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Jt=new Q(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,dt=!1,zt=new Xt,k=()=>{const u=g.Promise.resolve(void 0);yt=()=>{u.then(rt)}};var rt=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){P(v)}var m=Jt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function bt(u,m){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Z){t:{try{W(m.nodeName);var H=!0;break t}catch{}H=!1}H||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}I(bt,lt);var Tt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function ae(u,m,v,b,H){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=H,this.key=++Vt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,v,b,H){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var at=dn(u,m,b,H);return-1<at?(m=u[at],v||(m.fa=!1)):(m=new ae(m,this.src,X,!!b,H),m.fa=v,u.push(m)),m};function ai(u,m){var v=m.type;if(v in u.g){var b=u.g[v],H=Array.prototype.indexOf.call(b,m,void 0),X;(X=0<=H)&&Array.prototype.splice.call(b,H,1),X&&(Ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function dn(u,m,v,b){for(var H=0;H<u.length;++H){var X=u[H];if(!X.da&&X.listener==m&&X.capture==!!v&&X.ha==b)return H}return-1}var ki="closure_lm_"+(1e6*Math.random()|0),ji={};function si(u,m,v,b,H){if(Array.isArray(m)){for(var X=0;X<m.length;X++)si(u,m[X],v,b,H);return null}return v=io(v),u&&u[te]?u.K(m,v,p(b)?!!b.capture:!1,H):xs(u,m,v,!1,b,H)}function xs(u,m,v,b,H,X){if(!m)throw Error("Invalid event type");var at=p(H)?!!H.capture:!!H,It=Vs(u);if(It||(u[ki]=It=new Qe(u)),v=It.add(m,v,b,at,X),v.proxy)return v;if(b=Ta(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)ot||(H=at),H===void 0&&(H=!1),u.addEventListener(m.toString(),b,H);else if(u.attachEvent)u.attachEvent(Sa(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ta(){function u(v){return m.call(u.src,u.listener,v)}const m=_c;return u}function Aa(u,m,v,b,H){if(Array.isArray(m))for(var X=0;X<m.length;X++)Aa(u,m[X],v,b,H);else b=p(b)?!!b.capture:!!b,v=io(v),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(X=u.g[m],v=dn(X,v,b,H),-1<v&&(Ft(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=dn(m,v,b,H)),(v=-1<u?m[u]:null)&&Ir(v))}function Ir(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])ai(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Sa(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Vs(m))?(ai(v,u),v.h==0&&(v.src=null,m[ki]=null)):Ft(u)}}}function Sa(u){return u in ji?ji[u]:ji[u]="on"+u}function _c(u,m){if(u.da)u=!0;else{m=new bt(m,this);var v=u.listener,b=u.ha||u.src;u.fa&&Ir(u),u=v.call(b,m)}return u}function Vs(u){return u=u[ki],u instanceof Qe?u:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function io(u){return typeof u=="function"?u:(u[Je]||(u[Je]=function(m){return u.handleEvent(m)}),u[Je])}function ye(){ht.call(this),this.i=new Qe(this),this.M=this,this.F=null}I(ye,ht),ye.prototype[te]=!0,ye.prototype.removeEventListener=function(u,m,v,b){Aa(this,u,m,v,b)};function Re(u,m){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new lt(m,u);else if(m instanceof lt)m.target=m.target||u;else{var H=m;m=new lt(b,u),x(m,H)}if(H=!0,v)for(var X=v.length-1;0<=X;X--){var at=m.g=v[X];H=li(at,b,!0,m)&&H}if(at=m.g=u,H=li(at,b,!0,m)&&H,H=li(at,b,!1,m)&&H,v)for(X=0;X<v.length;X++)at=m.g=v[X],H=li(at,b,!1,m)&&H}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],b=0;b<v.length;b++)Ft(v[b]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ye.prototype.L=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function li(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var H=!0,X=0;X<m.length;++X){var at=m[X];if(at&&!at.da&&at.capture==v){var It=at.listener,_e=at.ha||at.src;at.fa&&ai(u.i,at),H=It.call(_e,b)!==!1&&H}}return H&&!b.defaultPrevented}function ro(u,m,v){if(typeof u=="function")v&&(u=E(u,v));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ms(u){u.g=ro(()=>{u.g=null,u.i&&(u.i=!1,Ms(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ec extends ht{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(u){ht.call(this),this.h=u,this.g={}}I(Ur,ht);var Li=[];function Pe(u){tt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ir(m)},u),u.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),Pe(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=g.JSON.stringify,jn=g.JSON.parse,Ye=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Us(){}Us.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function so(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){lt.call(this,"d")}I(zi,lt);function xn(){lt.call(this,"c")}I(xn,lt);var mn={},Bi=null;function ba(){return Bi=Bi||new ye}mn.La="serverreachability";function ks(u){lt.call(this,mn.La,u)}I(ks,lt);function Pi(u){const m=ba();Re(m,new ks(m))}mn.STAT_EVENT="statevent";function wa(u,m){lt.call(this,mn.STAT_EVENT,u),this.stat=m}I(wa,lt);function ce(u){const m=ba();Re(m,new wa(m,u))}mn.Ma="timingevent";function lo(u,m){lt.call(this,mn.Ma,u),this.size=m}I(lo,lt);function qi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function oo(u,m,v,b,H,X){u.info(function(){if(u.g)if(X)for(var at="",It=X.split("&"),_e=0;_e<It.length;_e++){var Ut=It[_e].split("=");if(1<Ut.length){var Oe=Ut[0];Ut=Ut[1];var Ee=Oe.split("_");at=2<=Ee.length&&Ee[1]=="type"?at+(Oe+"="+Ut+"&"):at+(Oe+"=redacted&")}}else at=null;else at=X;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+m+`
`+v+`
`+at})}function uo(u,m,v,b,H,X,at){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+m+`
`+v+`
`+X+" "+at})}function Gi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,v)+(b?" "+b:"")})}function zn(u,m){u.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var at=1;at<H.length;at++)H[at]=""}}}}return Is(v)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kr;function Ra(){}I(Ra,Us),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},kr=new Ra;function Bn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.R=b||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new js}function js(){this.i=null,this.g="",this.h=!1}var Fi={},jr={};function Vn(u,m,v){u.L=1,u.v=Br(se(m)),u.m=v,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),ee(u),u.A=se(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),fi(v.i,"t",b),u.C=0,v=u.j.J,u.h=new js,u.g=bo(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ec(E(u.Y,u,u.g),u.O)),m=u.U,v=u.g,b=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(Li[0]=H.toString()),H=Li);for(var X=0;X<H.length;X++){var at=si(v,H[X],b||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?D(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pi(),oo(u.i,u.u,u.A,u.l,u.R,u.m)}Bn.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=_n(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||po(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=pi?Pi(3):Pi(2)),Da(this);var v=this.g.Z();this.X=v;e:if(Xi(this)){var b=po(this.g);u="";var H=b.length,X=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),an(this);var at="";break e}this.h.i=new g.TextDecoder}for(m=0;m<H;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(X&&m==H-1)});b.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=v==200,uo(this.i,this.u,this.A,this.l,this.R,Ee,v),this.o){if(this.T&&!this.K){e:{if(this.g){var It,_e=this.g;if((It=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(It)){var Ut=It;break e}}Ut=null}if(v=Ut)Gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,v);else{this.o=!1,this.s=3,ce(12),tn(this),an(this);break t}}if(this.P){v=!0;let Ie;for(;!this.J&&this.C<at.length;)if(Ie=Qi(this,at),Ie==jr){Ee==4&&(this.s=4,ce(14),v=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Fi){this.s=4,ce(15),Gi(this.i,this.l,at,"[Invalid Chunk]"),v=!1;break}else Gi(this.i,this.l,Ie,null),sn(this,Ie);if(Xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||at.length!=0||this.h.h||(this.s=1,ce(16),v=!1),this.o=this.o&&v,!v)Gi(this.i,this.l,at,"[Invalid Chunked Response]"),tn(this),an(this);else if(0<at.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Qr(Oe),Oe.M=!0,ce(11))}}else Gi(this.i,this.l,at,null),sn(this,at);Ee==4&&tn(this),this.o&&!this.J&&(Ee==4?To(this.j,this):(this.o=!1,ee(this)))}else Rc(this.g),v==400&&0<at.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),tn(this),an(this)}}}catch{}finally{}};function Xi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qi(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?jr:(v=Number(m.substring(v,b)),isNaN(v)?Fi:(b+=1,b+v>m.length?jr:(m=m.slice(b,b+v),u.C=b+v,m)))}Bn.prototype.cancel=function(){this.J=!0,tn(this)};function ee(u){u.S=Date.now()+u.I,Ls(u,u.I)}function Ls(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qi(E(u.ba,u),m)}function Da(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(zn(this.i,this.A),this.L!=2&&(Pi(),ce(17)),tn(this),this.s=2,an(this)):Ls(this,this.S-u)};function an(u){u.j.G==0||u.J||To(u.j,u)}function tn(u){Da(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sn(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Yi(v.h,u))){if(!u.K&&Yi(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ja(v),Ua(v);else break t;Ks(v),ce(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=qi(E(v.Za,v),6e3));if(1>=co(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gi(v,11)}else if((u.K||v.g==u)&&ja(v),!Y(m))for(H=v.Da.g.parse(m),m=0;m<H.length;m++){let Ut=H[m];if(v.T=Ut[0],Ut=Ut[1],v.G==2)if(Ut[0]=="c"){v.K=Ut[1],v.ia=Ut[2];const Oe=Ut[3];Oe!=null&&(v.la=Oe,v.j.info("VER="+v.la));const Ee=Ut[4];Ee!=null&&(v.Aa=Ee,v.j.info("SVER="+v.Aa));const pi=Ut[5];pi!=null&&typeof pi=="number"&&0<pi&&(b=1.5*pi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ie=u.g;if(Ie){const Qn=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var X=b.h;X.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ki(X,X.h),X.h=null))}if(b.D){const Zs=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(b.ya=Zs,Bt(b.I,b.D,Zs))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var at=u;if(b.qa=So(b,b.J?b.ia:null,b.W),at.K){gn(b.h,at);var It=at,_e=b.L;_e&&(It.I=_e),It.B&&(Da(It),ee(It)),b.g=at}else _o(b);0<v.i.length&&ka(v)}else Ut[0]!="stop"&&Ut[0]!="close"||gi(v,7);else v.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?gi(v,7):Qs(v):Ut[0]!="noop"&&v.l&&v.l.ta(Ut),v.v=0)}}Pi(4)}catch{}}var Tc=class{constructor(u,m){this.g=u,this.map=m}};function zs(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function co(u){return u.h?1:u.g?u.g.size:0}function Yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ki(u,m){u.g?u.g.add(m):u.h=m}function gn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zs.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ke(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return M(u.i)}function ho(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],v=u.length,b=0;b<v;b++)m.push(u[b]);return m}m=[],v=0;for(b in u)m[v++]=u[b];return m}function Ac(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const b in u)m[v++]=b;return m}}}function Lr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ac(u),b=ho(u),H=b.length,X=0;X<H;X++)m.call(void 0,b[X],v&&v[X],u)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),H=null;if(0<=b){var X=u[v].substring(0,b);H=u[v].substring(b+1)}else X=u[v];m(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ci(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ci){this.h=u.h,$i(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.s),this.l=u.l;var m=u.i,v=new Pn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Oa(this,v),this.m=u.m}else u&&(m=String(u).match(Ps))?(this.h=!1,$i(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),zr(this,m[4]),this.l=Zi(m[5]||"",!0),Oa(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new Pn(null,this.h))}ci.prototype.toString=function(){var u=[],m=this.j;m&&u.push(pn(m,qs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pn(m,qs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pn(v,v.charAt(0)=="/"?Hs:fo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pn(v,wc)),u.join("")};function se(u){return new ci(u)}function $i(u,m,v){u.j=v?Zi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Oa(u,m,v){m instanceof Pn?(u.i=m,Gs(u.i,u.h)):(v||(m=pn(m,bc)),u.i=new Pn(m,u.h))}function Bt(u,m,v){u.i.set(m,v)}function Br(u){return Bt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Zi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pn(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Sc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,fo=/[#\?:]/g,Hs=/[#\?]/g,bc=/[#\?@]/g,wc=/#/g;function Pn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ca(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=Pn.prototype,a.add=function(u,m){yn(this),this.i=null,u=di(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Na(u,m){yn(u),m=di(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hi(u,m){return yn(u),m=di(u,m),u.g.has(m)}a.forEach=function(u,m){yn(this),this.g.forEach(function(v,b){v.forEach(function(H){u.call(m,H,b,this)},this)},this)},a.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){const H=u[b];for(let X=0;X<H.length;X++)v.push(m[b])}return v},a.V=function(u){yn(this);let m=[];if(typeof u=="string")hi(this,u)&&(m=m.concat(this.g.get(di(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},a.set=function(u,m){return yn(this),this.i=null,u=di(this,u),hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function fi(u,m,v){Na(u,m),0<v.length&&(u.i=null,u.g.set(di(u,m),M(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];const X=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var H=X;at[b]!==""&&(H+="="+encodeURIComponent(String(at[b]))),u.push(H)}}return this.i=u.join("&")};function di(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gs(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,b){var H=b.toLowerCase();b!=H&&(Na(this,b),fi(this,H,v))},u)),u.j=m}function mo(u,m){const v=new Hi;if(g.Image){const b=new Image;b.onload=A(vn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(vn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(vn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(vn,v,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Pr(u,m){const v=new Hi,b=new AbortController,H=setTimeout(()=>{b.abort(),vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(X=>{clearTimeout(H),X.ok?vn(v,"TestPingServer: ok",!0,m):vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(H),vn(v,"TestPingServer: error",!1,m)})}function vn(u,m,v,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(v)}catch{}}function qr(){this.g=new Ye}function qn(u,m,v){const b=v||"";try{Lr(u,function(H,X){let at=H;p(H)&&(at=Is(H)),m.push(b+X+"="+encodeURIComponent(at))})}catch(H){throw m.push(b+"type="+encodeURIComponent("_badmap")),H}}function Wi(u){this.l=u.Ub||null,this.j=u.eb||!1}I(Wi,Us),Wi.prototype.g=function(){return new mi(this.l,this.j)},Wi.prototype.i=function(u){return function(){return u}}({});function mi(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(mi,ye),a=mi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&Fs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},a.Qa=function(u){this.g&&(this.response=u,Hn(this))},a.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xs(u){let m="";return tt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ce(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Xs(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Bt(u,m,v))}function Ht(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ht,ye);var xa=/^https?$/i,Hr=["POST","PUT"];a=Ht.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kr.g(),this.v=this.o?ao(this.o):ao(kr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(X){go(this,X);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)v.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())v.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),H=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Hr,m,void 0))||b||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,at]of v)this.g.setRequestHeader(X,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gr(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){go(this,X)}};function go(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Va(u),Fn(u)}function Va(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Fn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},a.bb=function(){Ma(this)};function Ma(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)ro(u.Ea,0,u);else if(Re(u,"readystatechange"),_n(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=at===0){var H=String(u.D).match(Ps)[1]||null;!H&&g.self&&g.self.location&&(H=g.self.location.protocol.slice(0,-1)),b=!xa.test(H?H.toLowerCase():"")}v=b}if(v)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var X=2<_n(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",Va(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Gr(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{v.onreadystatechange=b}catch{}}}function Gr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jn(m)}};function po(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(Y(u[b]))continue;var v=U(u[b]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=m[H]||[];m[H]=X,X.push(v)}C(m,function(b){return b.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ia(u){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,u),this.cb=Fr("retryDelaySeedMs",1e4,u),this.Wa=Fr("forwardChannelMaxRetries",2,u),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zs(u&&u.concurrentRequestLimit),this.Da=new qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ia.prototype,a.la=8,a.G=1,a.connect=function(u,m,v,b){ce(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=So(this,null,this.W),ka(this)};function Qs(u){if(yo(u),u.G==3){var m=u.U++,v=se(u.I);if(Bt(v,"SID",u.K),Bt(v,"RID",m),Bt(v,"TYPE","terminate"),Xr(u,v),m=new Bn(u,u.j,m),m.L=2,m.v=Br(se(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=bo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ee(m)}Ao(u)}function Ua(u){u.g&&(Qr(u),u.g.cancel(),u.g=null)}function yo(u){Ua(u),u.u&&(g.clearTimeout(u.u),u.u=null),ja(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ka(u){if(!Bs(u.h)&&!u.s){u.s=!0;var m=u.Ga;yt||k(),dt||(yt(),dt=!0),zt.add(m,u),u.B=0}}function Dc(u,m){return co(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qi(E(u.Ga,u,m),$s(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new Bn(this,this.j,u);let X=this.o;if(this.S&&(X?(X=D(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=vo(this,H,m),v=se(this.I),Bt(v,"RID",u),Bt(v,"CVER",22),this.D&&Bt(v,"X-HTTP-Session-Id",this.D),Xr(this,v),X&&(this.O?m="headers="+encodeURIComponent(String(Xs(X)))+"&"+m:this.m&&Ce(v,this.m,X)),Ki(this.h,H),this.Ua&&Bt(v,"TYPE","init"),this.P?(Bt(v,"$req",m),Bt(v,"SID","null"),H.T=!0,Vn(H,v,null)):Vn(H,v,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||Bs(this.h)||Ys(this))};function Ys(u,m){var v;m?v=m.l:v=u.U++;const b=se(u.I);Bt(b,"SID",u.K),Bt(b,"RID",v),Bt(b,"AID",u.T),Xr(u,b),u.m&&u.o&&Ce(b,u.m,u.o),v=new Bn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=vo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ki(u.h,v),Vn(v,b,m)}function Xr(u,m){u.H&&tt(u.H,function(v,b){Bt(m,b,v)}),u.l&&Lr({},function(v,b){Bt(m,b,v)})}function vo(u,m,v){v=Math.min(u.i.length,v);var b=u.l?E(u.l.Na,u.l,u):null;t:{var H=u.i;let X=-1;for(;;){const at=["count="+v];X==-1?0<v?(X=H[0].g,at.push("ofs="+X)):X=0:at.push("ofs="+X);let It=!0;for(let _e=0;_e<v;_e++){let Ut=H[_e].g;const Oe=H[_e].map;if(Ut-=X,0>Ut)X=Math.max(0,H[_e].g-100),It=!1;else try{qn(Oe,at,"req"+Ut+"_")}catch{b&&b(Oe)}}if(It){b=at.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,b}function _o(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;yt||k(),dt||(yt(),dt=!0),zt.add(m,u),u.v=0}}function Ks(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qi(E(u.Fa,u),$s(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Eo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qi(E(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Ua(this),Eo(this))};function Qr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Eo(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=se(u.qa);Bt(m,"RID","rpc"),Bt(m,"SID",u.K),Bt(m,"AID",u.T),Bt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Bt(m,"TO",u.ja),Bt(m,"TYPE","xmlhttp"),Xr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Br(se(m)),v.m=null,v.P=!0,ui(v,u)}a.Za=function(){this.C!=null&&(this.C=null,Ua(this),Ks(this),ce(19))};function ja(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function To(u,m){var v=null;if(u.g==m){ja(u),Qr(u),u.g=null;var b=2}else if(Yi(u.h,m))v=m.D,gn(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var H=u.B;b=ba(),Re(b,new lo(b,v)),ka(u)}else _o(u);else if(H=m.s,H==3||H==0&&0<m.X||!(b==1&&Dc(u,m)||b==2&&Ks(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),H){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function $s(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=E(u.fb,u),b=u.Xa;const H=!b;b=new ci(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$i(b,"https"),Br(b),H?mo(b.toString(),v):Pr(b.toString(),v)}else ce(2);u.G=0,u.l&&u.l.sa(m),Ao(u),yo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Ao(u){if(u.G=0,u.ka=[],u.l){const m=Ke(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function So(u,m,v){var b=v instanceof ci?se(v):new ci(v);if(b.g!="")m&&(b.g=m+"."+b.g),zr(b,b.s);else{var H=g.location;b=H.protocol,m=m?m+"."+H.hostname:H.hostname,H=+H.port;var X=new ci(null);b&&$i(X,b),m&&(X.g=m),H&&zr(X,H),v&&(X.l=v),b=X}return v=u.D,m=u.ya,v&&m&&Bt(b,v,m),Bt(b,"VER",u.la),Xr(u,b),b}function bo(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new Wi({eb:v})):new Ht(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}a=wo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function La(){}La.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ye.call(this),this.g=new Ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}I($e,ye),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Qs(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Is(u),u=v);m.i.push(new Tc(m.Ya++,u)),m.G==3&&ka(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,$e.aa.N.call(this)};function Ro(u){zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(Ro,zi);function Do(){xn.call(this),this.status=1}I(Do,xn);function Xn(u){this.g=u}I(Xn,wo),Xn.prototype.ua=function(){Re(this.g,"a")},Xn.prototype.ta=function(u){Re(this.g,new Ro(u))},Xn.prototype.sa=function(u){Re(this.g,new Do)},Xn.prototype.ra=function(){Re(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,wv=function(){return new La},bv=function(){return ba()},Sv=mn,Bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,xu=ve,oi.COMPLETE="complete",Av=oi,so.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Ll=so,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Tv=Ht}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const oy="@firebase/firestore",uy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new mv("@firebase/firestore");function hs(){return ya.logLevel}function ut(a,...e){if(ya.logLevel<=Lt.DEBUG){const i=e.map(ld);ya.debug(`Firestore (${Ds}): ${a}`,...i)}}function Mi(a,...e){if(ya.logLevel<=Lt.ERROR){const i=e.map(ld);ya.error(`Firestore (${Ds}): ${a}`,...i)}}function vs(a,...e){if(ya.logLevel<=Lt.WARN){const i=e.map(ld);ya.warn(`Firestore (${Ds}): ${a}`,...i)}}function ld(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a="Unexpected state"){const e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+a;throw Mi(e),new Error(e)}function Gt(a,e){a||_t()}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ST{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class bT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class wT{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Sr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Sr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new Rv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Fe(e)}}class RT{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class DT{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new RT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CT{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,oT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new cy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new cy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OT(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Dt(a,e){return a<e?-1:a>e?1:0}function Pf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const h=Dv(),d=NT(h.encode(hy(a,i)),h.encode(hy(e,i)));return d!==0?d:Dt(s,o)}}i+=s>65535?2:1}return Dt(a.length,e.length)}function hy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function NT(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Dt(a[i],e[i]);return Dt(a.length,e.length)}function _s(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=-62135596800,dy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*dy);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<fy)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dy}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-fy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new be(0,0))}static max(){return new Et(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="__name__";class Jn{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(),s===void 0?s=e.length-i:s>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Jn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const s=Jn.isNumericId(e),o=Jn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):Pf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class Wt extends Jn{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new gt(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const xT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends Jn{construct(e,i,s){return new ze(e,i,s)}static isValidIdentifier(e){return xT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===my}static keyField(){return new ze([my])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new gt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new gt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new gt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Wt.fromString(e))}static fromName(e){return new pt(Wt.fromString(e).popFirst(5))}static empty(){return new pt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function VT(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new Rr(o,pt.empty(),e)}function MT(a){return new Rr(a.readTime,a.key,Ql)}class Rr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Rr(Et.min(),pt.empty(),Ql)}static max(){return new Rr(Et.max(),pt.empty(),Ql)}}function IT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:Dt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(a){if(a.code!==it.FAILED_PRECONDITION||a.message!==UT)throw a;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new et((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):et.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):et.reject(i)}static resolve(e){return new et((i,s)=>{i(e)})}static reject(e){return new et((i,s)=>{s(e)})}static waitFor(e){return new et((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},y=>s(y))}),d=!0,h===o&&i()})}static or(e){let i=et.resolve(!1);for(const s of e)i=i.next(o=>o?et.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new et((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const p=y;i(e[p]).next(T=>{d[p]=T,++g,g===h&&s(d)},T=>o(T))}})}static doWhile(e,i){return new et((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function jT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ec.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function nc(a){return a==null}function Hu(a){return a===0&&1/a==-1/0}function LT(a){return typeof a=="number"&&Number.isInteger(a)&&!Hu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="";function zT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=gy(e)),e=BT(a.get(i),e);return gy(e)}function BT(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Ov:i+="";break;default:i+=h}}return i}function gy(a){return a+Ov+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Vr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Nv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Le.RED,this.left=o??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Le(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Le.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,s,o,h){return this}insert(e,i,s){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new yy(this.data.getIterator())}getIteratorFrom(e){return new yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new fn([])}unionWith(e){let i=new we(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new xv("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const PT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=PT.exec(a);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Cr(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="server_timestamp",Mv="__type__",Iv="__previous_value__",Uv="__local_write_time__";function ud(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mv])===null||i===void 0?void 0:i.stringValue)===Vv}function ic(a){const e=a.mapValue.fields[Iv];return ud(e)?ic(e):e}function Yl(a){const e=Dr(a.mapValue.fields[Uv].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,i,s,o,h,d,g,y,p){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p}}const Gu="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||Gu}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="__type__",HT="__max__",Du={mapValue:{}},jv="__vector__",Fu="value";function Or(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ud(a)?4:FT(a)?9007199254740991:GT(a)?10:11:_t()}function ii(a,e){if(a===e)return!0;const i=Or(a);if(i!==Or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Yl(a).isEqual(Yl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Dr(o.timestampValue),g=Dr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Cr(o.bytesValue).isEqual(Cr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?Hu(d)===Hu(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return _s(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(py(d)!==py(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ii(d[y],g[y])))return!1;return!0}(a,e);default:return _t()}}function $l(a,e){return(a.values||[]).find(i=>ii(i,e))!==void 0}function Es(a,e){if(a===e)return 0;const i=Or(a),s=Or(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),y=fe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,e);case 3:return vy(a.timestampValue,e.timestampValue);case 4:return vy(Yl(a),Yl(e));case 5:return Pf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Cr(h),y=Cr(d);return g.compareTo(y)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const T=Dt(g[p],y[p]);if(T!==0)return T}return Dt(g.length,y.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Dt(fe(h.latitude),fe(d.latitude));return g!==0?g:Dt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return _y(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,y,p,T;const R=h.fields||{},E=d.fields||{},A=(g=R[Fu])===null||g===void 0?void 0:g.arrayValue,I=(y=E[Fu])===null||y===void 0?void 0:y.arrayValue,M=Dt(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((T=I==null?void 0:I.values)===null||T===void 0?void 0:T.length)||0);return M!==0?M:_y(A,I)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Du.mapValue&&d===Du.mapValue)return 0;if(h===Du.mapValue)return 1;if(d===Du.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),p=d.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let R=0;R<y.length&&R<T.length;++R){const E=Pf(y[R],T[R]);if(E!==0)return E;const A=Es(g[y[R]],p[T[R]]);if(A!==0)return A}return Dt(y.length,T.length)}(a.mapValue,e.mapValue);default:throw _t()}}function vy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Dt(a,e);const i=Dr(a),s=Dr(e),o=Dt(i.seconds,s.seconds);return o!==0?o:Dt(i.nanos,s.nanos)}function _y(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Es(i[o],s[o]);if(h)return h}return Dt(i.length,s.length)}function Ts(a){return qf(a)}function qf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Dr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Cr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return pt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=qf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${qf(i.fields[d])}`;return o+"}"}(a.mapValue):_t()}function Vu(a){switch(Or(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ic(a);return e?16+Vu(e):16;case 5:return 2*a.stringValue.length;case 6:return Cr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Vu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Vr(s.fields,(h,d)=>{o+=h.length+Vu(d)}),o}(a.mapValue);default:throw _t()}}function Hf(a){return!!a&&"integerValue"in a}function cd(a){return!!a&&"arrayValue"in a}function Ey(a){return!!a&&"nullValue"in a}function Ty(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Mu(a){return!!a&&"mapValue"in a}function GT(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[kv])===null||i===void 0?void 0:i.stringValue)===jv}function Pl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Vr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Pl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function FT(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===HT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Mu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=ze.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Pl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Mu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Vr(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new rn(Pl(this.value))}}function Lv(a){const e=[];return Vr(a.fields,(i,s)=>{const o=new ze([i]);if(Mu(s)){const h=Lv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),rn.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i){this.position=e,this.inclusive=i}}function Ay(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Es(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Sy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ii(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i="asc"){this.field=e,this.dir=i}}function XT(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{}class Se extends zv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new YT(e,i,s):i==="array-contains"?new ZT(e,s):i==="in"?new WT(e,s):i==="not-in"?new JT(e,s):i==="array-contains-any"?new tA(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new KT(e,s):new $T(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Es(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends zv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return Bv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Bv(a){return a.op==="and"}function Pv(a){return QT(a)&&Bv(a)}function QT(a){for(const e of a.filters)if(e instanceof ri)return!1;return!0}function Gf(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+Ts(a.value);if(Pv(a))return a.filters.map(e=>Gf(e)).join(",");{const e=a.filters.map(i=>Gf(i)).join(",");return`${a.op}(${e})`}}function qv(a,e){return a instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(a,e):a instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&qv(d,o.filters[g]),!0):!1}(a,e):void _t()}function Hv(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`}(a):a instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(Hv).join(" ,")+"}"}(a):"Filter"}class YT extends Se{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class KT extends Se{constructor(e,i){super(e,"in",i),this.keys=Gv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class $T extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Gv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Gv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class ZT extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&$l(i.arrayValue,this.value)}}class WT extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class JT extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!$l(this.value.arrayValue,i)}}class tA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>$l(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function by(a,e=null,i=[],s=[],o=null,h=null,d=null){return new eA(a,e,i,s,o,h,d)}function hd(a){const e=St(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Gf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ts(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ts(s)).join(",")),e.le=i}return e.le}function fd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!XT(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!qv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Sy(a.startAt,e.startAt)&&Sy(a.endAt,e.endAt)}function Ff(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function nA(a,e,i,s,o,h,d,g){return new rc(a,e,i,s,o,h,d,g)}function Fv(a){return new rc(a)}function wy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function iA(a){return a.collectionGroup!==null}function ql(a){const e=St(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(ze.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Qu(h,s))}),i.has(ze.keyField().canonicalString())||e.he.push(new Qu(ze.keyField(),s))}return e.he}function ti(a){const e=St(a);return e.Pe||(e.Pe=rA(e,ql(a))),e.Pe}function rA(a,e){if(a.limitType==="F")return by(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Qu(o.field,h)});const i=a.endAt?new Xu(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Xu(a.startAt.position,a.startAt.inclusive):null;return by(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Xf(a,e,i){return new rc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function ac(a,e){return fd(ti(a),ti(e))&&a.limitType===e.limitType}function Xv(a){return`${hd(ti(a))}|lt:${a.limitType}`}function fs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Hv(o)).join(", ")}]`),nc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ts(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ts(o)).join(",")),`Target(${s})`}(ti(a))}; limitType=${a.limitType})`}function sc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):pt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of ql(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,y){const p=Ay(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,ql(s),o)||s.endAt&&!function(d,g,y){const p=Ay(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,ql(s),o))}(a,e)}function aA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Qv(a){return(e,i)=>{let s=!1;for(const o of ql(a)){const h=sA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function sA(a,e,i){const s=a.field.isKeyField()?pt.comparator(e.key,i.key):function(h,d,g){const y=d.data.field(h),p=g.data.field(h);return y!==null&&p!==null?Es(y,p):_t()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return Nv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new re(pt.comparator);function Ii(){return lA}const Yv=new re(pt.comparator);function zl(...a){let e=Yv;for(const i of a)e=e.insert(i.key,i);return e}function Kv(a){let e=Yv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ga(){return Hl()}function $v(){return Hl()}function Hl(){return new _a(a=>a.toString(),(a,e)=>a.isEqual(e))}const oA=new re(pt.comparator),uA=new we(pt.comparator);function xt(...a){let e=uA;for(const i of a)e=e.add(i);return e}const cA=new we(Dt);function hA(){return cA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function Zv(a){return{integerValue:""+a}}function fA(a,e){return LT(e)?Zv(e):dd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this._=void 0}}function dA(a,e,i){return a instanceof Yu?function(o,h){const d={fields:{[Mv]:{stringValue:Vv},[Uv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ud(h)&&(h=ic(h)),h&&(d.fields[Iv]=h),{mapValue:d}}(i,e):a instanceof Zl?Jv(a,e):a instanceof Wl?t_(a,e):function(o,h){const d=Wv(o,h),g=Ry(d)+Ry(o.Ie);return Hf(d)&&Hf(o.Ie)?Zv(g):dd(o.serializer,g)}(a,e)}function mA(a,e,i){return a instanceof Zl?Jv(a,e):a instanceof Wl?t_(a,e):i}function Wv(a,e){return a instanceof Ku?function(s){return Hf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Yu extends lc{}class Zl extends lc{constructor(e){super(),this.elements=e}}function Jv(a,e){const i=e_(e);for(const s of a.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class Wl extends lc{constructor(e){super(),this.elements=e}}function t_(a,e){let i=e_(e);for(const s of a.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class Ku extends lc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Ry(a){return fe(a.integerValue||a.doubleValue)}function e_(a){return cd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function gA(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Wl&&o instanceof Wl?_s(s.elements,o.elements,ii):s instanceof Ku&&o instanceof Ku?ii(s.Ie,o.Ie):s instanceof Yu&&o instanceof Yu}(a.transform,e.transform)}class pA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class oc{}function n_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new r_(a.key,ei.none()):new Jl(a.key,a.data,ei.none());{const i=a.data,s=rn.empty();let o=new we(ze.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Mr(a.key,s,new fn(o.toArray()),ei.none())}}function yA(a,e,i){a instanceof Jl?function(o,h,d){const g=o.value.clone(),y=Cy(o.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Mr?function(o,h,d){if(!Iu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Cy(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(i_(o)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Gl(a,e,i,s){return a instanceof Jl?function(h,d,g,y){if(!Iu(h.precondition,d))return g;const p=h.value.clone(),T=Oy(h.fieldTransforms,y,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(a,e,i,s):a instanceof Mr?function(h,d,g,y){if(!Iu(h.precondition,d))return g;const p=Oy(h.fieldTransforms,y,d),T=d.data;return T.setAll(i_(h)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(a,e,i,s):function(h,d,g){return Iu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function vA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Wv(s.transform,o||null);h!=null&&(i===null&&(i=rn.empty()),i.set(s.field,h))}return i||null}function Dy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_s(s,o,(h,d)=>gA(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Jl extends oc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends oc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function i_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Cy(a,e,i){const s=new Map;Gt(a.length===i.length);for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,mA(d,g,i[o]))}return s}function Oy(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,dA(h,d,e))}return s}class r_ extends oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _A extends oc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&yA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Gl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Gl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=$v();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const y=n_(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,s)=>Dy(i,s))&&_s(this.baseMutations,e.baseMutations,(i,s)=>Dy(i,s))}}class md{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=function(){return oA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new md(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,jt;function SA(a){switch(a){case it.OK:return _t();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return _t()}}function a_(a){if(a===void 0)return Mi("GRPC error has no .code"),it.UNKNOWN;switch(a){case pe.OK:return it.OK;case pe.CANCELLED:return it.CANCELLED;case pe.UNKNOWN:return it.UNKNOWN;case pe.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case pe.INTERNAL:return it.INTERNAL;case pe.UNAVAILABLE:return it.UNAVAILABLE;case pe.UNAUTHENTICATED:return it.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case pe.NOT_FOUND:return it.NOT_FOUND;case pe.ALREADY_EXISTS:return it.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return it.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case pe.ABORTED:return it.ABORTED;case pe.OUT_OF_RANGE:return it.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return it.UNIMPLEMENTED;case pe.DATA_LOSS:return it.DATA_LOSS;default:return _t()}}(jt=pe||(pe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Ar([4294967295,4294967295],0);function Ny(a){const e=Dv().encode(a),i=new Ev;return i.update(e),new Uint8Array(i.digest())}function xy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ar([i,s],0),new Ar([o,h],0)]}class gd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ar.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Ar.fromNumber(s)));return o.compare(bA)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Ny(e),[s,o]=xy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new gd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Ny(e),[s,o]=xy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,to.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new uc(Et.min(),o,new re(Dt),Ii(),xt())}}class to{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new to(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class s_{constructor(e,i){this.targetId=e,this.ge=i}}class l_{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Vy{constructor(){this.pe=0,this.ye=My(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=xt(),i=xt(),s=xt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new to(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=My()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class wA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ii(),this.$e=Cu(),this.Ue=Cu(),this.Ke=new re(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Ff(h))if(s===0){const d=new pt(h.path);this.ze(i,d,Xe.newNoDocument(d,Et.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),y=g?this.nt(g,e,d):1;if(y!==0){this.Ye(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,p)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Cr(s).toUint8Array()}catch(y){if(y instanceof xv)return vs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new gd(d,o,h)}catch(y){return vs(y instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Ff(g.target)){const y=new pt(g.target.path);this._t(y).has(d)||this.ut(d,y)||this.ze(d,y,Xe.newNoDocument(y,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=xt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const p=this.Xe(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new uc(e,i,this.Ke,this.Qe,s);return this.Qe=Ii(),this.$e=Cu(),this.Ue=Cu(),this.Ke=new re(Dt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Vy,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new we(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Vy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Cu(){return new re(pt.comparator)}function My(){return new re(pt.comparator)}const RA={asc:"ASCENDING",desc:"DESCENDING"},DA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CA={and:"AND",or:"OR"};class OA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Qf(a,e){return a.useProto3Json||nc(e)?e:{value:e}}function $u(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function NA(a,e){return $u(a,e.toTimestamp())}function ni(a){return Gt(!!a),Et.fromTimestamp(function(i){const s=Dr(i);return new be(s.seconds,s.nanos)}(a))}function pd(a,e){return Yf(a,e).canonicalString()}function Yf(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function u_(a){const e=Wt.fromString(a);return Gt(m_(e)),e}function Kf(a,e){return pd(a.databaseId,e.path)}function Cf(a,e){const i=u_(e);if(i.get(1)!==a.databaseId.projectId)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(h_(i))}function c_(a,e){return pd(a.databaseId,e)}function xA(a){const e=u_(a);return e.length===4?Wt.emptyPath():h_(e)}function $f(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function h_(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function Iy(a,e,i){return{name:Kf(a,e),fields:i.value.mapValue.fields}}function VA(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(p,T){return p.useProto3Json?(Gt(T===void 0||typeof T=="string"),Be.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Be.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(p){const T=p.code===void 0?it.UNKNOWN:a_(p.code);return new gt(T,p.message||"")}(d);i=new l_(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cf(a,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):Et.min(),g=new rn({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(o,h,d,g),p=s.targetIds||[],T=s.removedTargetIds||[];i=new Uu(p,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cf(a,s.document),h=s.readTime?ni(s.readTime):Et.min(),d=Xe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Uu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cf(a,s.document),h=s.removedTargetIds||[];i=new Uu([],h,o,null)}else{if(!("filter"in e))return _t();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new AA(o,h),g=s.targetId;i=new s_(g,d)}}return i}function MA(a,e){let i;if(e instanceof Jl)i={update:Iy(a,e.key,e.value)};else if(e instanceof r_)i={delete:Kf(a,e.key)};else if(e instanceof Mr)i={update:Iy(a,e.key,e.data),updateMask:qA(e.fieldMask)};else{if(!(e instanceof _A))return _t();i={verify:Kf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Yu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ku)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw _t()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:NA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t()}(a,e.precondition)),i}function IA(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(Et.min())&&(d=ni(h)),new pA(d,o.transformResults||[])}(i,e))):[]}function UA(a,e){return{documents:[c_(a,e.path)]}}function kA(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=c_(a,o);const h=function(p){if(p.length!==0)return d_(ri.create(p,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(p){if(p.length!==0)return p.map(T=>function(E){return{field:ds(E.field),direction:zA(E.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Qf(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:i,parent:o}}function jA(a){let e=xA(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(R){const E=f_(R);return E instanceof ri&&Pv(E)?E.getFilters():[E]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(E=>function(I){return new Qu(ms(I.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(E))}(i.orderBy));let g=null;i.limit&&(g=function(R){let E;return E=typeof R=="object"?R.value:R,nc(E)?null:E}(i.limit));let y=null;i.startAt&&(y=function(R){const E=!!R.before,A=R.values||[];return new Xu(A,E)}(i.startAt));let p=null;return i.endAt&&(p=function(R){const E=!R.before,A=R.values||[];return new Xu(A,E)}(i.endAt)),nA(e,o,d,h,g,"F",y,p)}function LA(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function f_(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ms(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ms(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ms(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ms(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(ms(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(s=>f_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(a):_t()}function zA(a){return RA[a]}function BA(a){return DA[a]}function PA(a){return CA[a]}function ds(a){return{fieldPath:a.canonicalString()}}function ms(a){return ze.fromServerFormat(a.fieldPath)}function d_(a){return a instanceof Se?function(i){if(i.op==="=="){if(Ty(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NAN"}};if(Ey(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ty(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NAN"}};if(Ey(i.value))return{unaryFilter:{field:ds(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(i.field),op:BA(i.op),value:i.value}}}(a):a instanceof ri?function(i){const s=i.getFilters().map(o=>d_(o));return s.length===1?s[0]:{compositeFilter:{op:PA(i.op),filters:s}}}(a):_t()}function qA(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function m_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,s,o,h=Et.min(),d=Et.min(),g=Be.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.Tt=e}}function GA(a){const e=jA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.Tn=new XA}addToCollectionParentIndex(e,i){return this.Tn.add(i),et.resolve()}getCollectionParents(e,i){return et.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return et.resolve()}deleteFieldIndex(e,i){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,i){return et.resolve()}getDocumentsMatchingTarget(e,i){return et.resolve(null)}getIndexType(e,i){return et.resolve(0)}getFieldIndexes(e,i){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,i){return et.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return et.resolve(Rr.min())}updateCollectionGroup(e,i,s){return et.resolve()}updateIndexEntries(e,i){return et.resolve()}}class XA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g_=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(g_,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new As(0)}static Kn(){return new As(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LruGarbageCollector",QA=1048576;function jy([a,e],[i,s]){const o=Dt(a,i);return o===0?Dt(e,s):o}class YA{constructor(e){this.Hn=e,this.buffer=new we(jy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();jy(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class KA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ut(ky,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?ut(ky,"Ignoring IndexedDB error during garbage collection: ",i):await Cs(i)}await this.er(3e5)})}}class $A{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return et.resolve(ec.ae);const s=new YA(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Uy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,g,y,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,g=Date.now(),this.removeTargets(e,s,i))).next(R=>(h=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(p=Date.now(),hs()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${R} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R})))}}function ZA(a,e){return new $A(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.changes=new _a(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?et.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Gl(s.mutation,o,fn.empty(),be.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,xt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=xt()){const o=ga();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=zl();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ga();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,xt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Ii();const d=Hl(),g=function(){return Hl()}();return i.forEach((y,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof Mr)?h=h.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),Gl(T.mutation,p,T.mutation.getFieldMask(),be.now())):d.set(p.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((p,T)=>d.set(p,T)),i.forEach((p,T)=>{var R;return g.set(p,new JA(T,(R=d.get(p))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Hl();let o=new re((d,g)=>d-g),h=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let T=s.get(y)||fn.empty();T=g.applyToLocalView(p,T),s.set(y,T);const R=(o.get(g.batchId)||xt()).add(y);o=o.insert(g.batchId,R)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,T=y.value,R=$v();T.forEach(E=>{if(!h.has(E)){const A=n_(i.get(E),s.get(E));A!==null&&R.set(E,A),h=h.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,R))}return et.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):iA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):et.resolve(ga());let g=Ql,y=h;return d.next(p=>et.forEach(p,(T,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),h.get(T)?et.resolve():this.remoteDocumentCache.getEntry(e,T).next(E=>{y=y.insert(T,E)}))).next(()=>this.populateOverlays(e,p,h)).next(()=>this.computeViews(e,y,p,xt())).next(T=>({batchId:g,changes:Kv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,h).next(g=>et.forEach(g,y=>{const p=function(R,E){return new rc(E,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(T=>{T.forEach((R,E)=>{d=d.insert(R,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((y,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))});let g=zl();return d.forEach((y,p)=>{const T=h.get(y);T!==void 0&&Gl(T.mutation,p,fn.empty(),be.now()),sc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return et.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),et.resolve()}getNamedQuery(e,i){return et.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:GA(o.bundledQuery),readTime:ni(o.readTime)}}(i)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.overlays=new re(pt.comparator),this.Rr=new Map}getOverlay(e,i){return et.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ga();return et.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),et.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),et.resolve()}getOverlaysForCollection(e,i,s){const o=ga(),h=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===h&&y.largestBatchId>s&&o.set(y.getKey(),y)}return et.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new re((p,T)=>p-T);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let T=h.get(p.largestBatchId);T===null&&(T=ga(),h=h.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=ga(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,T)=>g.set(p,T)),!(g.size()>=o)););return et.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new TA(i,s));let h=this.Rr.get(i);h===void 0&&(h=xt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new pt(new Wt([])),s=new Me(i,e),o=new Me(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new pt(new Wt([])),s=new Me(i,e),o=new Me(i,e+1);let h=xt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return pt.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new EA(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return et.resolve(d)}lookupMutationBatch(e,i){return et.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return et.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?od:this.Fr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);h.push(g)}),et.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Dt);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),et.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;pt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new pt(h),0);let g=new we(Dt);return this.Mr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Cr)),!0)},d),et.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return et.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Me(i,0),o=this.Mr.firstAfterOrEqual(s);return et.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.kr=e,this.docs=function(){return new re(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return et.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Ii();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))}),et.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ii();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||IT(MT(T),s)<=0||(o.has(T.key)||sc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return et.resolve(h)}getAllFromCollectionGroup(e,i,s,o){_t()}qr(e,i){return et.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new sS(this)}getSize(e){return et.resolve(this.size)}}class sS extends WA{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),et.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.persistence=e,this.Qr=new _a(i=>hd(i),fd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yd,this.targetCount=0,this.Kr=As.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),et.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new As(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,et.resolve()}updateTargetData(e,i){return this.zn(i),et.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),et.waitFor(h).next(()=>o)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return et.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),et.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),et.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),et.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return et.resolve(s)}containsKey(e,i){return et.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new ec(0),this.zr=!1,this.zr=!0,this.jr=new iS,this.referenceDelegate=e(this),this.Hr=new lS(this),this.indexManager=new FA,this.remoteDocumentCache=function(o){return new aS(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new HA(i),this.Yr=new eS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new nS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new rS(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new oS(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return et.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class oS extends kT{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.ti=new yd,this.ni=null}static ri(e){return new vd(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),et.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),et.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return et.or([()=>et.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Zu{constructor(e,i){this.persistence=e,this.oi=new _a(s=>zT(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ZA(this,i)}static ri(e,i){return new Zu(e,i)}Zr(){}Xr(e){return et.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return et.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?et.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),et.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),et.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),et.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),et.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Vu(e.data.value)),i}ar(e,i,s){return et.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=xt(),o=xt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new _d(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return a1()?8:jT(i1())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new uS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(hs()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",fs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),et.resolve()):(hs()<=Lt.DEBUG&&ut("QueryEngine","Query:",fs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(hs()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",fs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):et.resolve())}rs(e,i){if(wy(i))return et.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Xf(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=xt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const p=this.cs(i,g);return this.ls(i,p,d,y.readTime)?this.rs(e,Xf(i,null,"F")):this.hs(e,p,i,y)}))})))}ss(e,i,s,o){return wy(i)||o.isEqual(Et.min())?et.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?et.resolve(null):(hs()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fs(i)),this.hs(e,d,i,VT(o,Ql)).next(g=>g))})}cs(e,i){let s=new we(Qv(e));return i.forEach((o,h)=>{sc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return hs()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",fs(i)),this.ns.getDocumentsMatchingQuery(e,i,Rr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="LocalStore",hS=3e8;class fS{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new re(Dt),this.Is=new _a(h=>hd(h),fd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function dS(a,e,i,s){return new fS(a,e,i,s)}async function y_(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let y=xt();for(const p of o){d.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of h){g.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next(p=>({Rs:p,removedBatchIds:d,addedBatchIds:g}))})})}function mS(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,y,p,T){const R=p.batch,E=R.keys();let A=et.resolve();return E.forEach(I=>{A=A.next(()=>T.getEntry(y,I)).next(M=>{const j=p.docVersions.get(I);Gt(j!==null),M.version.compareTo(j)<0&&(R.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),T.addEntry(M)))})}),A.next(()=>g.mutationQueue.removeMutationBatch(y,R))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=xt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function v_(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function gS(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((T,R)=>{const E=o.get(R);if(!E)return;g.push(i.Hr.removeMatchingKeys(h,T.removedDocuments,R).next(()=>i.Hr.addMatchingKeys(h,T.addedDocuments,R)));let A=E.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?A=A.withResumeToken(Be.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(T.resumeToken,s)),o=o.insert(R,A),function(M,j,Q){return M.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=hS?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(E,A,T)&&g.push(i.Hr.updateTargetData(h,A))});let y=Ii(),p=xt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(pS(h,d,e.documentUpdates).next(T=>{y=T.Vs,p=T.fs})),!s.isEqual(Et.min())){const T=i.Hr.getLastRemoteSnapshotVersion(h).next(R=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(T)}return et.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,p)).next(()=>y)}).then(h=>(i.Ts=o,h))}function pS(a,e,i){let s=xt(),o=xt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Ii();return i.forEach((g,y)=>{const p=h.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ut(Ed,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{Vs:d,fs:o}})}function yS(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function vS(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,et.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new _r(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Zf(a,e,i){const s=St(a),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Os(d))throw d;ut(Ed,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Ly(a,e,i){const s=St(a);let o=Et.min(),h=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,T){const R=St(y),E=R.Is.get(T);return E!==void 0?et.resolve(R.Ts.get(E)):R.Hr.getTargetData(p,T)}(s,d,ti(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:xt())).next(g=>(_S(s,aA(e),g),{documents:g,gs:h})))}function _S(a,e,i){let s=a.Es.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class zy{constructor(){this.activeTargetIds=hA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ES{constructor(){this.ho=new zy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new zy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="ConnectivityMonitor";class Py{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(By,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ut(By,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Wf(){return Ou===null?Ou=function(){return 268435456+Math.round(2147483648*Math.random())}():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="RestConnection",AS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Gu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=Wf(),g=this.bo(e,i.toUriEncodedString());ut(Of,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,o,h),this.vo(e,g,y,s).then(p=>(ut(Of,`Received RPC '${e}' ${d}: `,p),p),p=>{throw vs(Of,`RPC '${e}' ${d} failed with error: `,p,"url: ",g,"request:",s),p})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ds}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=AS[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class wS extends SS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=Wf();return new Promise((d,g)=>{const y=new Tv;y.setWithCredentials(!0),y.listenOnce(Av.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case xu.NO_ERROR:const T=y.getResponseJson();ut(Ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case xu.TIMEOUT:ut(Ge,`RPC '${e}' ${h} timed out`),g(new gt(it.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:const R=y.getStatus();if(ut(Ge,`RPC '${e}' ${h} failed with status:`,R,"response text:",y.getResponseText()),R>0){let E=y.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const I=function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Q)>=0?Q:it.UNKNOWN}(A.status);g(new gt(I,A.message))}else g(new gt(it.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new gt(it.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{ut(Ge,`RPC '${e}' ${h} completed.`)}});const p=JSON.stringify(o);ut(Ge,`RPC '${e}' ${h} sending request:`,o),y.send(i,"POST",p,s,15)})}Wo(e,i,s){const o=Wf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=wv(),g=bv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=h.join("");ut(Ge,`Creating RPC '${e}' stream ${o}: ${T}`,y);const R=d.createWebChannel(T,y);let E=!1,A=!1;const I=new bS({Fo:j=>{A?ut(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(E||(ut(Ge,`Opening RPC '${e}' stream ${o} transport.`),R.open(),E=!0),ut(Ge,`RPC '${e}' stream ${o} sending:`,j),R.send(j))},Mo:()=>R.close()}),M=(j,Q,Y)=>{j.listen(Q,z=>{try{Y(z)}catch(W){setTimeout(()=>{throw W},0)}})};return M(R,Ll.EventType.OPEN,()=>{A||(ut(Ge,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),M(R,Ll.EventType.CLOSE,()=>{A||(A=!0,ut(Ge,`RPC '${e}' stream ${o} transport closed`),I.Uo())}),M(R,Ll.EventType.ERROR,j=>{A||(A=!0,vs(Ge,`RPC '${e}' stream ${o} transport errored:`,j),I.Uo(new gt(it.UNAVAILABLE,"The operation could not be completed")))}),M(R,Ll.EventType.MESSAGE,j=>{var Q;if(!A){const Y=j.data[0];Gt(!!Y);const z=Y,W=(z==null?void 0:z.error)||((Q=z[0])===null||Q===void 0?void 0:Q.error);if(W){ut(Ge,`RPC '${e}' stream ${o} received error:`,W);const Z=W.status;let tt=function(w){const x=pe[w];if(x!==void 0)return a_(x)}(Z),C=W.message;tt===void 0&&(tt=it.INTERNAL,C="Unknown error status: "+Z+" with message "+W.message),A=!0,I.Uo(new gt(tt,C)),R.close()}else ut(Ge,`RPC '${e}' stream ${o} received:`,Y),I.Ko(Y)}}),M(g,Sv.STAT_EVENT,j=>{j.stat===Bf.PROXY?ut(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Bf.NOPROXY&&ut(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(a){return new OA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="PersistentStream";class E_{constructor(e,i,s,o,h,d,g,y){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new __(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new gt(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ut(qy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ut(qy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RS extends E_{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=VA(this.serializer,e),s=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ni(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=$f(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=Ff(y)?{documents:UA(h,y)}:{query:kA(h,y).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=o_(h,d.resumeToken);const p=Qf(h,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=$u(h,d.snapshotVersion.toTimestamp());const p=Qf(h,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const s=LA(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=$f(this.serializer),i.removeTarget=e,this.I_(i)}}class DS extends E_{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=IA(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=$f(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>MA(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{}class OS extends CS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Yf(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new gt(it.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Yf(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new gt(it.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class NS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):ut("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class xS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ea(this)&&(ut(va,"Restarting streams for network reachability change."),await async function(y){const p=St(y);p.W_.add(4),await eo(p),p.j_.set("Unknown"),p.W_.delete(4),await hc(p)}(this))})}),this.j_=new NS(s,o)}}async function hc(a){if(Ea(a))for(const e of a.G_)await e(!0)}async function eo(a){for(const e of a.G_)await e(!1)}function T_(a,e){const i=St(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),bd(i)?Sd(i):Ns(i).c_()&&Ad(i,e))}function Td(a,e){const i=St(a),s=Ns(i);i.K_.delete(e),s.c_()&&A_(i,e),i.K_.size===0&&(s.c_()?s.P_():Ea(i)&&i.j_.set("Unknown"))}function Ad(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(a).y_(e)}function A_(a,e){a.H_.Ne(e),Ns(a).w_(e)}function Sd(a){a.H_=new wA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Ns(a).start(),a.j_.B_()}function bd(a){return Ea(a)&&!Ns(a).u_()&&a.K_.size>0}function Ea(a){return St(a).W_.size===0}function S_(a){a.H_=void 0}async function VS(a){a.j_.set("Online")}async function MS(a){a.K_.forEach((e,i)=>{Ad(a,e)})}async function IS(a,e){S_(a),bd(a)?(a.j_.q_(e),Sd(a)):a.j_.set("Unknown")}async function US(a,e,i){if(a.j_.set("Online"),e instanceof l_&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(a,e)}catch(s){ut(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wu(a,s)}else if(e instanceof Uu?a.H_.We(e):e instanceof s_?a.H_.Ze(e):a.H_.je(e),!i.isEqual(Et.min()))try{const s=await v_(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=h.K_.get(p);T&&h.K_.set(p,T.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const T=h.K_.get(y);if(!T)return;h.K_.set(y,T.withResumeToken(Be.EMPTY_BYTE_STRING,T.snapshotVersion)),A_(h,y);const R=new _r(T.target,y,p,T.sequenceNumber);Ad(h,R)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ut(va,"Failed to raise snapshot:",s),await Wu(a,s)}}async function Wu(a,e,i){if(!Os(e))throw e;a.W_.add(1),await eo(a),a.j_.set("Offline"),i||(i=()=>v_(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ut(va,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await hc(a)})}function b_(a,e){return e().catch(i=>Wu(a,i,e))}async function fc(a){const e=St(a),i=Nr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:od;for(;kS(e);)try{const o=await yS(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,jS(e,o)}catch(o){await Wu(e,o)}w_(e)&&R_(e)}function kS(a){return Ea(a)&&a.U_.length<10}function jS(a,e){a.U_.push(e);const i=Nr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function w_(a){return Ea(a)&&!Nr(a).u_()&&a.U_.length>0}function R_(a){Nr(a).start()}async function LS(a){Nr(a).C_()}async function zS(a){const e=Nr(a);for(const i of a.U_)e.b_(i.mutations)}async function BS(a,e,i){const s=a.U_.shift(),o=md.from(s,e,i);await b_(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await fc(a)}async function PS(a,e){e&&Nr(a).S_&&await async function(s,o){if(function(d){return SA(d)&&d!==it.ABORTED}(o.code)){const h=s.U_.shift();Nr(s).h_(),await b_(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await fc(s)}}(a,e),w_(a)&&R_(a)}async function Hy(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ut(va,"RemoteStore received new credentials");const s=Ea(i);i.W_.add(3),await eo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await hc(i)}async function qS(a,e){const i=St(a);e?(i.W_.delete(2),await hc(i)):e||(i.W_.add(2),await eo(i),i.j_.set("Unknown"))}function Ns(a){return a.J_||(a.J_=function(i,s,o){const h=St(i);return h.M_(),new RS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:VS.bind(null,a),No:MS.bind(null,a),Lo:IS.bind(null,a),p_:US.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),bd(a)?Sd(a):a.j_.set("Unknown")):(await a.J_.stop(),S_(a))})),a.J_}function Nr(a){return a.Y_||(a.Y_=function(i,s,o){const h=St(i);return h.M_(),new DS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:LS.bind(null,a),Lo:PS.bind(null,a),D_:zS.bind(null,a),v_:BS.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await fc(a)):(await a.Y_.stop(),a.U_.length>0&&(ut(va,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new wd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rd(a,e){if(Mi("AsyncQueue",`${e}: ${a}`),Os(a))return new gt(it.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=zl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Z_=new re(pt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ss{constructor(e,i,s,o,h,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ss(e,i,ys.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class GS{constructor(){this.queries=Fy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=St(i),h=o.queries;o.queries=Fy(),h.forEach((d,g)=>{for(const y of g.ta)y.onError(s)})})(this,new gt(it.ABORTED,"Firestore shutting down"))}}function Fy(){return new _a(a=>Xv(a),ac)}async function FS(a,e){const i=St(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new HS,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Rd(d,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Dd(i)}async function XS(a,e){const i=St(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function QS(a,e){const i=St(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&Dd(i)}function YS(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function Dd(a){a.ia.forEach(e=>{e.next()})}var Jf,Xy;(Xy=Jf||(Jf={}))._a="default",Xy.Cache="cache";class KS{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ss(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this.key=e}}class C_{constructor(e){this.key=e}}class $S{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xt(),this.mutatedKeys=xt(),this.ya=Qv(e),this.wa=new ys(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Gy,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,R)=>{const E=o.get(T),A=sc(this.query,R)?R:null,I=!!E&&this.mutatedKeys.has(E.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;E&&A?E.data.isEqual(A.data)?I!==M&&(s.track({type:3,doc:A}),j=!0):this.va(E,A)||(s.track({type:2,doc:A}),j=!0,(y&&this.ya(A,y)>0||p&&this.ya(A,p)<0)&&(g=!0)):!E&&A?(s.track({type:0,doc:A}),j=!0):E&&!A&&(s.track({type:1,doc:E}),j=!0,(y||p)&&(g=!0)),j&&(A?(d=d.add(A),h=M?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,R)=>function(A,I){const M=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return M(A)-M(I)}(T.type,R.type)||this.ya(T.doc,R.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],y=this.pa.size===0&&this.current&&!o?1:0,p=y!==this.ga;return this.ga=y,d.length!==0||p?{snapshot:new Ss(this.query,e.wa,h,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Gy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=xt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new C_(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new D_(s))}),i}Oa(e){this.fa=e.gs,this.pa=xt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ss.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cd="SyncEngine";class ZS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class WS{constructor(e){this.key=e,this.Ba=!1}}class JS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new _a(g=>Xv(g),ac),this.qa=new Map,this.Qa=new Set,this.$a=new re(pt.comparator),this.Ua=new Map,this.Ka=new yd,this.Wa={},this.Ga=new Map,this.za=As.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tb(a,e,i=!0){const s=I_(a);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await O_(s,e,i,!0),o}async function eb(a,e){const i=I_(a);await O_(i,e,!0,!1)}async function O_(a,e,i,s){const o=await vS(a.localStore,ti(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await nb(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&T_(a.remoteStore,o),g}async function nb(a,e,i,s,o){a.Ha=(R,E,A)=>async function(M,j,Q,Y){let z=j.view.ba(Q);z.ls&&(z=await Ly(M.localStore,j.query,!1).then(({documents:C})=>j.view.ba(C,z)));const W=Y&&Y.targetChanges.get(j.targetId),Z=Y&&Y.targetMismatches.get(j.targetId)!=null,tt=j.view.applyChanges(z,M.isPrimaryClient,W,Z);return Yy(M,j.targetId,tt.Ma),tt.snapshot}(a,R,E,A);const h=await Ly(a.localStore,e,!0),d=new $S(e,h.gs),g=d.ba(h.documents),y=to.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),p=d.applyChanges(g,a.isPrimaryClient,y);Yy(a,i,p.Ma);const T=new ZS(e,i,d);return a.ka.set(e,T),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),p.snapshot}async function ib(a,e,i){const s=St(a),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!ac(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Td(s.remoteStore,o.targetId),td(s,o.targetId)}).catch(Cs)):(td(s,o.targetId),await Zf(s.localStore,o.targetId,!0))}async function rb(a,e){const i=St(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Td(i.remoteStore,s.targetId))}async function ab(a,e,i){const s=fb(a);try{const o=await function(d,g){const y=St(d),p=be.now(),T=g.reduce((A,I)=>A.add(I.key),xt());let R,E;return y.persistence.runTransaction("Locally write mutations","readwrite",A=>{let I=Ii(),M=xt();return y.ds.getEntries(A,T).next(j=>{I=j,I.forEach((Q,Y)=>{Y.isValidDocument()||(M=M.add(Q))})}).next(()=>y.localDocuments.getOverlayedDocuments(A,I)).next(j=>{R=j;const Q=[];for(const Y of g){const z=vA(Y,R.get(Y.key).overlayedDocument);z!=null&&Q.push(new Mr(Y.key,z,Lv(z.value.mapValue),ei.exists(!0)))}return y.mutationQueue.addMutationBatch(A,p,Q,g)}).next(j=>{E=j;const Q=j.applyToLocalDocumentSet(R,M);return y.documentOverlayCache.saveOverlays(A,j.batchId,Q)})}).then(()=>({batchId:E.batchId,changes:Kv(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.Wa[d.currentUser.toKey()];p||(p=new re(Dt)),p=p.insert(g,y),d.Wa[d.currentUser.toKey()]=p}(s,o.batchId,i),await no(s,o.changes),await fc(s.remoteStore)}catch(o){const h=Rd(o,"Failed to persist write");i.reject(h)}}async function N_(a,e){const i=St(a);try{const s=await gS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await no(i,s,e)}catch(s){await Cs(s)}}function Qy(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=St(d);y.onlineState=g;let p=!1;y.queries.forEach((T,R)=>{for(const E of R.ta)E.sa(g)&&(p=!0)}),p&&Dd(y)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sb(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),h=o&&o.key;if(h){let d=new re(pt.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const g=xt().add(h),y=new uc(Et.min(),new Map,new re(Dt),d,g);await N_(s,y),s.$a=s.$a.remove(h),s.Ua.delete(e),Od(s)}else await Zf(s.localStore,e,!1).then(()=>td(s,e,i)).catch(Cs)}async function lb(a,e){const i=St(a),s=e.batch.batchId;try{const o=await mS(i.localStore,e);V_(i,s,null),x_(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await no(i,o)}catch(o){await Cs(o)}}async function ob(a,e,i){const s=St(a);try{const o=await function(d,g){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let T;return y.mutationQueue.lookupMutationBatch(p,g).next(R=>(Gt(R!==null),T=R.keys(),y.mutationQueue.removeMutationBatch(p,R))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T)).next(()=>y.localDocuments.getDocuments(p,T))})}(s.localStore,e);V_(s,e,i),x_(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await no(s,o)}catch(o){await Cs(o)}}function x_(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function V_(a,e,i){const s=St(a);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function td(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||M_(a,s)})}function M_(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(Td(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),Od(a))}function Yy(a,e,i){for(const s of i)s instanceof D_?(a.Ka.addReference(s.key,e),ub(a,s)):s instanceof C_?(ut(Cd,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||M_(a,s.key)):_t()}function ub(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ut(Cd,"New document in limbo: "+i),a.Qa.add(s),Od(a))}function Od(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new pt(Wt.fromString(e)),s=a.za.next();a.Ua.set(s,new WS(i)),a.$a=a.$a.insert(i,s),T_(a.remoteStore,new _r(ti(Fv(i.path)),s,"TargetPurposeLimboResolution",ec.ae))}}async function no(a,e,i){const s=St(a),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,y)=>{d.push(s.Ha(y,e,i).then(p=>{var T;if((p||i)&&s.isPrimaryClient){const R=p?!p.fromCache:(T=i==null?void 0:i.targetChanges.get(y.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(p){o.push(p);const R=_d.Yi(y.targetId,p);h.push(R)}}))}),await Promise.all(d),s.La.p_(o),await async function(y,p){const T=St(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>et.forEach(p,E=>et.forEach(E.Hi,A=>T.persistence.referenceDelegate.addReference(R,E.targetId,A)).next(()=>et.forEach(E.Ji,A=>T.persistence.referenceDelegate.removeReference(R,E.targetId,A)))))}catch(R){if(!Os(R))throw R;ut(Ed,"Failed to update sequence numbers: "+R)}for(const R of p){const E=R.targetId;if(!R.fromCache){const A=T.Ts.get(E),I=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(I);T.Ts=T.Ts.insert(E,M)}}}(s.localStore,h))}async function cb(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ut(Cd,"User change. New user:",e.toKey());const s=await y_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(y=>{y.reject(new gt(it.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await no(i,s.Rs)}}function hb(a,e){const i=St(a),s=i.Ua.get(e);if(s&&s.Ba)return xt().add(s.key);{let o=xt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function I_(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=N_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sb.bind(null,e),e.La.p_=QS.bind(null,e.eventManager),e.La.Ja=YS.bind(null,e.eventManager),e}function fb(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ob.bind(null,e),e}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return dS(this.persistence,new cS,e.initialUser,this.serializer)}Xa(e){return new p_(vd.ri,this.serializer)}Za(e){return new ES}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class db extends Ju{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof Zu);const s=this.persistence.referenceDelegate.garbageCollector;return new KA(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new p_(s=>Zu.ri(s,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Qy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cb.bind(null,this.syncEngine),await qS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GS}()}createDatastore(e){const i=cc(e.databaseInfo.databaseId),s=function(h){return new wS(h)}(e.databaseInfo);return function(h,d,g,y){return new OS(h,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new xS(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Qy(this.syncEngine,i,0),function(){return Py.D()?new Py:new TS}())}createSyncEngine(e,i){return function(o,h,d,g,y,p,T){const R=new JS(o,h,d,g,y,p);return T&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=St(o);ut(va,"RemoteStore shutting down."),h.W_.add(5),await eo(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class gb{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{ut(xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ut(xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Rd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function xf(a,e){a.asyncQueue.verifyOperationInProgress(),ut(xr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await y_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function Ky(a,e){a.asyncQueue.verifyOperationInProgress();const i=await pb(a);ut(xr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Hy(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>Hy(e.remoteStore,o)),a._onlineComponents=e}async function pb(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(xr,"Using user provided OfflineComponentProvider");try{await xf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;vs("Error using user provided cache. Falling back to memory cache: "+i),await xf(a,new Ju)}}else ut(xr,"Using default OfflineComponentProvider"),await xf(a,new db(void 0));return a._offlineComponents}async function U_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(xr,"Using user provided OnlineComponentProvider"),await Ky(a,a._uninitializedComponentsProvider._online)):(ut(xr,"Using default OnlineComponentProvider"),await Ky(a,new ed))),a._onlineComponents}function yb(a){return U_(a).then(e=>e.syncEngine)}async function vb(a){const e=await U_(a),i=e.eventManager;return i.onListen=tb.bind(null,e.syncEngine),i.onUnlisten=ib.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=eb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=rb.bind(null,e.syncEngine),i}function _b(a,e,i={}){const s=new Sr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,y,p){const T=new mb({next:E=>{T.su(),d.enqueueAndForget(()=>XS(h,R)),E.fromCache&&y.source==="server"?p.reject(new gt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),R=new KS(g,T,{includeMetadataChanges:!0,Ta:!0});return FS(h,R)}(await vb(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(a,e,i){if(!i)throw new gt(it.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Eb(a,e,i,s){if(e===!0&&s===!0)throw new gt(it.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Zy(a){if(!pt.isDocumentKey(a))throw new gt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Wy(a){if(pt.isDocumentKey(a))throw new gt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Nd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t()}function bs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new gt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nd(a);throw new gt(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="firestore.googleapis.com",Jy=!0;class tv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new gt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L_,this.ssl=Jy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Jy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QA)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Eb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new gt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ST;switch(s.type){case"firstParty":return new DT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=$y.get(i);s&&(ut("ComponentProvider","Removing Datastore"),$y.delete(i),s.terminate())}(this),Promise.resolve()}}function Tb(a,e,i,s={}){var o;const h=(a=bs(a,dc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==L_&&h.host!==g&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!Bu(y,d)&&(a._setSettings(y),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=Fe.MOCK_USER;else{p=n1(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new gt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Fe(R)}a._authCredentials=new bT(new Rv(p,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mc(this.firestore,e,this._query)}}class Nn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class br extends mc{constructor(e,i,s){super(e,i,Fv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new pt(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function z_(a,e,...i){if(a=wr(a),j_("collection","path",e),a instanceof dc){const s=Wt.fromString(e,...i);return Wy(s),new br(a,null,s)}{if(!(a instanceof Nn||a instanceof br))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Wy(s),new br(a.firestore,null,s)}}function B_(a,e,...i){if(a=wr(a),arguments.length===1&&(e=Cv.newId()),j_("doc","path",e),a instanceof dc){const s=Wt.fromString(e,...i);return Zy(s),new Nn(a,null,new pt(s))}{if(!(a instanceof Nn||a instanceof br))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Zy(s),new Nn(a.firestore,a instanceof br?a.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="AsyncQueue";class nv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new __(this,"async_queue_retry"),this.Su=()=>{const s=Nf();s&&ut(ev,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Nf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Nf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Sr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Os(e))throw e;ut(ev,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Mi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=wd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class gc extends dc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new nv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nv(e),this._firestoreClient=void 0,await e}}}function Ab(a,e){const i=typeof a=="object"?a:fT(),s=typeof a=="string"?a:Gu,o=lT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=t1("firestore");h&&Tb(o,...h)}return o}function P_(a){if(a._terminated)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Sb(a),a._firestoreClient}function Sb(a){var e,i,s;const o=a._freezeSettings(),h=function(g,y,p,T){return new qT(g,y,p,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,k_(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new gb(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(Be.fromBase64String(e))}catch(i){throw new gt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ws(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new gt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new gt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new gt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=/^__.*__$/;class wb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(e,this.data,i,this.fieldTransforms)}}class q_{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function H_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Id{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Id(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(H_(this.Lu)&&bb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Rb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||cc(e)}ju(e,i,s,o=!1){return new Id({Lu:e,methodName:i,zu:s,path:ze.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G_(a){const e=a._freezeSettings(),i=cc(a._databaseId);return new Rb(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Db(a,e,i,s,o,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,o);Ud("Data must be an object, but it was:",d,s);const g=F_(s,d);let y,p;if(h.merge)y=new fn(d.fieldMask),p=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const R of h.mergeFields){const E=nd(e,R,i);if(!d.contains(E))throw new gt(it.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Q_(T,E)||T.push(E)}y=new fn(T),p=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,p=d.fieldTransforms;return new wb(new rn(g),y,p)}class yc extends xd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yc}}function Cb(a,e,i,s){const o=a.ju(1,e,i);Ud("Data must be an object, but it was:",o,s);const h=[],d=rn.empty();Vr(s,(y,p)=>{const T=kd(e,y,i);p=wr(p);const R=o.Uu(T);if(p instanceof yc)h.push(T);else{const E=vc(p,R);E!=null&&(h.push(T),d.set(T,E))}});const g=new fn(h);return new q_(d,g,o.fieldTransforms)}function Ob(a,e,i,s,o,h){const d=a.ju(1,e,i),g=[nd(e,s,i)],y=[o];if(h.length%2!=0)throw new gt(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<h.length;E+=2)g.push(nd(e,h[E])),y.push(h[E+1]);const p=[],T=rn.empty();for(let E=g.length-1;E>=0;--E)if(!Q_(p,g[E])){const A=g[E];let I=y[E];I=wr(I);const M=d.Uu(A);if(I instanceof yc)p.push(A);else{const j=vc(I,M);j!=null&&(p.push(A),T.set(A,j))}}const R=new fn(p);return new q_(T,R,d.fieldTransforms)}function vc(a,e){if(X_(a=wr(a)))return Ud("Unsupported field value:",e,a),F_(a,e);if(a instanceof xd)return function(s,o){if(!H_(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let y=vc(g,o.Ku(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=wr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=be.fromDate(s);return{timestampValue:$u(o.serializer,h)}}if(s instanceof be){const h=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$u(o.serializer,h)}}if(s instanceof Vd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ws)return{bytesValue:o_(o.serializer,s._byteString)};if(s instanceof Nn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:pd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Md)return function(d,g){return{mapValue:{fields:{[kv]:{stringValue:jv},[Fu]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.Wu("VectorValues must only contain numeric values.");return dd(g.serializer,p)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Nd(s)}`)}(a,e)}function F_(a,e){const i={};return Nv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(a,(s,o)=>{const h=vc(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function X_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof Vd||a instanceof ws||a instanceof Nn||a instanceof xd||a instanceof Md)}function Ud(a,e,i){if(!X_(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Nd(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function nd(a,e,i){if((e=wr(e))instanceof pc)return e._internalPath;if(typeof e=="string")return kd(a,e);throw tc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Nb=new RegExp("[~\\*/\\[\\]]");function kd(a,e,i){if(e.search(Nb)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new pc(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function tc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new gt(it.INVALID_ARGUMENT,g+a+y)}function Q_(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(K_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xb extends Y_{data(){return super.data()}}function K_(a,e){return typeof e=="string"?kd(a,e):e instanceof pc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new gt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mb{convertValue(e,i="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Vr(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Fu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new Md(h)}convertGeoPoint(e){return new Vd(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=ic(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Gt(m_(s));const o=new Kl(s.get(1),s.get(3)),h=new pt(s.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ub extends Y_{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(K_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ku extends Ub{data(e={}){return super.data(e)}}class kb{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new ku(this._firestore,this._userDataWriter,s.key,s,new Nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new gt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Nu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Nu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:jb(g.type),doc:y,oldIndex:p,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function jb(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class Lb extends Mb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,i)}}function zb(a){a=bs(a,mc);const e=bs(a.firestore,gc),i=P_(e),s=new Lb(e);return Vb(a._query),_b(i,a._query).then(o=>new kb(e,s,a,o))}function Bb(a,e,i,...s){a=bs(a,Nn);const o=bs(a.firestore,gc),h=G_(o);let d;return d=typeof(e=wr(e))=="string"||e instanceof pc?Ob(h,"updateDoc",a._key,e,i,s):Cb(h,"updateDoc",a._key,e),$_(o,[d.toMutation(a._key,ei.exists(!0))])}function Pb(a,e){const i=bs(a.firestore,gc),s=B_(a),o=Ib(a.converter,e);return $_(i,[Db(G_(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function $_(a,e){return function(s,o){const h=new Sr;return s.asyncQueue.enqueueAndForget(async()=>ab(await yb(s),o,h)),h.promise}(P_(a),e)}(function(e,i=!0){(function(o){Ds=o})(hT),qu(new Fl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new gc(new wT(s.getProvider("auth-internal")),new CT(d,s.getProvider("app-check-internal")),function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new gt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(p.options.projectId,T)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ps(oy,uy,e),ps(oy,uy,"esm2017")})();var qb="firebase",Hb="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(qb,Hb,"app");const Gb={apiKey:"AIzaSyB8q0VG33RpBTlCcxm8bwa3rgsilkMowq8",authDomain:"naturaltask-6c6db.firebaseapp.com",projectId:"naturaltask-6c6db",storageBucket:"naturaltask-6c6db.firebasestorage.app",messagingSenderId:"12789069261",appId:"1:12789069261:web:9e63e9b2751b69a4ae4084",measurementId:"G-EF6ECNVKBQ"},Fb=yv(Gb),jd=Ab(Fb);async function Xb(a){const e=z_(jd,"users",a,"tasks");try{const i=await zb(e),s=[];return i.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(i){throw console.error("Error fetching user tasks:",i),i}}const Qb="/assets/christmas-stars-DKo1nKIU.png";function Yb(a){if(typeof chrome>"u"||typeof chrome.alarms>"u"){console.error("Only accessible in Extension.");return}const i={when:new Date(`${a.date}T${a.time}`).getTime()};switch(a.frequency){case"daily":i.periodInMinutes=1440;break;case"weekly":i.periodInMinutes=10080;break;case"weekdays":const s=[1,2,3,4,5],o=new Date(`${a.date}T${a.time}`);s.forEach(h=>{const d=getNextWeekday(o,h),g=`${a.title}-${h}`;chrome.alarms.create(g,{when:d.getTime(),periodInMinutes:1440*7}),chrome.storage.local.set({[g]:a})}),console.log(`Chrome alarms created for weekdays for task '${a.title}'`);return;case"monthly":i.periodInMinutes=43200;break;case"yearly":i.periodInMinutes=525600;break;case"test":i.when=Date.now()+60*1e3;break;case null:break;default:console.error(`Invalid frequency: ${a.frequency}`);return}chrome.alarms.create(a.title,i),chrome.storage.local.set({[a.title]:a}),console.log(`Chrome alarm '${a.title}' created for ${a.date} at ${a.time}`)}function Kb(){return typeof chrome<"u"&&!!chrome.runtime&&!!chrome.runtime.id}function $b({closeWindow:a,initialState:e="idle"}){const i=Kb(),s=Nt.useRef(null),[o,h]=Nt.useState(e),[d,g]=Nt.useState(!1),[y,p]=Nt.useState(0),[T,R]=Nt.useState(0),E=Nt.useRef(null);Nt.useEffect(()=>(o==="voice"?(A(),R(0),E.current=setInterval(()=>{R(z=>z+1)},1e3)):(I(),E.current&&clearInterval(E.current)),()=>{E.current&&clearInterval(E.current)}),[o]),Nt.useEffect(()=>{if(o=="genwait"){const z=setTimeout(()=>{h("postgen")},1e3);return()=>clearTimeout(z)}},[o]);const A=async()=>{try{const z=await navigator.mediaDevices.getUserMedia({audio:!0}),W=new AudioContext,Z=W.createMediaStreamSource(z),tt=W.createAnalyser();tt.fftSize=256,Z.connect(tt),g(!0);const C=new Uint8Array(tt.frequencyBinCount),D=()=>{if(!d)return;tt.getByteFrequencyData(C);const w=C.reduce((U,P)=>U+P,0)/C.length;p(w),document.querySelectorAll(".voice-circle").forEach(U=>{U.style.animationDuration=`${2-w/128}s`}),requestAnimationFrame(D)};D()}catch(z){console.error("Error accessing microphone:",z)}},I=()=>{g(!1)},[M,j]=Nt.useState({title:"",description:null,date:"",time:"",start_date:null,end_date:null,website:null,frequency:"",recurring_until:null,type:"regular"}),Q=async()=>{if(M.title.length!==0){console.log("Task Title:",M.title);try{const z=await fetch("https://naturaltask.onrender.com/generate-json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:M.title})});if(z.ok){const W=await z.json();console.log("Task created:",W),j({title:W.generated_json.task,description:W.generated_json.description,date:W.generated_json.date,time:W.generated_json.time,start_date:W.generated_json.start_date,end_date:W.generated_json.end_date,website:W.generated_json.website,frequency:W.generated_json.frequency,recurring_until:W.generated_json.recurring_until,type:W.generated_json.type}),h("postgen")}else console.error("Failed to create task:",z.statusText)}catch(z){console.error("Error creating task:",z)}}},Y=async()=>{try{var z;await rd().then(Z=>{console.log("User ID on this page:",Z),z=Z});const W=await Pb(z_(jd,"users",z,"tasks"),M);console.log("Task saved with ID:",W.id),console.log("docRef :",W),console.log("Task:",M);try{i&&Yb(M),console.log("Chrome alarm added for task:",M)}catch(Z){console.error("Error adding Chrome alarm for task:",Z)}a()}catch(W){console.error("Error saving task to Firestore:",W)}};return V.jsx(V.Fragment,{children:V.jsxs("div",{className:"add-task",children:[V.jsx("div",{className:"atc-header",children:V.jsx("button",{className:"btn btn--secondary",onClick:a,children:"X"})}),V.jsxs("div",{className:"atc-container-"+o,children:[(o=="idle"||o=="text")&&V.jsxs(V.Fragment,{children:[V.jsxs("p",{className:"atc-example",children:['"',Zb[0],'"']}),V.jsx("textarea",{ref:s,className:`atc-text-input ${M.title?"atc-text-input-nonempty":""}`,placeholder:"Type your task...",value:M.title,onChange:z=>{j({...M,title:z.target.value}),z.target.value.length>0?h("text"):h("idle")}}),V.jsxs("div",{className:"atc-btns",children:[V.jsxs("button",{className:"atc-voice-btn btn",disabled:M.title.length==0,onClick:Q,children:[V.jsx("span",{children:"Go"}),V.jsx("img",{src:Qb,alt:"AI Star",width:20,height:20})]}),V.jsx("span",{children:"OR"}),V.jsx("button",{className:"atc-voice-btn btn",onClick:()=>h("voice"),children:V.jsx(If,{})})]}),o=="idle"&&V.jsxs(V.Fragment,{children:[V.jsx("hr",{}),V.jsx("h4",{children:"OR"}),V.jsx("div",{className:"atc-btns",children:V.jsx("button",{className:"atc-voice-btn btn btn--secondary",children:"Add Manually"})})]})]}),o=="voice"&&V.jsxs("div",{className:"atc-vi-container",children:[V.jsx("div",{className:"atc-vi",children:V.jsxs("div",{className:"atc-vi-mic",children:[V.jsx(If,{style:{zIndex:100}}),V.jsxs("div",{className:"voice-visualizer",children:[V.jsx("div",{className:"voice-circle circle1"}),V.jsx("div",{className:"voice-circle circle2"}),V.jsx("div",{className:"voice-circle circle3"})]}),V.jsx("div",{className:"recording-timer",children:formatTime(T)})]})}),V.jsx("button",{className:"atc-voice-btn btn btn--secondary",onClick:()=>h("genwait"),children:"Done (Space)"})]}),o=="genwait"&&V.jsxs("div",{className:"atc-genwait-container",children:[V.jsx("h4",{children:"Understanding"}),V.jsx("span",{className:"loader"})]}),o=="postgen"&&V.jsxs("div",{className:"atc-postgen-container",children:[V.jsxs("div",{className:"atc-postgen-header",children:[V.jsx("h4",{children:"Your Task."}),V.jsxs("button",{className:"atc-voice-btn btn",onClick:Y,children:[V.jsx("span",{children:"Confirm"}),V.jsx(qE,{})]}),V.jsx("hr",{})]}),V.jsxs("form",{className:"atc-postgen-fields",children:[V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"title",children:"Title"}),V.jsx("input",{type:"text",id:"title",name:"title",value:M.title,onChange:z=>j({...M,title:z.target.value})})]}),V.jsxs("div",{className:"atc-grid",children:[V.jsxs("div",{className:"atc-row",children:[V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"date",children:"Date"}),V.jsx("input",{type:"date",id:"date",name:"date",value:M.date,onChange:z=>j({...M,date:z.target.value})})]}),V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"time",children:"Time"}),V.jsx("input",{type:"time",id:"time",name:"time",value:M.time,onChange:z=>j({...M,time:z.target.value})})]})]}),V.jsxs("div",{className:"atc-row",children:[V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"start_date",children:"Start Date"}),V.jsx("input",{type:"date",id:"start_date",name:"start_date",value:M.start_date||"",onChange:z=>j({...M,start_date:z.target.value})})]}),V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"end_date",children:"End Date"}),V.jsx("input",{type:"date",id:"end_date",name:"end_date",value:M.end_date||"",onChange:z=>j({...M,end_date:z.target.value})})]})]}),V.jsxs("div",{className:"atc-row",children:[V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"frequency",children:"Frequency"}),V.jsx("input",{type:"text",id:"frequency",name:"frequency",value:M.frequency,onChange:z=>j({...M,frequency:z.target.value})})]}),V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"recurring_until",children:"Recurring Until"}),V.jsx("input",{type:"date",id:"recurring_until",name:"recurring_until",value:M.recurring_until||"",onChange:z=>j({...M,recurring_until:z.target.value})})]})]})]}),V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"website",children:"Website"}),V.jsx("input",{type:"text",id:"website",name:"website",value:M.website||"",onChange:z=>j({...M,website:z.target.value})})]}),V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"type",children:"Type"}),V.jsx("input",{type:"text",id:"type",name:"type",value:M.type,onChange:z=>j({...M,type:z.target.value})})]}),V.jsxs("div",{className:"atc-postgen-field",children:[V.jsx("label",{htmlFor:"description",children:"Description"}),V.jsx("textarea",{id:"description",name:"description",value:M.description||"",onChange:z=>j({...M,description:z.target.value})})]})]})]})]})]})})}const Zb=["Automata Theory Class at 8:55am on Mondays, 9:55am on Tuesdays and Thursdays, 10:55am on Wednesdays","Leetcode from 10pm-12am every day.","Prepare for OS Examination coming Saturday."];function gs(a){const[e,i]=Nt.useState("");function s(p){if(p>3&&p<21)return"th";switch(p%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function o(p){if(!p)return"";const T=new Date(p);if(isNaN(T.getTime()))return"Invalid date";const R=T.getDate(),E=s(R),A=T.toLocaleString("en-US",{month:"short"}),I=T.getFullYear(),M=new Date().getFullYear();return I===M?`${R}${E} ${A}`:`${R}${E} ${A} ${I}`}function h(p){let T=p.getHours();const R=p.getMinutes(),E=T>=12?"pm":"am",A=T%12||12;return R>0?`${A}:${R<10?"0"+R:R}${E}`:`${A}${E}`}function d(p){if(!p)return"";let T,R;p.includes("/")?[T,R]=p.split("/"):(T=p,R=null);const E=new Date(T);if(isNaN(E.getTime()))return"Invalid date";const M=Math.floor((E-new Date)/(1e3*60*60*24))<=10,j=M?`${o(T)} | ${h(E)}`:o(T);if(R){const Q=new Date(R);return isNaN(Q.getTime())?"Invalid date":E.toDateString()===Q.toDateString()?M?`${o(T)} | ${h(E)} - ${h(Q)}`:o(T):M?`${j} - ${o(R)} | ${h(Q)}`:`${o(T)} - ${o(R)}`}return j}function g(p){if(!p)return"";const T=p.includes("/")?p.split("/")[0]:p,R=new Date(T);if(isNaN(R.getTime()))return"Invalid date";const A=R-new Date,I=Math.floor(A/(1e3*60)),M=Math.floor(A/(1e3*60*60)),j=Math.floor(A/(1e3*60*60*24)),Q=Math.floor(A/(1e3*60*60*24*30)),Y=Math.floor(A/(1e3*60*60*24*365));if(A<0){const z=Math.abs(I),W=Math.abs(M),Z=Math.abs(j),tt=Math.abs(Q),C=Math.abs(Y);return z<60?`${z} minutes ago`:W<24?`${W} hours ago`:Z<30?`${Z} days ago`:tt<12?`${tt} months ago`:`${C} years ago`}else return I<1?"Happening now":I<60?`In ${I} minutes`:M<24?`In ${M} hours`:j<30?`In ${j} days`:Q<12?`In ${Q} months`:`In ${Y} years`}function y(p){if(!p)return"";const T=p.includes("/")?p.split("/")[0]:p,R=new Date(T);return isNaN(R.getTime())?"Invalid date":h(R)}return Nt.useEffect(()=>{const p=()=>{i(g(a))};p();const T=setInterval(p,6e4);return()=>clearInterval(T)},[a]),{formattedDateTime:d(a),formattedDate:o(a),relativeTime:e,formatDateTime:d,getDifference:g,getTimeOnly:y}}function Vf(a){return{second:a.getSeconds(),minute:a.getMinutes(),hour:a.getHours(),day:a.getDate(),month:a.getMonth(),weekday:a.getDay(),year:a.getFullYear()}}function iv(a,e){return new Date(a,e+1,0).getDate()}function rv(a,e){return a<=e?e-a:6-a+e+1}class Wb{constructor({seconds:e,minutes:i,hours:s,days:o,months:h,weekdays:d}){if(!e||e.size===0)throw new Error("There must be at least one allowed second.");if(!i||i.size===0)throw new Error("There must be at least one allowed minute.");if(!s||s.size===0)throw new Error("There must be at least one allowed hour.");if(!h||h.size===0)throw new Error("There must be at least one allowed month.");if((!d||d.size===0)&&(!o||o.size===0))throw new Error("There must be at least one allowed day or weekday.");this.seconds=Array.from(e).sort((y,p)=>y-p),this.minutes=Array.from(i).sort((y,p)=>y-p),this.hours=Array.from(s).sort((y,p)=>y-p),this.days=Array.from(o).sort((y,p)=>y-p),this.months=Array.from(h).sort((y,p)=>y-p),this.weekdays=Array.from(d).sort((y,p)=>y-p);const g=(y,p,T)=>{if(p.some(R=>typeof R!="number"||R%1!==0||R<T.min||R>T.max))throw new Error(`${y} must only consist of integers which are within the range of ${T.min} and ${T.max}`)};g("seconds",this.seconds,{min:0,max:59}),g("minutes",this.minutes,{min:0,max:59}),g("hours",this.hours,{min:0,max:23}),g("days",this.days,{min:1,max:31}),g("months",this.months,{min:0,max:11}),g("weekdays",this.weekdays,{min:0,max:6}),this.reversed={seconds:this.seconds.map(y=>y).reverse(),minutes:this.minutes.map(y=>y).reverse(),hours:this.hours.map(y=>y).reverse(),days:this.days.map(y=>y).reverse(),months:this.months.map(y=>y).reverse(),weekdays:this.weekdays.map(y=>y).reverse()}}findAllowedHour(e,i){return e==="next"?this.hours.find(s=>s>=i):this.reversed.hours.find(s=>s<=i)}findAllowedMinute(e,i){return e==="next"?this.minutes.find(s=>s>=i):this.reversed.minutes.find(s=>s<=i)}findAllowedSecond(e,i){return e==="next"?this.seconds.find(s=>s>i):this.reversed.seconds.find(s=>s<i)}findAllowedTime(e,i){let s=this.findAllowedHour(e,i.hour);if(s!==void 0)if(s===i.hour){let o=this.findAllowedMinute(e,i.minute);if(o!==void 0)if(o===i.minute){const h=this.findAllowedSecond(e,i.second);if(h!==void 0)return{hour:s,minute:o,second:h};if(o=this.findAllowedMinute(e,e==="next"?i.minute+1:i.minute-1),o!==void 0)return{hour:s,minute:o,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:s,minute:o,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]};if(s=this.findAllowedHour(e,e==="next"?i.hour+1:i.hour-1),s!==void 0)return{hour:s,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:s,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}findAllowedDayInMonth(e,i,s,o){var h,d;if(o<1)throw new Error("startDay must not be smaller than 1.");const g=iv(i,s),y=this.days.length!==31,p=this.weekdays.length!==7;if(!y&&!p)return o>g?e==="next"?void 0:g:o;let T;y&&(T=e==="next"?this.days.find(E=>E>=o):this.reversed.days.find(E=>E<=o),T!==void 0&&T>g&&(T=void 0));let R;if(p){const E=new Date(i,s,o).getDay(),A=e==="next"?(h=this.weekdays.find(I=>I>=E))!==null&&h!==void 0?h:this.weekdays[0]:(d=this.reversed.weekdays.find(I=>I<=E))!==null&&d!==void 0?d:this.reversed.weekdays[0];if(A!==void 0){const I=e==="next"?rv(E,A):rv(A,E);R=e==="next"?o+I:o-I,(R>g||R<1)&&(R=void 0)}}if(T!==void 0&&R!==void 0)return e==="next"?Math.min(T,R):Math.max(T,R);if(T!==void 0)return T;if(R!==void 0)return R}getNextDate(e=new Date){const i=Vf(e);let s=i.year,o=this.months.findIndex(d=>d>=i.month);o===-1&&(o=0,s++);const h=this.months.length*5;for(let d=0;d<h;d++){const g=s+Math.floor((o+d)/this.months.length),y=this.months[(o+d)%this.months.length],p=g===i.year&&y===i.month;let T=this.findAllowedDayInMonth("next",g,y,p?i.day:1),R=p&&T===i.day;if(T!==void 0&&R){const E=this.findAllowedTime("next",i);if(E!==void 0)return new Date(g,y,T,E.hour,E.minute,E.second);T=this.findAllowedDayInMonth("next",g,y,T+1),R=!1}if(T!==void 0&&!R)return new Date(g,y,T,this.hours[0],this.minutes[0],this.seconds[0])}throw new Error("No valid next date was found.")}getNextDates(e,i){const s=[];let o;for(let h=0;h<e;h++)o=this.getNextDate(o??i),s.push(o);return s}*getNextDatesIterator(e,i){let s;for(;;){if(s=this.getNextDate(s??e),i&&i.getTime()<s.getTime())return;yield s}}getPrevDate(e=new Date){const i=Vf(e);let s=i.year,o=this.reversed.months.findIndex(d=>d<=i.month);o===-1&&(o=0,s--);const h=this.reversed.months.length*5;for(let d=0;d<h;d++){const g=s-Math.floor((o+d)/this.reversed.months.length),y=this.reversed.months[(o+d)%this.reversed.months.length],p=g===i.year&&y===i.month;let T=this.findAllowedDayInMonth("prev",g,y,p?i.day:iv(g,y)),R=p&&T===i.day;if(T!==void 0&&R){const E=this.findAllowedTime("prev",i);if(E!==void 0)return new Date(g,y,T,E.hour,E.minute,E.second);T>1&&(T=this.findAllowedDayInMonth("prev",g,y,T-1),R=!1)}if(T!==void 0&&!R)return new Date(g,y,T,this.reversed.hours[0],this.reversed.minutes[0],this.reversed.seconds[0])}throw new Error("No valid previous date was found.")}getPrevDates(e,i){const s=[];let o;for(let h=0;h<e;h++)o=this.getPrevDate(o??i),s.push(o);return s}*getPrevDatesIterator(e,i){let s;for(;;){if(s=this.getPrevDate(s??e),i&&i.getTime()>s.getTime())return;yield s}}matchDate(e){const{second:i,minute:s,hour:o,day:h,month:d,weekday:g}=Vf(e);return this.seconds.indexOf(i)===-1||this.minutes.indexOf(s)===-1||this.hours.indexOf(o)===-1||this.months.indexOf(d)===-1?!1:this.days.length!==31&&this.weekdays.length!==7?this.days.indexOf(h)!==-1||this.weekdays.indexOf(g)!==-1:this.days.indexOf(h)!==-1&&this.weekdays.indexOf(g)!==-1}}const Jb={min:0,max:59},t2={min:0,max:59},e2={min:0,max:23},n2={min:1,max:31},i2={min:1,max:12,aliases:{jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"}},Z_={min:0,max:7,aliases:{mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6",sun:"7"}},r2={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *","@minutely":"* * * * *"};function ma(a,e){const i=new Set;if(a==="*"){for(let T=e.min;T<=e.max;T=T+1)i.add(T);return i}const s=a.split(",");if(s.length>1){for(const T of s){const R=ma(T,e);for(const E of R)i.add(E)}return i}const o=T=>{var R,E;T=(E=(R=e.aliases)===null||R===void 0?void 0:R[T.toLowerCase()])!==null&&E!==void 0?E:T;const A=Number.parseInt(T,10);if(Number.isNaN(A))throw new Error(`Failed to parse ${a}: ${T} is NaN.`);if(A<e.min||A>e.max)throw new Error(`Failed to parse ${a}: ${T} is outside of constraint range of ${e.min} - ${e.max}.`);return A},h=/^(([0-9a-zA-Z]+)-([0-9a-zA-Z]+)|\*)(\/([0-9]+))?$/.exec(a);if(h===null)return i.add(o(a)),i;let d=h[1]==="*"?e.min:o(h[2]);const g=h[1]==="*"?e.max:o(h[3]);if(e===Z_&&d===7&&g!==7&&(d=0),d>g)throw new Error(`Failed to parse ${a}: Invalid range (start: ${d}, end: ${g}).`);const y=h[5];let p=1;if(y!==void 0){if(p=Number.parseInt(y,10),Number.isNaN(p))throw new Error(`Failed to parse step: ${y} is NaN.`);if(p<1)throw new Error(`Failed to parse step: Expected ${y} to be greater than 0.`)}for(let T=d;T<=g;T=T+p)i.add(T);return i}function a2(a){var e;if(typeof a!="string")throw new TypeError("Invalid cron expression: must be of type string.");a=(e=r2[a.toLowerCase()])!==null&&e!==void 0?e:a;const i=a.split(" ").filter(p=>p.length>0);if(i.length<5||i.length>6)throw new Error("Invalid cron expression: expected 5 or 6 elements.");const s=i.length===6?i[0]:"0",o=i.length===6?i[1]:i[0],h=i.length===6?i[2]:i[1],d=i.length===6?i[3]:i[2],g=i.length===6?i[4]:i[3],y=i.length===6?i[5]:i[4];return new Wb({seconds:ma(s,Jb),minutes:ma(o,t2),hours:ma(h,e2),days:ma(d,n2),months:new Set(Array.from(ma(g,i2)).map(p=>p-1)),weekdays:new Set(Array.from(ma(y,Z_)).map(p=>p%7))})}var fa={},av;function s2(){if(av)return fa;av=1;var a=fa&&fa.__assign||function(){return a=Object.assign||function(z){for(var W,Z=1,tt=arguments.length;Z<tt;Z++){W=arguments[Z];for(var C in W)Object.prototype.hasOwnProperty.call(W,C)&&(z[C]=W[C])}return z},a.apply(this,arguments)};Object.defineProperty(fa,"__esModule",{value:!0}),fa.isValidCron=void 0;var e=function(z){return/^\d+$/.test(z)?Number(z):NaN},i=function(z){return z==="*"},s=function(z){return z==="?"},o=function(z,W,Z){return z>=W&&z<=Z},h=function(z,W,Z){var tt=z.split("-");switch(tt.length){case 1:return i(z)||o(e(z),W,Z);case 2:var C=tt.map(function(x){return e(x)}),D=C[0],w=C[1];return D<=w&&o(D,W,Z)&&o(w,W,Z);default:return!1}},d=function(z){return z===void 0||z.search(/[^\d]/)===-1&&e(z)>0},g=function(z,W,Z){if(z.search(/[^\d-,\/*]/)!==-1)return!1;var tt=z.split(",");return tt.every(function(C){var D=C.split("/");if(C.trim().endsWith("/")||D.length>2)return!1;var w=D[0],x=D[1];return h(w,W,Z)&&d(x)})},y=function(z){return g(z,0,59)},p=function(z){return g(z,0,59)},T=function(z){return g(z,0,23)},R=function(z,W){return W&&s(z)||g(z,1,31)},E={jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"},A=function(z,W){if(z.search(/\/[a-zA-Z]/)!==-1)return!1;if(W){var Z=z.toLowerCase().replace(/[a-z]{3}/g,function(tt){return E[tt]===void 0?tt:E[tt]});return g(Z,1,12)}return g(z,1,12)},I={sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"},M=function(z,W,Z,tt){if(Z&&s(z))return!0;if(!Z&&s(z)||z.search(/\/[a-zA-Z]/)!==-1)return!1;if(W){var C=z.toLowerCase().replace(/[a-z]{3}/g,function(D){return I[D]===void 0?D:I[D]});return g(C,0,tt?7:6)}return g(z,0,tt?7:6)},j=function(z,W,Z){return!(Z&&s(z)&&s(W))},Q=function(z){return z.trim().split(/\s+/)},Y={alias:!1,seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!1};return fa.isValidCron=function(z,W){W=a(a({},Y),W);var Z=Q(z);if(Z.length>(W.seconds?6:5)||Z.length<5)return!1;var tt=[];if(Z.length===6){var C=Z.shift();C&&tt.push(y(C))}var D=Z[0],w=Z[1],x=Z[2],U=Z[3],P=Z[4];return tt.push(p(D)),tt.push(T(w)),tt.push(R(x,W.allowBlankDay)),tt.push(A(U,W.alias)),tt.push(M(P,W.alias,W.allowBlankDay,W.allowSevenAsSunday)),tt.push(j(x,P,W.allowBlankDay)),tt.every(Boolean)},fa}s2();var Mf={exports:{}},sv;function l2(){return sv||(sv=1,function(a,e){(function(s,o){a.exports=o()})(globalThis,()=>(()=>{var i={949:(d,g,y)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CronParser=void 0;var p=y(515),T=function(){function R(E,A,I){A===void 0&&(A=!0),I===void 0&&(I=!1),this.expression=E,this.dayOfWeekStartIndexZero=A,this.monthStartIndexZero=I}return R.prototype.parse=function(){var E,A,I=(E=this.expression)!==null&&E!==void 0?E:"";if(I.startsWith("@")){var M=this.parseSpecial(this.expression);A=this.extractParts(M)}else A=this.extractParts(this.expression);return this.normalize(A),this.validate(A),A},R.prototype.parseSpecial=function(E){var A={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@midnight":"0 0 * * *","@hourly":"0 * * * *"},I=A[E];if(!I)throw new Error("Unknown special expression.");return I},R.prototype.extractParts=function(E){if(!this.expression)throw new Error("cron expression is empty");for(var A=E.trim().split(/[ ]+/),I=0;I<A.length;I++)if(A[I].includes(",")){var M=A[I].split(",").map(function(Q){return Q.trim()}).filter(function(Q){return Q!==""}).map(function(Q){return isNaN(Number(Q))?Q:Number(Q)}).filter(function(Q){return Q!==null&&Q!==""});M.length===0&&M.push("*"),M.sort(function(Q,Y){return Q!==null&&Y!==null?Q-Y:0}),A[I]=M.map(function(Q){return Q!==null?Q.toString():""}).join(",")}if(A.length<5)throw new Error("Expression has only ".concat(A.length," part").concat(A.length==1?"":"s",". At least 5 parts are required."));if(A.length==5)A.unshift(""),A.push("");else if(A.length==6){var j=/\d{4}$/.test(A[5])||A[4]=="?"||A[2]=="?";j?A.unshift(""):A.push("")}else if(A.length>7)throw new Error("Expression has ".concat(A.length," parts; too many!"));return A},R.prototype.normalize=function(E){var A=this;if(E[3]=E[3].replace("?","*"),E[5]=E[5].replace("?","*"),E[2]=E[2].replace("?","*"),E[0].indexOf("0/")==0&&(E[0]=E[0].replace("0/","*/")),E[1].indexOf("0/")==0&&(E[1]=E[1].replace("0/","*/")),E[2].indexOf("0/")==0&&(E[2]=E[2].replace("0/","*/")),E[3].indexOf("1/")==0&&(E[3]=E[3].replace("1/","*/")),E[4].indexOf("1/")==0&&(E[4]=E[4].replace("1/","*/")),E[6].indexOf("1/")==0&&(E[6]=E[6].replace("1/","*/")),E[5]=E[5].replace(/(^\d)|([^#/\s]\d)/g,function(Z){var tt=Z.replace(/\D/,""),C=tt;return A.dayOfWeekStartIndexZero?tt=="7"&&(C="0"):C=(parseInt(tt)-1).toString(),Z.replace(tt,C)}),E[5]=="L"&&(E[5]="6"),E[3]=="?"&&(E[3]="*"),E[3].indexOf("W")>-1&&(E[3].indexOf(",")>-1||E[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var I={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var M in I)E[5]=E[5].replace(new RegExp(M,"gi"),I[M].toString());E[4]=E[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(Z){var tt=Z.replace(/\D/,""),C=tt;return A.monthStartIndexZero&&(C=(parseInt(tt)+1).toString()),Z.replace(tt,C)});var j={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var Q in j)E[4]=E[4].replace(new RegExp(Q,"gi"),j[Q].toString());E[0]=="0"&&(E[0]=""),!/\*|\-|\,|\//.test(E[2])&&(/\*|\//.test(E[1])||/\*|\//.test(E[0]))&&(E[2]+="-".concat(E[2]));for(var Y=0;Y<E.length;Y++)if(E[Y].indexOf(",")!=-1&&(E[Y]=E[Y].split(",").filter(function(Z){return Z!==""}).join(",")||"*"),E[Y]=="*/1"&&(E[Y]="*"),E[Y].indexOf("/")>-1&&!/^\*|\-|\,/.test(E[Y])){var z=null;switch(Y){case 4:z="12";break;case 5:z="6";break;case 6:z="9999";break;default:z=null;break}if(z!==null){var W=E[Y].split("/");E[Y]="".concat(W[0],"-").concat(z,"/").concat(W[1])}}},R.prototype.validate=function(E){var A="0-9,\\-*/";this.validateOnlyExpectedCharactersFound(E[0],A),this.validateOnlyExpectedCharactersFound(E[1],A),this.validateOnlyExpectedCharactersFound(E[2],A),this.validateOnlyExpectedCharactersFound(E[3],"0-9,\\-*/LW"),this.validateOnlyExpectedCharactersFound(E[4],A),this.validateOnlyExpectedCharactersFound(E[5],"0-9,\\-*/L#"),this.validateOnlyExpectedCharactersFound(E[6],A),this.validateAnyRanges(E)},R.prototype.validateAnyRanges=function(E){p.default.secondRange(E[0]),p.default.minuteRange(E[1]),p.default.hourRange(E[2]),p.default.dayOfMonthRange(E[3]),p.default.monthRange(E[4],this.monthStartIndexZero),p.default.dayOfWeekRange(E[5],this.dayOfWeekStartIndexZero)},R.prototype.validateOnlyExpectedCharactersFound=function(E,A){var I=E.match(new RegExp("[^".concat(A,"]+"),"gi"));if(I&&I.length)throw new Error("Expression contains invalid values: '".concat(I.toString(),"'"))},R}();g.CronParser=T},333:(d,g,y)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.ExpressionDescriptor=void 0;var p=y(823),T=y(949),R=function(){function E(A,I){if(this.expression=A,this.options=I,this.expressionParts=new Array(5),!this.options.locale&&E.defaultLocale&&(this.options.locale=E.defaultLocale),!E.locales[this.options.locale]){var M=Object.keys(E.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(M,"'.")),this.options.locale=M}this.i18n=E.locales[this.options.locale],I.use24HourTimeFormat===void 0&&(I.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return E.toString=function(A,I){var M=I===void 0?{}:I,j=M.throwExceptionOnParseError,Q=j===void 0?!0:j,Y=M.verbose,z=Y===void 0?!1:Y,W=M.dayOfWeekStartIndexZero,Z=W===void 0?!0:W,tt=M.monthStartIndexZero,C=tt===void 0?!1:tt,D=M.use24HourTimeFormat,w=M.locale,x=w===void 0?null:w,U=M.tzOffset,P=U===void 0?0:U,N={throwExceptionOnParseError:Q,verbose:z,dayOfWeekStartIndexZero:Z,monthStartIndexZero:C,use24HourTimeFormat:D,locale:x,tzOffset:P};N.tzOffset&&console.warn("'tzOffset' option has been deprecated and will be removed in a future release.");var Xt=new E(A,N);return Xt.getFullDescription()},E.initialize=function(A,I){I===void 0&&(I="en"),E.specialCharacters=["/","-",",","*"],E.defaultLocale=I,A.load(E.locales)},E.prototype.getFullDescription=function(){var A="";try{var I=new T.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=I.parse();var M=this.getTimeOfDayDescription(),j=this.getDayOfMonthDescription(),Q=this.getMonthDescription(),Y=this.getDayOfWeekDescription(),z=this.getYearDescription();A+=M+j+Y+Q+z,A=this.transformVerbosity(A,!!this.options.verbose),A=A.charAt(0).toLocaleUpperCase()+A.substr(1)}catch(W){if(!this.options.throwExceptionOnParseError)A=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(W)}return A},E.prototype.getTimeOfDayDescription=function(){var A=this.expressionParts[0],I=this.expressionParts[1],M=this.expressionParts[2],j="";if(!p.StringUtilities.containsAny(I,E.specialCharacters)&&!p.StringUtilities.containsAny(M,E.specialCharacters)&&!p.StringUtilities.containsAny(A,E.specialCharacters))j+=this.i18n.atSpace()+this.formatTime(M,I,A);else if(!A&&I.indexOf("-")>-1&&!(I.indexOf(",")>-1)&&!(I.indexOf("/")>-1)&&!p.StringUtilities.containsAny(M,E.specialCharacters)){var Q=I.split("-");j+=p.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(M,Q[0],""),this.formatTime(M,Q[1],""))}else if(!A&&M.indexOf(",")>-1&&M.indexOf("-")==-1&&M.indexOf("/")==-1&&!p.StringUtilities.containsAny(I,E.specialCharacters)){var Y=M.split(",");j+=this.i18n.at();for(var z=0;z<Y.length;z++)j+=" ",j+=this.formatTime(Y[z],I,""),z<Y.length-2&&(j+=","),z==Y.length-2&&(j+=this.i18n.spaceAnd())}else{var W=this.getSecondsDescription(),Z=this.getMinutesDescription(),tt=this.getHoursDescription();if(j+=W,j&&Z&&(j+=", "),j+=Z,Z===tt)return j;j&&tt&&(j+=", "),j+=tt}return j},E.prototype.getSecondsDescription=function(){var A=this,I=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(M){return M},function(M){return p.StringUtilities.format(A.i18n.everyX0Seconds(M),M)},function(M){return A.i18n.secondsX0ThroughX1PastTheMinute()},function(M){return M=="0"?"":parseInt(M)<20?A.i18n.atX0SecondsPastTheMinute(M):A.i18n.atX0SecondsPastTheMinuteGt20()||A.i18n.atX0SecondsPastTheMinute(M)});return I},E.prototype.getMinutesDescription=function(){var A=this,I=this.expressionParts[0],M=this.expressionParts[2],j=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(Q){return Q},function(Q){return p.StringUtilities.format(A.i18n.everyX0Minutes(Q),Q)},function(Q){return A.i18n.minutesX0ThroughX1PastTheHour()},function(Q){try{return Q=="0"&&M.indexOf("/")==-1&&I==""?A.i18n.everyHour():parseInt(Q)<20?A.i18n.atX0MinutesPastTheHour(Q):A.i18n.atX0MinutesPastTheHourGt20()||A.i18n.atX0MinutesPastTheHour(Q)}catch{return A.i18n.atX0MinutesPastTheHour(Q)}});return j},E.prototype.getHoursDescription=function(){var A=this,I=this.expressionParts[2],M=this.getSegmentDescription(I,this.i18n.everyHour(),function(Y){return A.formatTime(Y,"0","")},function(Y){return p.StringUtilities.format(A.i18n.everyX0Hours(Y),Y)},function(Y){return A.i18n.betweenX0AndX1()},function(Y){return A.i18n.atX0()});if(M&&I.includes("-")&&this.expressionParts[1]!="0"){var j=Array.from(M.matchAll(/:00/g));if(j.length>1){var Q=j[j.length-1].index;M=M.substring(0,Q)+":59"+M.substring(Q+3)}}return M},E.prototype.getDayOfWeekDescription=function(){var A=this,I=this.i18n.daysOfTheWeek(),M=null;return this.expressionParts[5]=="*"?M="":M=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(j,Q){var Y=j;j.indexOf("#")>-1?Y=j.substring(0,j.indexOf("#")):j.indexOf("L")>-1&&(Y=Y.replace("L",""));var z=parseInt(Y);if(A.options.tzOffset){var W=A.expressionParts[2],Z=parseInt(W)+(A.options.tzOffset?A.options.tzOffset:0);Z>=24?z++:Z<0&&z--,z>6?z=0:z<0&&(z=6)}var tt=A.i18n.daysOfTheWeekInCase?A.i18n.daysOfTheWeekInCase(Q)[z]:I[z];if(j.indexOf("#")>-1){var C=null,D=j.substring(j.indexOf("#")+1),w=j.substring(0,j.indexOf("#"));switch(D){case"1":C=A.i18n.first(w);break;case"2":C=A.i18n.second(w);break;case"3":C=A.i18n.third(w);break;case"4":C=A.i18n.fourth(w);break;case"5":C=A.i18n.fifth(w);break}tt=C+" "+tt}return tt},function(j){return parseInt(j)==1?"":p.StringUtilities.format(A.i18n.commaEveryX0DaysOfTheWeek(j),j)},function(j){var Q=j.substring(0,j.indexOf("-")),Y=A.expressionParts[3]!="*";return Y?A.i18n.commaAndX0ThroughX1(Q):A.i18n.commaX0ThroughX1(Q)},function(j){var Q=null;if(j.indexOf("#")>-1){var Y=j.substring(j.indexOf("#")+1),z=j.substring(0,j.indexOf("#"));Q=A.i18n.commaOnThe(Y,z).trim()+A.i18n.spaceX0OfTheMonth()}else if(j.indexOf("L")>-1)Q=A.i18n.commaOnTheLastX0OfTheMonth(j.replace("L",""));else{var W=A.expressionParts[3]!="*";Q=W?A.i18n.commaAndOnX0():A.i18n.commaOnlyOnX0(j)}return Q}),M},E.prototype.getMonthDescription=function(){var A=this,I=this.i18n.monthsOfTheYear(),M=this.getSegmentDescription(this.expressionParts[4],"",function(j,Q){return Q&&A.i18n.monthsOfTheYearInCase?A.i18n.monthsOfTheYearInCase(Q)[parseInt(j)-1]:I[parseInt(j)-1]},function(j){return parseInt(j)==1?"":p.StringUtilities.format(A.i18n.commaEveryX0Months(j),j)},function(j){return A.i18n.commaMonthX0ThroughMonthX1()||A.i18n.commaX0ThroughX1()},function(j){return A.i18n.commaOnlyInMonthX0?A.i18n.commaOnlyInMonthX0():A.i18n.commaOnlyInX0()});return M},E.prototype.getDayOfMonthDescription=function(){var A=this,I=null,M=this.expressionParts[3];switch(M){case"L":I=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":I=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var j=M.match(/(\d{1,2}W)|(W\d{1,2})/);if(j){var Q=parseInt(j[0].replace("W","")),Y=Q==1?this.i18n.firstWeekday():p.StringUtilities.format(this.i18n.weekdayNearestDayX0(),Q.toString());I=p.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),Y);break}else{var z=M.match(/L-(\d{1,2})/);if(z){var W=z[1];I=p.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(W),W);break}else{if(M=="*"&&this.expressionParts[5]!="*")return"";I=this.getSegmentDescription(M,this.i18n.commaEveryDay(),function(Z){return Z=="L"?A.i18n.lastDay():A.i18n.dayX0?p.StringUtilities.format(A.i18n.dayX0(),Z):Z},function(Z){return Z=="1"?A.i18n.commaEveryDay():A.i18n.commaEveryX0Days(Z)},function(Z){return A.i18n.commaBetweenDayX0AndX1OfTheMonth(Z)},function(Z){return A.i18n.commaOnDayX0OfTheMonth(Z)})}break}}return I},E.prototype.getYearDescription=function(){var A=this,I=this.getSegmentDescription(this.expressionParts[6],"",function(M){return/^\d+$/.test(M)?new Date(parseInt(M),1).getFullYear().toString():M},function(M){return p.StringUtilities.format(A.i18n.commaEveryX0Years(M),M)},function(M){return A.i18n.commaYearX0ThroughYearX1()||A.i18n.commaX0ThroughX1()},function(M){return A.i18n.commaOnlyInYearX0?A.i18n.commaOnlyInYearX0():A.i18n.commaOnlyInX0()});return I},E.prototype.getSegmentDescription=function(A,I,M,j,Q,Y){var z=null,W=A.indexOf("/")>-1,Z=A.indexOf("-")>-1,tt=A.indexOf(",")>-1;if(!A)z="";else if(A==="*")z=I;else if(!W&&!Z&&!tt)z=p.StringUtilities.format(Y(A),M(A));else if(tt){for(var C=A.split(","),D="",w=0;w<C.length;w++)if(w>0&&C.length>2&&(D+=",",w<C.length-1&&(D+=" ")),w>0&&C.length>1&&(w==C.length-1||C.length==2)&&(D+="".concat(this.i18n.spaceAnd()," ")),C[w].indexOf("/")>-1||C[w].indexOf("-")>-1){var x=C[w].indexOf("-")>-1&&C[w].indexOf("/")==-1,U=this.getSegmentDescription(C[w],I,M,j,x?this.i18n.commaX0ThroughX1:Q,Y);x&&(U=U.replace(", ","")),D+=U}else W?D+=this.getSegmentDescription(C[w],I,M,j,Q,Y):D+=M(C[w]);W?z=D:z=p.StringUtilities.format(Y(A),D)}else if(W){var C=A.split("/");if(z=p.StringUtilities.format(j(C[1]),C[1]),C[0].indexOf("-")>-1){var P=this.generateRangeSegmentDescription(C[0],Q,M);P.indexOf(", ")!=0&&(z+=", "),z+=P}else if(C[0].indexOf("*")==-1){var N=p.StringUtilities.format(Y(C[0]),M(C[0]));N=N.replace(", ",""),z+=p.StringUtilities.format(this.i18n.commaStartingX0(),N)}}else Z&&(z=this.generateRangeSegmentDescription(A,Q,M));return z},E.prototype.generateRangeSegmentDescription=function(A,I,M){var j="",Q=A.split("-"),Y=M(Q[0],1),z=M(Q[1],2),W=I(A);return j+=p.StringUtilities.format(W,Y,z),j},E.prototype.formatTime=function(A,I,M){var j=0,Q=0;this.options.tzOffset&&(j=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),Q=parseFloat((this.options.tzOffset%1).toFixed(2)),Q!=0&&(Q*=60));var Y=parseInt(A)+j,z=parseInt(I)+Q;z>=60?(z-=60,Y+=1):z<0&&(z+=60,Y-=1),Y>=24?Y=Y-24:Y<0&&(Y=24+Y);var W="",Z=!1;this.options.use24HourTimeFormat||(Z=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),W=Z?"".concat(this.getPeriod(Y)," "):" ".concat(this.getPeriod(Y)),Y>12&&(Y-=12),Y===0&&(Y=12));var tt="";return M&&(tt=":".concat(("00"+M).substring(M.length))),"".concat(Z?W:"").concat(("00"+Y.toString()).substring(Y.toString().length),":").concat(("00"+z.toString()).substring(z.toString().length)).concat(tt).concat(Z?"":W)},E.prototype.transformVerbosity=function(A,I){if(!I&&(A=A.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),A=A.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),A=A.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),A=A.replace(/\, ?$/,""),this.i18n.conciseVerbosityReplacements))for(var M=0,j=Object.entries(this.i18n.conciseVerbosityReplacements());M<j.length;M++){var Q=j[M],Y=Q[0],z=Q[1];A=A.replace(new RegExp(Y,"g"),z)}return A},E.prototype.getPeriod=function(A){return A>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},E.locales={},E}();g.ExpressionDescriptor=R},747:(d,g,y)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.enLocaleLoader=void 0;var p=y(486),T=function(){function R(){}return R.prototype.load=function(E){E.en=new p.en},R}();g.enLocaleLoader=T},486:(d,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.en=void 0;var y=function(){function p(){}return p.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},p.prototype.atX0MinutesPastTheHourGt20=function(){return null},p.prototype.commaMonthX0ThroughMonthX1=function(){return null},p.prototype.commaYearX0ThroughYearX1=function(){return null},p.prototype.use24HourTimeFormatByDefault=function(){return!1},p.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occurred when generating the expression description. Check the cron expression syntax."},p.prototype.everyMinute=function(){return"every minute"},p.prototype.everyHour=function(){return"every hour"},p.prototype.atSpace=function(){return"At "},p.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},p.prototype.at=function(){return"At"},p.prototype.spaceAnd=function(){return" and"},p.prototype.everySecond=function(){return"every second"},p.prototype.everyX0Seconds=function(){return"every %s seconds"},p.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},p.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},p.prototype.everyX0Minutes=function(){return"every %s minutes"},p.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},p.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},p.prototype.everyX0Hours=function(){return"every %s hours"},p.prototype.betweenX0AndX1=function(){return"between %s and %s"},p.prototype.atX0=function(){return"at %s"},p.prototype.commaEveryDay=function(){return", every day"},p.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},p.prototype.commaX0ThroughX1=function(){return", %s through %s"},p.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},p.prototype.first=function(){return"first"},p.prototype.second=function(){return"second"},p.prototype.third=function(){return"third"},p.prototype.fourth=function(){return"fourth"},p.prototype.fifth=function(){return"fifth"},p.prototype.commaOnThe=function(){return", on the "},p.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},p.prototype.lastDay=function(){return"the last day"},p.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},p.prototype.commaOnlyOnX0=function(){return", only on %s"},p.prototype.commaAndOnX0=function(){return", and on %s"},p.prototype.commaEveryX0Months=function(){return", every %s months"},p.prototype.commaOnlyInX0=function(){return", only in %s"},p.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},p.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},p.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},p.prototype.firstWeekday=function(){return"first weekday"},p.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},p.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},p.prototype.commaEveryX0Days=function(){return", every %s days"},p.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},p.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},p.prototype.commaEveryHour=function(){return", every hour"},p.prototype.commaEveryX0Years=function(){return", every %s years"},p.prototype.commaStartingX0=function(){return", starting %s"},p.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},p.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},p}();g.en=y},515:(d,g)=>{Object.defineProperty(g,"__esModule",{value:!0});function y(T,R){if(!T)throw new Error(R)}var p=function(){function T(){}return T.secondRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var I=parseInt(E[A],10);y(I>=0&&I<=59,"seconds part must be >= 0 and <= 59")}},T.minuteRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var I=parseInt(E[A],10);y(I>=0&&I<=59,"minutes part must be >= 0 and <= 59")}},T.hourRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var I=parseInt(E[A],10);y(I>=0&&I<=23,"hours part must be >= 0 and <= 23")}},T.dayOfMonthRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var I=parseInt(E[A],10);y(I>=1&&I<=31,"DOM part must be >= 1 and <= 31")}},T.monthRange=function(R,E){for(var A=R.split(","),I=0;I<A.length;I++)if(!isNaN(parseInt(A[I],10))){var M=parseInt(A[I],10);y(M>=1&&M<=12,E?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},T.dayOfWeekRange=function(R,E){for(var A=R.split(","),I=0;I<A.length;I++)if(!isNaN(parseInt(A[I],10))){var M=parseInt(A[I],10);y(M>=0&&M<=6,E?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},T}();g.default=p},823:(d,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.StringUtilities=void 0;var y=function(){function p(){}return p.format=function(T){for(var R=[],E=1;E<arguments.length;E++)R[E-1]=arguments[E];return T.replace(/%s/g,function(A){return R.shift()})},p.containsAny=function(T,R){return R.some(function(E){return T.indexOf(E)>-1})},p}();g.StringUtilities=y}},s={};function o(d){var g=s[d];if(g!==void 0)return g.exports;var y=s[d]={exports:{}};return i[d](y,y.exports,o),y.exports}var h={};return(()=>{var d=h;Object.defineProperty(d,"__esModule",{value:!0}),d.toString=void 0;var g=o(333),y=o(747);g.ExpressionDescriptor.initialize(new y.enLocaleLoader),d.default=g.ExpressionDescriptor;var p=g.ExpressionDescriptor.toString;d.toString=p})(),h})())}(Mf)),Mf.exports}l2();function o2(a,e,i){return a2(a).getNextDates(i,e).map(o=>o.toISOString())}function u2({task:a,clickOnTask:e}){var y,p;const[i,s]=Nt.useState(a.graphic),[o,h]=Nt.useState([]),{relativeTime:d,getTimeOnly:g}=gs(a.dueDate);return Nt.useEffect(()=>{if(a.resource&&!a.resource.local&&a.resource.url){const T=a.resource.url.split("/"),R=T[0]+"//"+T[2];s(R+"/favicon.ico")}},[a]),Nt.useEffect(()=>{if(a.recurring_details){const T=o2(a.recurring_details.cron_rules[0],new Date,3);h(T)}else a.one_time_details&&(console.log(a.one_time_details),h(a.one_time_details.scheduled_datetime))},[a]),V.jsxs("div",{id:"task-card",className:"light",onClick:()=>e(a.title),children:[!((y=a==null?void 0:a.resource)!=null&&y.local)&&V.jsx("img",{src:i,alt:"",className:"tc-graphic"}),((p=a==null?void 0:a.resource)==null?void 0:p.local)&&V.jsx("div",{className:"tc-graphic",children:V.jsx(HE,{className:"tc-graphic"})}),V.jsxs("div",{className:"tc-content",children:[V.jsx("p",{children:V.jsx("b",{children:a.title})}),V.jsx("p",{children:a.description&&String(a.description).substring(0,30)+"..."}),V.jsx("b",{children:V.jsx("p",{children:d})})]}),V.jsx("div",{className:"tc-time",children:V.jsx("p",{children:g(o[0])})})]})}function c2({allTasks:a,closeWindow:e,openTask:i}){const[s,o]=Nt.useState("regular");return V.jsxs("div",{className:"all-tasks",children:[V.jsx("div",{className:"atc-header",children:V.jsx("button",{className:"btn btn--secondary",onClick:e,children:"X"})}),V.jsx("h1",{className:"atc-header-title",children:"All Tasks"}),V.jsxs("div",{className:"atc-header-tabs",children:[V.jsx("p",{className:`atc-header-tab ${s==="regular"?"atc-header-tab-active":""}`,onClick:()=>o("regular"),children:"Recurring"}),V.jsx("p",{className:`atc-header-tab ${s==="one_time"?"atc-header-tab-active":""}`,onClick:()=>o("reminder"),children:"One-Time"}),V.jsx("p",{className:`atc-header-tab ${s==="history"?"atc-header-tab-active":""}`,onClick:()=>o("history"),children:"History"})]}),V.jsx("div",{className:"atc-tasks-container",children:a.map((h,d)=>h.type===s&&V.jsx(u2,{task:h,clickOnTask:g=>{i(g),e()}},d))})]})}function h2(a){return Ui({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"},child:[]}]})(a)}function f2(a){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(a)}function W_(a){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"},child:[]},{tag:"path",attr:{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52z"},child:[]}]})(a)}function d2({task:a}){var y,p,T,R,E,A,I,M,j,Q,Y,z,W,Z,tt,C,D,w,x,U,P,N,Xt,Jt,st,yt,dt,zt,k,rt;const[e,i]=Nt.useState(0),s=gs(((T=(p=(y=a.recurring_details)==null?void 0:y.streak)==null?void 0:p.longest_streak)==null?void 0:T.streak_start)||""),o=gs(((A=(E=(R=a.recurring_details)==null?void 0:R.streak)==null?void 0:E.longest_streak)==null?void 0:A.streak_end)||""),h=gs(((j=(M=(I=a.recurring_details)==null?void 0:I.streak)==null?void 0:M.previous_streak)==null?void 0:j.streak_start)||""),d=gs(((z=(Y=(Q=a.recurring_details)==null?void 0:Q.streak)==null?void 0:Y.previous_streak)==null?void 0:z.streak_end)||""),g=gs(((tt=(Z=(W=a.recurring_details)==null?void 0:W.streak)==null?void 0:Z.current_streak)==null?void 0:tt.streak_start)||"");return Nt.useEffect(()=>{var lt,ot,bt,Tt,te,Vt;const ht=(((bt=(ot=(lt=a.recurring_details)==null?void 0:lt.streak)==null?void 0:ot.current_streak)==null?void 0:bt.count)||0)/(((Vt=(te=(Tt=a.recurring_details)==null?void 0:Tt.streak)==null?void 0:te.longest_streak)==null?void 0:Vt.count)||1);i(ht)},[a]),V.jsxs("div",{className:"tv-streak-card",children:[V.jsxs("div",{className:"tv-streak-info",children:[V.jsx("div",{className:"tv-streak-icon-container",children:V.jsx(W_,{className:"streak-icon"})}),V.jsxs("div",{className:"tv-streak-details",children:[V.jsx("div",{className:"tv-streak-count",children:((w=(D=(C=a.recurring_details)==null?void 0:C.streak)==null?void 0:D.current_streak)==null?void 0:w.count)||0}),V.jsxs("div",{className:"streak-subtitle",children:["Current Streak From",V.jsx("p",{children:g.formattedDateTime||"N/A"})]})]})]}),V.jsx("div",{className:"tv-streak-progress",children:V.jsx("div",{className:"tv-progress-bar",children:V.jsx("div",{className:`tv-progress-fill ${e===1?"tv-streak-longest-effect":""}`,style:{width:`${e*100}%`}})})}),((P=(U=(x=a.recurring_details)==null?void 0:x.streak)==null?void 0:U.longest_streak)==null?void 0:P.count)>0&&V.jsxs("div",{className:"tv-streak-section",children:[V.jsxs("div",{className:"tv-streak-section-top",children:[V.jsx("div",{className:"tv-streak-section-title",children:"Longest Streak"}),V.jsx("div",{className:"tv-streak-section-count",children:((Jt=(Xt=(N=a.recurring_details)==null?void 0:N.streak)==null?void 0:Xt.longest_streak)==null?void 0:Jt.count)||0})]}),V.jsxs("div",{className:"tv-streak-section-date",children:[V.jsx("p",{children:s.formattedDate||"N/A"}),"To",V.jsx("p",{children:o.formattedDate||"N/A"})]})]}),((dt=(yt=(st=a.recurring_details)==null?void 0:st.streak)==null?void 0:yt.previous_streak)==null?void 0:dt.count)>0&&V.jsxs("div",{className:"tv-streak-section",children:[V.jsxs("div",{className:"tv-streak-section-top",children:[V.jsx("div",{className:"tv-streak-section-title",children:"Previous Streak"}),V.jsx("div",{className:"tv-streak-section-count",children:((rt=(k=(zt=a.recurring_details)==null?void 0:zt.streak)==null?void 0:k.previous_streak)==null?void 0:rt.count)||0})]}),V.jsxs("div",{className:"tv-streak-section-date",children:[V.jsx("p",{children:h.formattedDate||"N/A"}),"To",V.jsx("p",{children:d.formattedDate||"N/A"})]})]})]})}async function m2(a,e){try{const i=await rd(),s=B_(jd,"users",i,"tasks",a);await Bb(s,e),console.log("Task successfully updated:",a)}catch(i){console.error("Error updating task:",i)}}function g2(a){if(!a||!a.title||!a.date||!a.time){console.error("Invalid task data. Task must include 'title', 'date', and 'time'.");return}const e=new Date(`${a.date}T${a.time}`).getTime();chrome.alarms.clear(a.title,i=>{i?console.log(`Alarm '${a.title}' cleared successfully.`):console.warn(`Alarm '${a.title}' not found. Proceeding to create a new one.`);const s={when:e};switch(a.frequency){case"daily":s.periodInMinutes=1440;break;case"weekly":s.periodInMinutes=10080;break;case"weekdays":const o=[1,2,3,4,5],h=new Date(`${a.date}T${a.time}`);o.forEach(d=>{const g=getNextWeekday(h,d),y=`${a.title}-${d}`;chrome.alarms.create(y,{when:g.getTime(),periodInMinutes:1440*7}),chrome.storage.local.set({[y]:a})}),console.log(`Chrome alarms created for weekdays for task '${a.title}'`);return;case"monthly":s.periodInMinutes=43200;break;case"yearly":s.periodInMinutes=525600;break;case"test":s.when=Date.now()+60*1e3;break;case null:break;default:console.error(`Invalid frequency: ${a.frequency}`);return}chrome.alarms.create(a.title,s),console.log(`Alarm '${a.title}' scheduled for ${a.date} at ${a.time} with frequency: ${a.frequency||"none"}`),chrome.storage.local.set({[a.title]:a}),console.log(`Task '${a.title}' data restored in local storage.`)})}function p2({task:a,onClose:e}){const[i,s]=Nt.useState(a),[o,h]=Nt.useState(!1),d=R=>{const{name:E,value:A}=R.target;s(I=>({...I,[E]:A}))},g=R=>{const{value:E}=R.target;s(A=>({...A,time:E}))},y=async R=>{R.preventDefault(),console.log("clicked");const E={...i,title:i.title,description:i.description,website:i.website,date:i.date,time:i.time};console.log("clicked"),await m2(i.id,E),console.log("Updated Task:",E),typeof chrome<"u"&&chrome.storage&&chrome.storage.local&&g2(i),h(!1)},p=()=>{i.website&&window.open(i.website,"_blank")},T=()=>{i.id&&typeof chrome<"u"&&chrome.alarms&&chrome.alarms.clear(i.id,R=>{R&&chrome.storage.local.remove(i.id,()=>{console.log(`Alarm ${i.id} deleted`),e()})})};return V.jsxs("div",{className:"tv",children:[V.jsxs("div",{className:"tv-header",children:[V.jsx("button",{className:"btn btn--secondary",onClick:e,children:"X"}),o?V.jsx("button",{className:"btn tv-edit-btn",onClick:y,children:"Save"}):V.jsxs("div",{children:[V.jsx("button",{className:"btn tv-edit-btn",onClick:()=>h(!0),children:"Edit"}),V.jsx("button",{className:"btn tv-delete-btn",onClick:T,children:"Delete"})]})]}),V.jsx("div",{className:"tv-content-header",children:V.jsx("h2",{children:i.title})}),V.jsxs("form",{className:"tv-content",onSubmit:y,children:[V.jsx("p",{children:"MAIN"}),V.jsxs("div",{className:"tv-field",children:[V.jsx("div",{className:"tv-field-header",children:V.jsx("span",{children:"Title"})}),V.jsx("input",{type:"text",name:"title",value:i.title||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]}),V.jsxs("div",{className:"tv-field",children:[V.jsx("div",{className:"tv-field-header",children:V.jsx("span",{children:"Description"})}),V.jsx("textarea",{name:"description",value:i.description||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]}),V.jsxs("div",{className:"tv-field",children:[V.jsx("div",{className:"tv-field-header",children:V.jsx("span",{children:"Scheduled Date"})}),V.jsx("input",{type:"date",name:"date",value:i.date||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]}),V.jsxs("div",{className:"tv-field",children:[V.jsx("div",{className:"tv-field-header",children:V.jsx("span",{children:"Scheduled Time"})}),V.jsx("input",{type:"time",name:"time",value:i.time||"",onChange:g,disabled:!o,className:o?"tv-input-active":""})]}),V.jsx("p",{children:"CUSTOMIZE"}),V.jsxs("div",{className:"tv-field",children:[V.jsx("div",{className:"tv-field-header",children:V.jsx("span",{children:"Website"})}),V.jsx("div",{className:"tv-nested-container",children:V.jsxs("div",{className:"tv-nested-field",children:[V.jsxs("div",{className:"tv-field-header",children:[V.jsx("span",{className:"tv-field-label",children:"URL"}),i.website&&V.jsx("button",{type:"button",className:"tv-link-button",onClick:p,children:V.jsx(f2,{})})]}),V.jsx("input",{type:"text",name:"website",value:i.website||"",onChange:d,disabled:!o,className:o?"tv-input-active":""})]})})]}),V.jsxs("div",{children:[V.jsx("p",{children:"STREAKS"}),V.jsx(d2,{task:i})]})]})]})}const lv=({alarm:a,clickOnTask:e})=>{const i=()=>{e(a.name)};return V.jsx("div",{id:"task-card",className:"light cursor-pointer p-4 rounded shadow hover:bg-gray-200 transition",onClick:i,children:V.jsx("div",{className:"tc-content",children:V.jsxs("div",{className:"bg-gray-100 p-3 rounded shadow flex flex-col space-y-2",children:[V.jsxs("div",{children:[V.jsx("strong",{children:"Task:"})," ",a.name]}),V.jsxs("div",{children:[V.jsx("strong",{children:"Time:"})," ",new Date(a.scheduledTime).toLocaleString()]})]})})})};function y2({task:a,onClick:e}){var o,h,d;const[i,s]=Nt.useState(0);return Nt.useEffect(()=>{var y,p,T,R,E,A;const g=(((T=(p=(y=a.recurring_details)==null?void 0:y.streak)==null?void 0:p.current_streak)==null?void 0:T.count)||0)/(((A=(E=(R=a.recurring_details)==null?void 0:R.streak)==null?void 0:E.longest_streak)==null?void 0:A.count)||1);s(g),console.log(g)},[a]),V.jsxs("div",{className:"streak-card",onClick:e,children:[V.jsxs("span",{className:"streak-label",children:[a.title," ",V.jsx(h2,{})]}),V.jsxs("div",{className:"streak-info",children:[V.jsx("div",{className:"streak-icon-container",children:V.jsx(W_,{className:"streak-icon"})}),V.jsxs("div",{className:"streak-details",children:[V.jsx("div",{className:"streak-count",children:((d=(h=(o=a.recurring_details)==null?void 0:o.streak)==null?void 0:h.current_streak)==null?void 0:d.count)||0}),V.jsx("div",{className:"streak-subtitle",children:"Current Streak"})]})]}),V.jsx("div",{className:"streak-progress",children:V.jsx("div",{className:"progress-bar",children:V.jsx("div",{className:`progress-fill ${i===1?"streak-longest-effect":""}`,style:{width:`${i*100}%`}})})})]})}function v2({tasks:a,onClick:e}){const[i,s]=Nt.useState([]);return Nt.useEffect(()=>{s(a.filter(o=>o.type==="recurring"))},[a]),V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"task-section-header",children:V.jsx("h4",{className:"subtitle",children:"YOUR STREAK"})}),V.jsx("div",{id:"streak-container",children:V.jsx("div",{className:"streak-box-grid",children:i.map(o=>V.jsx(y2,{task:o,onClick:()=>e(o.title)},o.title))})})]})}function _2(){const[a,e]=Nt.useState([]),[i,s]=Nt.useState(null),[o,h]=Nt.useState(!1),[d,g]=Nt.useState(!1),[y,p]=Nt.useState("idle"),[T,R]=Nt.useState([]),[E,A]=Nt.useState({}),[I,M]=Nt.useState([]),[j,Q]=Nt.useState([]);Nt.useEffect(()=>{if(typeof chrome>"u"||typeof chrome.alarms>"u"){console.error("Only accessible in Extension.");return}chrome.alarms.getAll(tt=>{R(tt);const C=tt.map(D=>D.name);chrome.storage.local.get(C,D=>{A(D);const w=new Date,x=tt.filter(P=>{const N=D[P.name];return!N||!N.date?!1:new Date(N.date).toDateString()===w.toDateString()}),U=tt.filter(P=>{const N=D[P.name];if(!N||!N.date)return!1;const Xt=new Date(N.date);return Xt>w&&Xt.toDateString()!==w.toDateString()});M(x),Q(U)})})},[]);const Y=()=>{p("idle"),g(!0)},z=()=>{p("voice"),g(!0)},W=tt=>{console.log("Opening task/alarm:",tt),chrome.storage&&chrome.storage.local?chrome.storage.local.get(tt,C=>{const D=C[tt];console.log("Task of this alarm:",D),s(D)}):a.forEach(C=>{C.title===tt&&(s(C),console.log("selected task:",C))})},Z=async()=>{let tt;await rd().then(D=>{tt=D});const C=await Xb(tt);e(C)};return V.jsxs("div",{id:"home",children:[V.jsxs("section",{className:"new-task-buttons",children:[V.jsxs("button",{className:"btn",onClick:Y,children:[V.jsx(PE,{})," Add"]}),V.jsxs("button",{className:"btn",onClick:z,children:[V.jsx(If,{})," Add w/ Voice"]}),V.jsx("button",{className:"btn btn--secondary",onClick:()=>{h(!0),Z()},children:"All Tasks"})]}),V.jsxs("section",{children:[V.jsxs("div",{className:"task-section-header",children:[V.jsx("h4",{className:"subtitle",children:"Today's Alarms"}),V.jsxs("p",{children:[I.length," tasks"]})]}),V.jsx("div",{id:"today-alarms",style:{marginBottom:"2px"},children:I.length===0?V.jsx("p",{children:"No alarms for today."}):I.map(tt=>V.jsx("div",{style:{marginBottom:"2px"},children:V.jsx(lv,{alarm:tt,clickOnTask:W})},tt.name))})]}),V.jsxs("section",{children:[V.jsxs("div",{className:"task-section-header",children:[V.jsx("h4",{className:"subtitle",children:"Upcoming Alarms"}),V.jsxs("p",{children:[j.length," tasks"]})]}),V.jsx("div",{id:"upcoming-alarms",children:j.length===0?V.jsx("p",{children:"No upcoming alarms."}):j.map(tt=>V.jsx("div",{style:{marginBottom:"2px"},children:V.jsx(lv,{alarm:tt,clickOnTask:W})},tt.name))})]}),V.jsx(v2,{tasks:a,onClick:W}),d&&V.jsx($b,{closeWindow:()=>g(!1),initialState:y}),o&&V.jsx(c2,{allTasks:a,closeWindow:()=>h(!1),openTask:W}),i&&V.jsx(p2,{task:i,onClose:()=>s(null)})]})}function E2(a){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(a)}function T2(a){return Ui({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.839 17.525c-.006.002-.559.186-1.039.186-.265 0-.372-.055-.406-.079-.168-.117-.48-.336.054-1.4l1-1.994c.593-1.184.681-2.329.245-3.225-.356-.733-1.039-1.236-1.92-1.416-.317-.065-.639-.097-.958-.097-1.849 0-3.094 1.08-3.146 1.126-.179.158-.221.42-.102.626.12.206.367.3.595.222.005-.002.559-.187 1.039-.187.263 0 .369.055.402.078.169.118.482.34-.051 1.402l-1 1.995c-.594 1.185-.681 2.33-.245 3.225.356.733 1.038 1.236 1.921 1.416.314.063.636.097.954.097 1.85 0 3.096-1.08 3.148-1.126.179-.157.221-.42.102-.626-.12-.205-.369-.297-.593-.223z"},child:[]},{tag:"circle",attr:{cx:"13",cy:"6.001",r:"2.5"},child:[]}]})(a)}function A2(){return V.jsxs("div",{id:"header",children:[V.jsx("p",{children:"NaturalTask"}),V.jsxs("div",{id:"header-right",children:[V.jsx("button",{className:"header-button",onClick:()=>{},children:V.jsx(E2,{})}),V.jsx("button",{className:"header-button",onClick:()=>{},children:V.jsx(T2,{})})]})]})}function S2(){const[a,e]=Nt.useState(0);return V.jsxs(V.Fragment,{children:[V.jsx(A2,{}),V.jsx(_2,{})]})}ME.createRoot(document.getElementById("root")).render(V.jsx(S2,{}));
