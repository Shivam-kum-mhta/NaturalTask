(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function VE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ef={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function IE(){if(Gp)return jl;Gp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var Fp;function ME(){return Fp||(Fp=1,Ef.exports=IE()),Ef.exports}var x=ME(),Tf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function UE(){if(Xp)return wt;Xp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,I={};function j(k,rt,ht){this.props=k,this.context=rt,this.refs=I,this.updater=ht||A}j.prototype.isReactComponent={},j.prototype.setState=function(k,rt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,rt,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function K(k,rt,ht){this.props=k,this.context=rt,this.refs=I,this.updater=ht||A}var L=K.prototype=new Y;L.constructor=K,M(L,j.prototype),L.isPureReactComponent=!0;var W=Array.isArray,X={H:null,A:null,T:null,S:null},et=Object.prototype.hasOwnProperty;function C(k,rt,ht,lt,ot,bt){return ht=bt.ref,{$$typeof:a,type:k,key:rt,ref:ht!==void 0?ht:null,props:bt}}function D(k,rt){return C(k.type,rt,void 0,void 0,void 0,k.props)}function w(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function V(k){var rt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ht){return rt[ht]})}var U=/\/+/g;function B(k,rt){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):rt.toString(36)}function N(){}function Zt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(rt){k.status==="pending"&&(k.status="fulfilled",k.value=rt)},function(rt){k.status==="pending"&&(k.status="rejected",k.reason=rt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Jt(k,rt,ht,lt,ot){var bt=typeof k;(bt==="undefined"||bt==="boolean")&&(k=null);var Tt=!1;if(k===null)Tt=!0;else switch(bt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(k.$$typeof){case a:case e:Tt=!0;break;case T:return Tt=k._init,Jt(Tt(k._payload),rt,ht,lt,ot)}}if(Tt)return ot=ot(k),Tt=lt===""?"."+B(k,0):lt,W(ot)?(ht="",Tt!=null&&(ht=Tt.replace(U,"$&/")+"/"),Jt(ot,rt,ht,"",function(ae){return ae})):ot!=null&&(w(ot)&&(ot=D(ot,ht+(ot.key==null||k&&k.key===ot.key?"":(""+ot.key).replace(U,"$&/")+"/")+Tt)),rt.push(ot)),1;Tt=0;var te=lt===""?".":lt+":";if(W(k))for(var xt=0;xt<k.length;xt++)lt=k[xt],bt=te+B(lt,xt),Tt+=Jt(lt,rt,ht,bt,ot);else if(xt=E(k),typeof xt=="function")for(k=xt.call(k),xt=0;!(lt=k.next()).done;)lt=lt.value,bt=te+B(lt,xt++),Tt+=Jt(lt,rt,ht,bt,ot);else if(bt==="object"){if(typeof k.then=="function")return Jt(Zt(k),rt,ht,lt,ot);throw rt=String(k),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function st(k,rt,ht){if(k==null)return k;var lt=[],ot=0;return Jt(k,lt,"","",function(bt){return rt.call(ht,bt,ot++)}),lt}function yt(k){if(k._status===-1){var rt=k._result;rt=rt(),rt.then(function(ht){(k._status===0||k._status===-1)&&(k._status=1,k._result=ht)},function(ht){(k._status===0||k._status===-1)&&(k._status=2,k._result=ht)}),k._status===-1&&(k._status=0,k._result=rt)}if(k._status===1)return k._result.default;throw k._result}var dt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function zt(){}return wt.Children={map:st,forEach:function(k,rt,ht){st(k,function(){rt.apply(this,arguments)},ht)},count:function(k){var rt=0;return st(k,function(){rt++}),rt},toArray:function(k){return st(k,function(rt){return rt})||[]},only:function(k){if(!w(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},wt.Component=j,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=K,wt.StrictMode=s,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(k){return function(){return k.apply(null,arguments)}},wt.cloneElement=function(k,rt,ht){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var lt=M({},k.props),ot=k.key,bt=void 0;if(rt!=null)for(Tt in rt.ref!==void 0&&(bt=void 0),rt.key!==void 0&&(ot=""+rt.key),rt)!et.call(rt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&rt.ref===void 0||(lt[Tt]=rt[Tt]);var Tt=arguments.length-2;if(Tt===1)lt.children=ht;else if(1<Tt){for(var te=Array(Tt),xt=0;xt<Tt;xt++)te[xt]=arguments[xt+2];lt.children=te}return C(k.type,ot,void 0,void 0,bt,lt)},wt.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:h,_context:k},k},wt.createElement=function(k,rt,ht){var lt,ot={},bt=null;if(rt!=null)for(lt in rt.key!==void 0&&(bt=""+rt.key),rt)et.call(rt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ot[lt]=rt[lt]);var Tt=arguments.length-2;if(Tt===1)ot.children=ht;else if(1<Tt){for(var te=Array(Tt),xt=0;xt<Tt;xt++)te[xt]=arguments[xt+2];ot.children=te}if(k&&k.defaultProps)for(lt in Tt=k.defaultProps,Tt)ot[lt]===void 0&&(ot[lt]=Tt[lt]);return C(k,bt,void 0,void 0,null,ot)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(k){return{$$typeof:p,render:k}},wt.isValidElement=w,wt.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:yt}},wt.memo=function(k,rt){return{$$typeof:g,type:k,compare:rt===void 0?null:rt}},wt.startTransition=function(k){var rt=X.T,ht={};X.T=ht;try{var lt=k(),ot=X.S;ot!==null&&ot(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(zt,dt)}catch(bt){dt(bt)}finally{X.T=rt}},wt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},wt.use=function(k){return X.H.use(k)},wt.useActionState=function(k,rt,ht){return X.H.useActionState(k,rt,ht)},wt.useCallback=function(k,rt){return X.H.useCallback(k,rt)},wt.useContext=function(k){return X.H.useContext(k)},wt.useDebugValue=function(){},wt.useDeferredValue=function(k,rt){return X.H.useDeferredValue(k,rt)},wt.useEffect=function(k,rt){return X.H.useEffect(k,rt)},wt.useId=function(){return X.H.useId()},wt.useImperativeHandle=function(k,rt,ht){return X.H.useImperativeHandle(k,rt,ht)},wt.useInsertionEffect=function(k,rt){return X.H.useInsertionEffect(k,rt)},wt.useLayoutEffect=function(k,rt){return X.H.useLayoutEffect(k,rt)},wt.useMemo=function(k,rt){return X.H.useMemo(k,rt)},wt.useOptimistic=function(k,rt){return X.H.useOptimistic(k,rt)},wt.useReducer=function(k,rt,ht){return X.H.useReducer(k,rt,ht)},wt.useRef=function(k){return X.H.useRef(k)},wt.useState=function(k){return X.H.useState(k)},wt.useSyncExternalStore=function(k,rt,ht){return X.H.useSyncExternalStore(k,rt,ht)},wt.useTransition=function(){return X.H.useTransition()},wt.version="19.0.0",wt}var Qp;function ad(){return Qp||(Qp=1,Tf.exports=UE()),Tf.exports}var It=ad();const ya=VE(It);var Af={exports:{}},Ll={},Sf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function kE(){return Yp||(Yp=1,function(a){function e(st,yt){var dt=st.length;st.push(yt);t:for(;0<dt;){var zt=dt-1>>>1,k=st[zt];if(0<o(k,yt))st[zt]=yt,st[dt]=k,dt=zt;else break t}}function i(st){return st.length===0?null:st[0]}function s(st){if(st.length===0)return null;var yt=st[0],dt=st.pop();if(dt!==yt){st[0]=dt;t:for(var zt=0,k=st.length,rt=k>>>1;zt<rt;){var ht=2*(zt+1)-1,lt=st[ht],ot=ht+1,bt=st[ot];if(0>o(lt,dt))ot<k&&0>o(bt,lt)?(st[zt]=bt,st[ot]=dt,zt=ot):(st[zt]=lt,st[ht]=dt,zt=ht);else if(ot<k&&0>o(bt,dt))st[zt]=bt,st[ot]=dt,zt=ot;else break t}}return yt}function o(st,yt){var dt=st.sortIndex-yt.sortIndex;return dt!==0?dt:st.id-yt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var y=[],g=[],T=1,R=null,E=3,A=!1,M=!1,I=!1,j=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function L(st){for(var yt=i(g);yt!==null;){if(yt.callback===null)s(g);else if(yt.startTime<=st)s(g),yt.sortIndex=yt.expirationTime,e(y,yt);else break;yt=i(g)}}function W(st){if(I=!1,L(st),!M)if(i(y)!==null)M=!0,Zt();else{var yt=i(g);yt!==null&&Jt(W,yt.startTime-st)}}var X=!1,et=-1,C=5,D=-1;function w(){return!(a.unstable_now()-D<C)}function V(){if(X){var st=a.unstable_now();D=st;var yt=!0;try{t:{M=!1,I&&(I=!1,Y(et),et=-1),A=!0;var dt=E;try{e:{for(L(st),R=i(y);R!==null&&!(R.expirationTime>st&&w());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,E=R.priorityLevel;var k=zt(R.expirationTime<=st);if(st=a.unstable_now(),typeof k=="function"){R.callback=k,L(st),yt=!0;break e}R===i(y)&&s(y),L(st)}else s(y);R=i(y)}if(R!==null)yt=!0;else{var rt=i(g);rt!==null&&Jt(W,rt.startTime-st),yt=!1}}break t}finally{R=null,E=dt,A=!1}yt=void 0}}finally{yt?U():X=!1}}}var U;if(typeof K=="function")U=function(){K(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,N=B.port2;B.port1.onmessage=V,U=function(){N.postMessage(null)}}else U=function(){j(V,0)};function Zt(){X||(X=!0,U())}function Jt(st,yt){et=j(function(){st(a.unstable_now())},yt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(st){st.callback=null},a.unstable_continueExecution=function(){M||A||(M=!0,Zt())},a.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<st?Math.floor(1e3/st):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_getFirstCallbackNode=function(){return i(y)},a.unstable_next=function(st){switch(E){case 1:case 2:case 3:var yt=3;break;default:yt=E}var dt=E;E=yt;try{return st()}finally{E=dt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(st,yt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var dt=E;E=st;try{return yt()}finally{E=dt}},a.unstable_scheduleCallback=function(st,yt,dt){var zt=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,st){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=dt+k,st={id:T++,callback:yt,priorityLevel:st,startTime:dt,expirationTime:k,sortIndex:-1},dt>zt?(st.sortIndex=dt,e(g,st),i(y)===null&&st===i(g)&&(I?(Y(et),et=-1):I=!0,Jt(W,dt-zt))):(st.sortIndex=k,e(y,st),M||A||(M=!0,Zt())),st},a.unstable_shouldYield=w,a.unstable_wrapCallback=function(st){var yt=E;return function(){var dt=E;E=yt;try{return st.apply(this,arguments)}finally{E=dt}}}}(bf)),bf}var Kp;function jE(){return Kp||(Kp=1,Sf.exports=kE()),Sf.exports}var wf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function LE(){if($p)return He;$p=1;var a=ad();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,g,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:g,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return h(y,g,null,T)},He.flushSync=function(y){var g=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=g,s.p=T,s.d.f()}},He.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},He.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},He.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,R=p(T,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:R,integrity:E,fetchPriority:A}):T==="script"&&s.d.X(y,{crossOrigin:R,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},He.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},He.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,R=p(T,g.crossOrigin);s.d.L(y,T,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},He.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},He.requestFormReset=function(y){s.d.r(y)},He.unstable_batchedUpdates=function(y,g){return y(g)},He.useFormState=function(y,g,T){return d.H.useFormState(y,g,T)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Zp;function zE(){if(Zp)return wf.exports;Zp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),wf.exports=LE(),wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function BE(){if(Wp)return Ll;Wp=1;var a=jE(),e=ad(),i=zE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function et(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case y:return"Fragment";case p:return"Portal";case T:return"Profiler";case g:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case M:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:D(t.type)||"Memo";case K:n=t._payload,t=t._init;try{return D(t(n))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,U,B;function N(t){if(U===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);U=n&&n[1]||"",B=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+t+B}var Zt=!1;function Jt(t,n){if(!t||Zt)return"";Zt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var F=$}Reflect.construct(t,[],nt)}else{try{nt.call()}catch($){F=$}t.call(nt.prototype)}}else{try{throw Error()}catch($){F=$}(nt=t())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var O=_.split(`
`),P=S.split(`
`);for(c=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===O.length||c===P.length)for(l=O.length-1,c=P.length-1;1<=l&&0<=c&&O[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(O[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||O[l]!==P[c]){var Z=`
`+O[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=c);break}}}finally{Zt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?N(r):""}function st(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=Jt(t.type,!1),t;case 11:return t=Jt(t.type.render,!1),t;case 1:return t=Jt(t.type,!0),t;default:return""}}function yt(t){try{var n="";do n+=st(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function dt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function zt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function k(t){if(dt(t)!==t)throw Error(s(188))}function rt(t){var n=t.alternate;if(!n){if(n=dt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return k(c),t;if(f===l)return k(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var _=!1,S=c.child;S;){if(S===r){_=!0,r=c,l=f;break}if(S===l){_=!0,l=c,r=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===r){_=!0,r=f,l=c;break}if(S===l){_=!0,l=f,r=c;break}S=S.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ht(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ht(t),n!==null)return n;t=t.sibling}return null}var lt=Array.isArray,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},Tt=[],te=-1;function xt(t){return{current:t}}function ae(t){0>te||(t.current=Tt[te],Tt[te]=null,te--)}function Ft(t,n){te++,Tt[te]=t.current,t.current=n}var Qe=xt(null),ai=xt(null),mn=xt(null),Li=xt(null);function zi(t,n){switch(Ft(mn,n),Ft(ai,t),Ft(Qe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?_p(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=_p(t),n=Ep(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(Qe),Ft(Qe,n)}function si(){ae(Qe),ae(ai),ae(mn)}function Vs(t){t.memoizedState!==null&&Ft(Li,t);var n=Qe.current,r=Ep(n,t.type);n!==r&&(Ft(ai,t),Ft(Qe,r))}function Aa(t){ai.current===t&&(ae(Qe),ae(ai)),Li.current===t&&(ae(Li),Vl._currentValue=bt)}var Sa=Object.prototype.hasOwnProperty,Ur=a.unstable_scheduleCallback,ba=a.unstable_cancelCallback,Tc=a.unstable_shouldYield,Is=a.unstable_requestPaint,Je=a.unstable_now,ao=a.unstable_getCurrentPriorityLevel,ye=a.unstable_ImmediatePriority,Re=a.unstable_UserBlockingPriority,li=a.unstable_NormalPriority,so=a.unstable_LowPriority,Ms=a.unstable_IdlePriority,Ac=a.log,kr=a.unstable_setDisableYieldValue,Bi=null,Pe=null;function Us(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Bi,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof Ac=="function"&&kr(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Bi,t)}catch{}}var Ye=Math.clz32?Math.clz32:oo,ks=Math.log,lo=Math.LN2;function oo(t){return t>>>=0,t===0?32:31-(ks(t)/lo|0)|0}var zn=128,Pi=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var S=r&134217727;return S!==0?(r=S&~c,r!==0?l=xn(r):(f&=S,f!==0?l=xn(f):t||(_=S&~_,_!==0&&(l=xn(_))))):(S=r&~c,S!==0?l=xn(S):f!==0?l=xn(f):t||(_=r&~_,_!==0&&(l=xn(_)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,_=n&-n,c>=_||c===32&&(_&4194176)!==0)?n:l}function qi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function wa(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function js(){var t=zn;return zn<<=1,(zn&4194176)===0&&(zn=128),t}function Hi(){var t=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),t}function Ra(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ce(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uo(t,n,r,l,c,f){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,P=t.hiddenUpdates;for(r=_&~r;0<r;){var Z=31-Ye(r),nt=1<<Z;S[Z]=0,O[Z]=-1;var F=P[Z];if(F!==null)for(P[Z]=null,Z=0;Z<F.length;Z++){var $=F[Z];$!==null&&($.lane&=-536870913)}r&=~nt}l!==0&&Gi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Gi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Fi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function co(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ho(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:Lp(t.type))}function Xi(t,n){var r=ot.p;try{return ot.p=t,n()}finally{ot.p=r}}var Bn=Math.random().toString(36).slice(2),De="__reactFiber$"+Bn,ve="__reactProps$"+Bn,oi="__reactContainer$"+Bn,jr="__reactEvents$"+Bn,Da="__reactListeners$"+Bn,Pn="__reactHandles$"+Bn,Ls="__reactResources$"+Bn,Qi="__reactMarker$"+Bn;function Lr(t){delete t[De],delete t[ve],delete t[jr],delete t[Da],delete t[Pn]}function Vn(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[oi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Sp(t);t!==null;){if(r=t[De])return r;t=Sp(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[De]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Yi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ki(t){var n=t[Ls];return n||(n=t[Ls]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ee(t){t[Qi]=!0}var zs=new Set,Ca={};function an(t,n){tn(t,n),tn(t+"Capture",n)}function tn(t,n){for(Ca[t]=n,t=0;t<n.length;t++)zs.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bs={},Ps={};function fo(t){return Sa.call(Ps,t)?!0:Sa.call(Bs,t)?!1:Sc.test(t)?Ps[t]=!0:(Bs[t]=!0,!1)}function $i(t,n,r){if(fo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Zi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function pn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bc(t){var n=mo(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function zr(t){t._valueTracker||(t._valueTracker=bc(t))}function qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=mo(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function se(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wi(t,n,r,l,c,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Na(t,_,Ke(n)):r!=null?Na(t,_,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ke(S):t.removeAttribute("name")}function Br(t,n,r,l,c,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,S||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Na(t,n,r){n==="number"&&Oa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Pr(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Ji(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||wc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function go(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Hs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Hs(t,f,n[f])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return Dc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vn=null;function xa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(Wi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ve]||null;if(!c)throw Error(s(90));Wi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&qs(l)}break t;case"textarea":Pr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Bt(t,!!r.multiple,n,!1)}}}var Fs=!1;function po(t,n,r){if(Fs)return t(n,r);Fs=!0;try{var l=t(n);return l}finally{if(Fs=!1,(hi!==null||fi!==null)&&(lu(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function qr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ve]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var _n=!1;if(sn)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{_n=!1}var Hn=null,tr=null,mi=null;function Xs(){if(mi)return mi;var t,n=tr,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Qs(){return!1}function Ce(t){function n(r,l,c,f,_){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Qs,this.isPropagationStopped=Qs,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Ce(Ht),Gr=V({},Ht,{view:0,detail:0}),yo=Ce(Gr),Ia,Ma,Xn,Fr=V({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(Ia=t.screenX-Xn.screenX,Ma=t.screenY-Xn.screenY):Ma=Ia=0,Xn=t),Ia)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),En=Ce(Fr),vo=V({},Fr,{dataTransfer:0}),Cc=Ce(vo),Xr=V({},Gr,{relatedTarget:0}),Ua=Ce(Xr),Ys=V({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=Ce(Ys),_o=V({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ja=Ce(_o),Oc=V({},Ht,{data:0}),Ks=Ce(Oc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $s(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=To[t])?!!n[t]:!1}function Yr(){return $s}var Ao=V({},Gr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),La=Ce(Ao),So=V({},Fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=Ce(So),gi=V({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),bo=Ce(gi),wo=V({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=Ce(wo),Do=V({},Fr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),za=Ce(Do),$e=V({},Ht,{newState:0,oldState:0}),Co=Ce($e),Oo=[9,13,27,32],Qn=sn&&"CompositionEvent"in window,u=null;sn&&"documentMode"in document&&(u=document.documentMode);var m=sn&&"TextEvent"in window&&!u,v=sn&&(!Qn||u&&8<u&&11>=u),b=" ",H=!1;function Q(t,n){switch(t){case"keyup":return Oo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function _e(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(H=!0,b);case"textInput":return t=n.data,t===b&&H?null:t;default:return null}}function Ut(t,n){if(Mt)return t==="compositionend"||!Qn&&Q(t,n)?(t=Xs(),mi=tr=Hn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Oe[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=fu(n,"onChange"),0<n.length&&(r=new Va("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Yn=null;function Ws(t){mp(t,0)}function No(t){var n=Yi(t);if(qs(n))return t}function Hd(t,n){if(t==="change")return n}var Gd=!1;if(sn){var Nc;if(sn){var xc="oninput"in document;if(!xc){var Fd=document.createElement("div");Fd.setAttribute("oninput","return;"),xc=typeof Fd.oninput=="function"}Nc=xc}else Nc=!1;Gd=Nc&&(!document.documentMode||9<document.documentMode)}function Xd(){Me&&(Me.detachEvent("onpropertychange",Qd),Yn=Me=null)}function Qd(t){if(t.propertyName==="value"&&No(Yn)){var n=[];pi(n,Yn,t,xa(t)),po(Ws,n)}}function o0(t,n,r){t==="focusin"?(Xd(),Me=n,Yn=r,Me.attachEvent("onpropertychange",Qd)):t==="focusout"&&Xd()}function u0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return No(Yn)}function c0(t,n){if(t==="click")return No(n)}function h0(t,n){if(t==="input"||t==="change")return No(n)}function f0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:f0;function Js(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Sa.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kd(t,n){var r=Yd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Yd(r)}}function $d(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?$d(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Zd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Oa(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Oa(t.document)}return n}function Vc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function d0(t,n){var r=Zd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&$d(n.ownerDocument.documentElement,n)){if(l!==null&&Vc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Kd(n,f);var _=Kd(n,l);c&&_&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var m0=sn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Ic=null,tl=null,Mc=!1;function Wd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mc||Ba==null||Ba!==Oa(l)||(l=Ba,"selectionStart"in l&&Vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Js(tl,l)||(tl=l,l=fu(Ic,"onSelect"),0<l.length&&(n=new Va("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ba)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Pa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Uc={},Jd={};sn&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function $r(t){if(Uc[t])return Uc[t];if(!Pa[t])return t;var n=Pa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Jd)return Uc[t]=n[r];return t}var tm=$r("animationend"),em=$r("animationiteration"),nm=$r("animationstart"),g0=$r("transitionrun"),p0=$r("transitionstart"),y0=$r("transitioncancel"),im=$r("transitionend"),rm=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function In(t,n){rm.set(t,n),an(n,[t])}var Tn=[],qa=0,kc=0;function xo(){for(var t=qa,n=kc=qa=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}f!==0&&sm(r,c,f)}}function Vo(t,n,r,l){Tn[qa++]=t,Tn[qa++]=n,Tn[qa++]=r,Tn[qa++]=l,kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jc(t,n,r,l){return Vo(t,n,r,l),Io(t)}function er(t,n){return Vo(t,null,null,n),Io(t)}function sm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Io(t){if(50<wl)throw wl=0,Hh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ha={},lm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=lm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:yt(n)},lm.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var Ga=[],Fa=0,Mo=null,Uo=0,Sn=[],bn=0,Zr=null,yi=1,vi="";function Wr(t,n){Ga[Fa++]=Uo,Ga[Fa++]=Mo,Mo=t,Uo=n}function om(t,n,r){Sn[bn++]=yi,Sn[bn++]=vi,Sn[bn++]=Zr,Zr=t;var l=yi;t=vi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var _=c-c%5;f=(l&(1<<_)-1).toString(32),l>>=_,c-=_,yi=1<<32-Ye(n)+c|r<<c|l,vi=f+t}else yi=1<<f|r<<c|l,vi=t}function Lc(t){t.return!==null&&(Wr(t,1),om(t,1,0))}function zc(t){for(;t===Mo;)Mo=Ga[--Fa],Ga[Fa]=null,Uo=Ga[--Fa],Ga[Fa]=null;for(;t===Zr;)Zr=Sn[--bn],Sn[bn]=null,vi=Sn[--bn],Sn[bn]=null,yi=Sn[--bn],Sn[bn]=null}var Ze=null,Ue=null,Pt=!1,Mn=null,Kn=!1,Bc=Error(s(519));function Jr(t){var n=Error(s(418,""));throw il(An(n,t)),Bc}function um(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Dl.length;r++)Vt(Dl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zr(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ji(n,l.value,l.defaultValue,l.children),zr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||vp(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=du),n=!0):n=!1,n||Jr(t)}function cm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ze=Ze.return}}function el(t){if(t!==Ze)return!1;if(!Pt)return cm(t),Pt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||lf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Jr(t),cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=kn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?kn(t.stateNode.nextSibling):null;return!0}function nl(){Ue=Ze=null,Pt=!1}function il(t){Mn===null?Mn=[t]:Mn.push(t)}var rl=Error(s(460)),hm=Error(s(474)),Pc={then:function(){}};function fm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ko(){}function dm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ko,ko),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===rl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(ko,ko);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===rl?Error(s(483)):t}throw al=n,rl}}var al=null;function mm(){if(al===null)throw Error(s(459));var t=al;return al=null,t}var Xa=null,sl=0;function jo(t){var n=sl;return sl+=1,Xa===null&&(Xa=[]),dm(Xa,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Lo(t,n){throw n.$$typeof===h?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function gm(t){var n=t._init;return n(t._payload)}function pm(t){function n(q,z){if(t){var G=q.deletions;G===null?(q.deletions=[z],q.flags|=16):G.push(z)}}function r(q,z){if(!t)return null;for(;z!==null;)n(q,z),z=z.sibling;return null}function l(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function c(q,z){return q=dr(q,z),q.index=0,q.sibling=null,q}function f(q,z,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<z?(q.flags|=33554434,z):G):(q.flags|=33554434,z)):(q.flags|=1048576,z)}function _(q){return t&&q.alternate===null&&(q.flags|=33554434),q}function S(q,z,G,J){return z===null||z.tag!==6?(z=Uh(G,q.mode,J),z.return=q,z):(z=c(z,G),z.return=q,z)}function O(q,z,G,J){var ct=G.type;return ct===y?Z(q,z,G.props.children,J,G.key):z!==null&&(z.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===K&&gm(ct)===z.type)?(z=c(z,G.props),ll(z,G),z.return=q,z):(z=nu(G.type,G.key,G.props,null,q.mode,J),ll(z,G),z.return=q,z)}function P(q,z,G,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=kh(G,q.mode,J),z.return=q,z):(z=c(z,G.children||[]),z.return=q,z)}function Z(q,z,G,J,ct){return z===null||z.tag!==7?(z=ua(G,q.mode,J,ct),z.return=q,z):(z=c(z,G),z.return=q,z)}function nt(q,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Uh(""+z,q.mode,G),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return G=nu(z.type,z.key,z.props,null,q.mode,G),ll(G,z),G.return=q,G;case p:return z=kh(z,q.mode,G),z.return=q,z;case K:var J=z._init;return z=J(z._payload),nt(q,z,G)}if(lt(z)||et(z))return z=ua(z,q.mode,G,null),z.return=q,z;if(typeof z.then=="function")return nt(q,jo(z),G);if(z.$$typeof===A)return nt(q,Jo(q,z),G);Lo(q,z)}return null}function F(q,z,G,J){var ct=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ct!==null?null:S(q,z,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return G.key===ct?O(q,z,G,J):null;case p:return G.key===ct?P(q,z,G,J):null;case K:return ct=G._init,G=ct(G._payload),F(q,z,G,J)}if(lt(G)||et(G))return ct!==null?null:Z(q,z,G,J,null);if(typeof G.then=="function")return F(q,z,jo(G),J);if(G.$$typeof===A)return F(q,z,Jo(q,G),J);Lo(q,G)}return null}function $(q,z,G,J,ct){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get(G)||null,S(z,q,""+J,ct);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case d:return q=q.get(J.key===null?G:J.key)||null,O(z,q,J,ct);case p:return q=q.get(J.key===null?G:J.key)||null,P(z,q,J,ct);case K:var Ct=J._init;return J=Ct(J._payload),$(q,z,G,J,ct)}if(lt(J)||et(J))return q=q.get(G)||null,Z(z,q,J,ct,null);if(typeof J.then=="function")return $(q,z,G,jo(J),ct);if(J.$$typeof===A)return $(q,z,G,Jo(z,J),ct);Lo(z,J)}return null}function ft(q,z,G,J){for(var ct=null,Ct=null,gt=z,vt=z=0,Ve=null;gt!==null&&vt<G.length;vt++){gt.index>vt?(Ve=gt,gt=null):Ve=gt.sibling;var qt=F(q,gt,G[vt],J);if(qt===null){gt===null&&(gt=Ve);break}t&&gt&&qt.alternate===null&&n(q,gt),z=f(qt,z,vt),Ct===null?ct=qt:Ct.sibling=qt,Ct=qt,gt=Ve}if(vt===G.length)return r(q,gt),Pt&&Wr(q,vt),ct;if(gt===null){for(;vt<G.length;vt++)gt=nt(q,G[vt],J),gt!==null&&(z=f(gt,z,vt),Ct===null?ct=gt:Ct.sibling=gt,Ct=gt);return Pt&&Wr(q,vt),ct}for(gt=l(gt);vt<G.length;vt++)Ve=$(gt,q,vt,G[vt],J),Ve!==null&&(t&&Ve.alternate!==null&&gt.delete(Ve.key===null?vt:Ve.key),z=f(Ve,z,vt),Ct===null?ct=Ve:Ct.sibling=Ve,Ct=Ve);return t&&gt.forEach(function(Er){return n(q,Er)}),Pt&&Wr(q,vt),ct}function At(q,z,G,J){if(G==null)throw Error(s(151));for(var ct=null,Ct=null,gt=z,vt=z=0,Ve=null,qt=G.next();gt!==null&&!qt.done;vt++,qt=G.next()){gt.index>vt?(Ve=gt,gt=null):Ve=gt.sibling;var Er=F(q,gt,qt.value,J);if(Er===null){gt===null&&(gt=Ve);break}t&&gt&&Er.alternate===null&&n(q,gt),z=f(Er,z,vt),Ct===null?ct=Er:Ct.sibling=Er,Ct=Er,gt=Ve}if(qt.done)return r(q,gt),Pt&&Wr(q,vt),ct;if(gt===null){for(;!qt.done;vt++,qt=G.next())qt=nt(q,qt.value,J),qt!==null&&(z=f(qt,z,vt),Ct===null?ct=qt:Ct.sibling=qt,Ct=qt);return Pt&&Wr(q,vt),ct}for(gt=l(gt);!qt.done;vt++,qt=G.next())qt=$(gt,q,vt,qt.value,J),qt!==null&&(t&&qt.alternate!==null&&gt.delete(qt.key===null?vt:qt.key),z=f(qt,z,vt),Ct===null?ct=qt:Ct.sibling=qt,Ct=qt);return t&&gt.forEach(function(xE){return n(q,xE)}),Pt&&Wr(q,vt),ct}function ue(q,z,G,J){if(typeof G=="object"&&G!==null&&G.type===y&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case d:t:{for(var ct=G.key;z!==null;){if(z.key===ct){if(ct=G.type,ct===y){if(z.tag===7){r(q,z.sibling),J=c(z,G.props.children),J.return=q,q=J;break t}}else if(z.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===K&&gm(ct)===z.type){r(q,z.sibling),J=c(z,G.props),ll(J,G),J.return=q,q=J;break t}r(q,z);break}else n(q,z);z=z.sibling}G.type===y?(J=ua(G.props.children,q.mode,J,G.key),J.return=q,q=J):(J=nu(G.type,G.key,G.props,null,q.mode,J),ll(J,G),J.return=q,q=J)}return _(q);case p:t:{for(ct=G.key;z!==null;){if(z.key===ct)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){r(q,z.sibling),J=c(z,G.children||[]),J.return=q,q=J;break t}else{r(q,z);break}else n(q,z);z=z.sibling}J=kh(G,q.mode,J),J.return=q,q=J}return _(q);case K:return ct=G._init,G=ct(G._payload),ue(q,z,G,J)}if(lt(G))return ft(q,z,G,J);if(et(G)){if(ct=et(G),typeof ct!="function")throw Error(s(150));return G=ct.call(G),At(q,z,G,J)}if(typeof G.then=="function")return ue(q,z,jo(G),J);if(G.$$typeof===A)return ue(q,z,Jo(q,G),J);Lo(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(r(q,z.sibling),J=c(z,G),J.return=q,q=J):(r(q,z),J=Uh(G,q.mode,J),J.return=q,q=J),_(q)):r(q,z)}return function(q,z,G,J){try{sl=0;var ct=ue(q,z,G,J);return Xa=null,ct}catch(gt){if(gt===rl)throw gt;var Ct=Cn(29,gt,null,q.mode);return Ct.lanes=J,Ct.return=q,Ct}finally{}}}var ta=pm(!0),ym=pm(!1),Qa=xt(null),zo=xt(0);function vm(t,n){t=Oi,Ft(zo,t),Ft(Qa,n),Oi=t|n.baseLanes}function qc(){Ft(zo,Oi),Ft(Qa,Qa.current)}function Hc(){Oi=zo.current,ae(Qa),ae(zo)}var wn=xt(null),$n=null;function nr(t){var n=t.alternate;Ft(Te,Te.current&1),Ft(wn,t),$n===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&($n=t)}function _m(t){if(t.tag===22){if(Ft(Te,Te.current),Ft(wn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else ir()}function ir(){Ft(Te,Te.current),Ft(wn,wn.current)}function _i(t){ae(wn),$n===t&&($n=null),ae(Te)}var Te=xt(0);function Bo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var v0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},_0=a.unstable_scheduleCallback,E0=a.unstable_NormalPriority,Ae={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gc(){return{controller:new v0,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&_0(E0,function(){t.controller.abort()})}var ul=null,Fc=0,Ya=0,Ka=null;function T0(t,n){if(ul===null){var r=ul=[];Fc=0,Ya=Zh(),Ka={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Fc++,n.then(Em,Em),n}function Em(){if(--Fc===0&&ul!==null){Ka!==null&&(Ka.status="fulfilled");var t=ul;ul=null,Ya=0,Ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function A0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Tm=w.S;w.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&T0(t,n),Tm!==null&&Tm(t,n)};var ea=xt(null);function Xc(){var t=ea.current;return t!==null?t:Kt.pooledCache}function Po(t,n){n===null?Ft(ea,ea.current):Ft(ea,n.pool)}function Am(){var t=Xc();return t===null?null:{parent:Ae._currentValue,pool:t}}var rr=0,Rt=null,Xt=null,de=null,qo=!1,$a=!1,na=!1,Ho=0,cl=0,Za=null,S0=0;function he(){throw Error(s(321))}function Qc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Yc(t,n,r,l,c,f){return rr=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,w.H=t===null||t.memoizedState===null?ia:ar,na=!1,f=r(l,c),na=!1,$a&&(f=bm(n,r,l,c)),Sm(t),f}function Sm(t){w.H=Zn;var n=Xt!==null&&Xt.next!==null;if(rr=0,de=Xt=Rt=null,qo=!1,cl=0,Za=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&Wo(t)&&(Ne=!0))}function bm(t,n,r,l){Rt=t;var c=0;do{if($a&&(Za=null),cl=0,$a=!1,25<=c)throw Error(s(301));if(c+=1,de=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}w.H=ra,f=n(r,l)}while($a);return f}function b0(){var t=w.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Kc(){var t=Ho!==0;return Ho=0,t}function $c(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Zc(t){if(qo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qo=!1}rr=0,de=Xt=Rt=null,$a=!1,cl=Ho=0,Za=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Rt.memoizedState=de=t:de=de.next=t,de}function me(){if(Xt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=de===null?Rt.memoizedState:de.next;if(n!==null)de=n,Xt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},de===null?Rt.memoizedState=de=t:de=de.next=t}return de}var Go;Go=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function hl(t){var n=cl;return cl+=1,Za===null&&(Za=[]),t=dm(Za,t,n),n=Rt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,w.H=n===null||n.memoizedState===null?ia:ar),t}function Fo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===A)return qe(t)}throw Error(s(438,String(t)))}function Wc(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Go(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=W;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Xo(t){var n=me();return Jc(n,Xt,t)}function Jc(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var S=_=null,O=null,P=n,Z=!1;do{var nt=P.lane&-536870913;if(nt!==P.lane?(kt&nt)===nt:(rr&nt)===nt){var F=P.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),nt===Ya&&(Z=!0);else if((rr&F)===F){P=P.next,F===Ya&&(Z=!0);continue}else nt={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(S=O=nt,_=f):O=O.next=nt,Rt.lanes|=F,mr|=F;nt=P.action,na&&r(f,nt),f=P.hasEagerState?P.eagerState:r(f,nt)}else F={lane:nt,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(S=O=F,_=f):O=O.next=F,Rt.lanes|=nt,mr|=nt;P=P.next}while(P!==null&&P!==n);if(O===null?_=f:O.next=S,!ln(f,t.memoizedState)&&(Ne=!0,Z&&(r=Ka,r!==null)))throw r;t.memoizedState=f,t.baseState=_,t.baseQueue=O,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function th(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=t(f,_.action),_=_.next;while(_!==c);ln(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function wm(t,n,r){var l=Rt,c=me(),f=Pt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!ln((Xt||c).memoizedState,r);if(_&&(c.memoizedState=r,Ne=!0),c=c.queue,ih(Cm.bind(null,l,c,t),[t]),c.getSnapshot!==n||_||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Wa(9,Dm.bind(null,l,c,r,n),{destroy:void 0},null),Kt===null)throw Error(s(349));f||(rr&60)!==0||Rm(l,n,r)}return r}function Rm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Go(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Dm(t,n,r,l){n.value=r,n.getSnapshot=l,Om(n)&&Nm(t)}function Cm(t,n,r){return r(function(){Om(n)&&Nm(t)})}function Om(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Nm(t){var n=er(t,2);n!==null&&We(n,t,2)}function eh(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),na){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function xm(t,n,r,l){return t.baseState=r,Jc(t,Xt,typeof l=="function"?l:Ei)}function w0(t,n,r,l,c){if(Ko(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};w.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Vm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Vm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=w.T,_={};w.T=_;try{var S=r(c,l),O=w.S;O!==null&&O(_,S),Im(t,n,S)}catch(P){nh(t,n,P)}finally{w.T=f}}else try{f=r(c,l),Im(t,n,f)}catch(P){nh(t,n,P)}}function Im(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Mm(t,n,l)},function(l){return nh(t,n,l)}):Mm(t,n,r)}function Mm(t,n,r){n.status="fulfilled",n.value=r,Um(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Vm(t,r)))}function nh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Um(n),n=n.next;while(n!==l)}t.action=null}function Um(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function km(t,n){return n}function jm(t,n){if(Pt){var r=Kt.formState;if(r!==null){t:{var l=Rt;if(Pt){if(Ue){e:{for(var c=Ue,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=kn(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:n},r.queue=l,r=eg.bind(null,Rt,l),l.dispatch=r,l=eh(!1),f=oh.bind(null,Rt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=w0.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Lm(t){var n=me();return zm(n,Xt,t)}function zm(t,n,r){n=Jc(t,n,km)[0],t=Xo(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?hl(n):n;var l=me(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(Rt.flags|=2048,Wa(9,R0.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function R0(t,n){t.action=n}function Bm(t){var n=me(),r=Xt;if(r!==null)return zm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Wa(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Rt.updateQueue,n===null&&(n=Go(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Pm(){return me().memoizedState}function Qo(t,n,r,l){var c=en();Rt.flags|=t,c.memoizedState=Wa(1|n,r,{destroy:void 0},l===void 0?null:l)}function Yo(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&Qc(l,Xt.memoizedState.deps)?c.memoizedState=Wa(n,r,f,l):(Rt.flags|=t,c.memoizedState=Wa(1|n,r,f,l))}function qm(t,n){Qo(8390656,8,t,n)}function ih(t,n){Yo(2048,8,t,n)}function Hm(t,n){return Yo(4,2,t,n)}function Gm(t,n){return Yo(4,4,t,n)}function Fm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xm(t,n,r){r=r!=null?r.concat([t]):null,Yo(4,4,Fm.bind(null,n,t),r)}function rh(){}function Qm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Qc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Ym(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Qc(n,l[1]))return l[0];if(l=t(),na){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l}function ah(t,n,r){return r===void 0||(rr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=$g(),Rt.lanes|=t,mr|=t,r)}function Km(t,n,r,l){return ln(r,n)?r:Qa.current!==null?(t=ah(t,r,l),ln(t,n)||(Ne=!0),t):(rr&42)===0?(Ne=!0,t.memoizedState=r):(t=$g(),Rt.lanes|=t,mr|=t,n)}function $m(t,n,r,l,c){var f=ot.p;ot.p=f!==0&&8>f?f:8;var _=w.T,S={};w.T=S,oh(t,!1,n,r);try{var O=c(),P=w.S;if(P!==null&&P(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=A0(O,l);fl(t,n,Z,hn(t))}else fl(t,n,l,hn(t))}catch(nt){fl(t,n,{then:function(){},status:"rejected",reason:nt},hn())}finally{ot.p=f,w.T=_}}function D0(){}function sh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Zm(t).queue;$m(t,c,n,bt,r===null?D0:function(){return Wm(t),r(l)})}function Zm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:bt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wm(t){var n=Zm(t).next.queue;fl(t,n,{},hn())}function lh(){return qe(Vl)}function Jm(){return me().memoizedState}function tg(){return me().memoizedState}function C0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=or(r);var l=ur(n,t,r);l!==null&&(We(l,n,r),gl(l,n,r)),n={cache:Gc()},t.payload=n;return}n=n.return}}function O0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ko(t)?ng(n,r):(r=jc(t,n,r,l),r!==null&&(We(r,t,l),ig(r,n,l)))}function eg(t,n,r){var l=hn();fl(t,n,r,l)}function fl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ko(t))ng(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,S=f(_,r);if(c.hasEagerState=!0,c.eagerState=S,ln(S,_))return Vo(t,n,c,0),Kt===null&&xo(),!1}catch{}finally{}if(r=jc(t,n,c,l),r!==null)return We(r,t,l),ig(r,n,l),!0}return!1}function oh(t,n,r,l){if(l={lane:2,revertLane:Zh(),action:l,hasEagerState:!1,eagerState:null,next:null},Ko(t)){if(n)throw Error(s(479))}else n=jc(t,r,l,2),n!==null&&We(n,t,2)}function Ko(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function ng(t,n){$a=qo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ig(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Fi(t,r)}}var Zn={readContext:qe,use:Fo,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he};Zn.useCacheRefresh=he,Zn.useMemoCache=he,Zn.useHostTransitionStatus=he,Zn.useFormState=he,Zn.useActionState=he,Zn.useOptimistic=he;var ia={readContext:qe,use:Fo,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:qm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qo(4194308,4,Fm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qo(4194308,4,t,n)},useInsertionEffect:function(t,n){Qo(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(na){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(na){Ln(!0);try{r(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=O0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=eh(t);var n=t.queue,r=eg.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:rh,useDeferredValue:function(t,n){var r=en();return ah(r,t,n)},useTransition:function(){var t=eh(!1);return t=$m.bind(null,Rt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=en();if(Pt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Kt===null)throw Error(s(349));(kt&60)!==0||Rm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,qm(Cm.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,Dm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=en(),n=Kt.identifierPrefix;if(Pt){var r=vi,l=yi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Ho++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=S0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return en().memoizedState=C0.bind(null,Rt)}};ia.useMemoCache=Wc,ia.useHostTransitionStatus=lh,ia.useFormState=jm,ia.useActionState=jm,ia.useOptimistic=function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=oh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]};var ar={readContext:qe,use:Fo,useCallback:Qm,useContext:qe,useEffect:ih,useImperativeHandle:Xm,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Ym,useReducer:Xo,useRef:Pm,useState:function(){return Xo(Ei)},useDebugValue:rh,useDeferredValue:function(t,n){var r=me();return Km(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Xo(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:wm,useId:Jm};ar.useCacheRefresh=tg,ar.useMemoCache=Wc,ar.useHostTransitionStatus=lh,ar.useFormState=Lm,ar.useActionState=Lm,ar.useOptimistic=function(t,n){var r=me();return xm(r,Xt,t,n)};var ra={readContext:qe,use:Fo,useCallback:Qm,useContext:qe,useEffect:ih,useImperativeHandle:Xm,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Ym,useReducer:th,useRef:Pm,useState:function(){return th(Ei)},useDebugValue:rh,useDeferredValue:function(t,n){var r=me();return Xt===null?ah(r,t,n):Km(r,Xt.memoizedState,t,n)},useTransition:function(){var t=th(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:wm,useId:Jm};ra.useCacheRefresh=tg,ra.useMemoCache=Wc,ra.useHostTransitionStatus=lh,ra.useFormState=Bm,ra.useActionState=Bm,ra.useOptimistic=function(t,n){var r=me();return Xt!==null?xm(r,Xt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function uh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:V({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ch={isMounted:function(t){return(t=t._reactInternals)?dt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=or(l);c.payload=n,r!=null&&(c.callback=r),n=ur(t,c,l),n!==null&&(We(n,t,l),gl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=or(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ur(t,c,l),n!==null&&(We(n,t,l),gl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=or(r);l.tag=2,n!=null&&(l.callback=n),n=ur(t,l,r),n!==null&&(We(n,t,r),gl(n,t,r))}};function rg(t,n,r,l,c,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!Js(r,l)||!Js(c,f):!0}function ag(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&ch.enqueueReplaceState(n,n.state,null)}function aa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=V({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var $o=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sg(t){$o(t)}function lg(t){console.error(t)}function og(t){$o(t)}function Zo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ug(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function hh(t,n,r){return r=or(r),r.tag=3,r.payload={element:null},r.callback=function(){Zo(t,n)},r}function cg(t){return t=or(t),t.tag=3,t}function hg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ug(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ug(n,r,l),typeof c!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function N0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ml(n,r,c,!0),r=wn.current,r!==null){switch(r.tag){case 13:return $n===null?Xh():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Pc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Yh(t,l,c)),!1;case 22:return r.flags|=65536,l===Pc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Yh(t,l,c)),!1}throw Error(s(435,r.tag))}return Yh(t,l,c),Xh(),!1}if(Pt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Bc&&(t=Error(s(422),{cause:l}),il(An(t,r)))):(l!==Bc&&(n=Error(s(423),{cause:l}),il(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=hh(t.stateNode,l,c),Rh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=An(f,r),Sl===null?Sl=[f]:Sl.push(f),oe!==4&&(oe=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=hh(r.stateNode,l,t),Rh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(gr===null||!gr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=cg(c),hg(c,t,r,l),Rh(r,c),!1}r=r.return}while(r!==null);return!1}var fg=Error(s(461)),Ne=!1;function ke(t,n,r,l){n.child=t===null?ym(n,null,r,l):ta(n,t.child,r,l)}function dg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return la(n),l=Yc(t,n,r,_,f,c),S=Kc(),t!==null&&!Ne?($c(t,n,c),Ti(t,n,c)):(Pt&&S&&Lc(n),n.flags|=1,ke(t,n,l,c),n.child)}function mg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Mh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,gg(t,n,f,l,c)):(t=nu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Eh(t,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:Js,r(_,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=dr(f,l),t.ref=n.ref,t.return=n,n.child=t}function gg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Eh(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return fh(t,n,r,l,c)}function pg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(dl(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=_!==null?_.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return yg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Po(n,_!==null?_.cachePool:null),_!==null?vm(n,_):qc(),_m(n);else return n.lanes=n.childLanes=536870912,yg(t,n,_!==null?_.baseLanes|r:r,r)}else _!==null?(Po(n,_.cachePool),vm(n,_),ir(),n.memoizedState=null):(t!==null&&Po(n,null),qc(),ir());return ke(t,n,c,r),n.child}function yg(t,n,r,l){var c=Xc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Po(n,null),qc(),_m(n),t!==null&&ml(t,n,l,!0),null}function dl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function fh(t,n,r,l,c){return la(n),r=Yc(t,n,r,l,void 0,c),l=Kc(),t!==null&&!Ne?($c(t,n,c),Ti(t,n,c)):(Pt&&l&&Lc(n),n.flags|=1,ke(t,n,r,c),n.child)}function vg(t,n,r,l,c,f){return la(n),n.updateQueue=null,r=bm(n,l,r,c),Sm(t),l=Kc(),t!==null&&!Ne?($c(t,n,f),Ti(t,n,f)):(Pt&&l&&Lc(n),n.flags|=1,ke(t,n,r,f),n.child)}function _g(t,n,r,l,c){if(la(n),n.stateNode===null){var f=Ha,_=r.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},bh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?qe(_):Ha,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(uh(n,r,_,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&ch.enqueueReplaceState(f,f.state,null),yl(n,l,f,c),pl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,O=aa(r,S);f.props=O;var P=f.context,Z=r.contextType;_=Ha,typeof Z=="object"&&Z!==null&&(_=qe(Z));var nt=r.getDerivedStateFromProps;Z=typeof nt=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||P!==_)&&ag(n,f,l,_),lr=!1;var F=n.memoizedState;f.state=F,yl(n,l,f,c),pl(),P=n.memoizedState,S||F!==P||lr?(typeof nt=="function"&&(uh(n,r,nt,l),P=n.memoizedState),(O=lr||rg(n,r,O,l,F,P,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=_,l=O):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,wh(t,n),_=n.memoizedProps,Z=aa(r,_),f.props=Z,nt=n.pendingProps,F=f.context,P=r.contextType,O=Ha,typeof P=="object"&&P!==null&&(O=qe(P)),S=r.getDerivedStateFromProps,(P=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==nt||F!==O)&&ag(n,f,l,O),lr=!1,F=n.memoizedState,f.state=F,yl(n,l,f,c),pl();var $=n.memoizedState;_!==nt||F!==$||lr||t!==null&&t.dependencies!==null&&Wo(t.dependencies)?(typeof S=="function"&&(uh(n,r,S,l),$=n.memoizedState),(Z=lr||rg(n,r,Z,l,F,$,O)||t!==null&&t.dependencies!==null&&Wo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,O)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=$),f.props=l,f.state=$,f.context=O,l=Z):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,dl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ta(n,t.child,null,c),n.child=ta(n,null,r,c)):ke(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function Eg(t,n,r,l){return nl(),n.flags|=256,ke(t,n,r,l),n.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function mh(t){return{baseLanes:t,cachePool:Am()}}function gh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=On),t}function Tg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?nr(n):ir(),Pt){var S=Ue,O;if(O=S){t:{for(O=S,S=Kn;O.nodeType!==8;){if(!S){S=null;break t}if(O=kn(O.nextSibling),O===null){S=null;break t}}S=O}S!==null?(n.memoizedState={dehydrated:S,treeContext:Zr!==null?{id:yi,overflow:vi}:null,retryLane:536870912},O=Cn(18,null,null,0),O.stateNode=S,O.return=n,n.child=O,Ze=n,Ue=null,O=!0):O=!1}O||Jr(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return S=l.children,l=l.fallback,c?(ir(),c=n.mode,S=yh({mode:"hidden",children:S},c),l=ua(l,c,r,null),S.return=n,l.return=n,S.sibling=l,n.child=S,c=n.child,c.memoizedState=mh(r),c.childLanes=gh(t,_,r),n.memoizedState=dh,l):(nr(n),ph(n,S))}if(O=t.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(f)n.flags&256?(nr(n),n.flags&=-257,n=vh(t,n,r)):n.memoizedState!==null?(ir(),n.child=t.child,n.flags|=128,n=null):(ir(),c=l.fallback,S=n.mode,l=yh({mode:"visible",children:l.children},S),c=ua(c,S,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ta(n,t.child,null,r),l=n.child,l.memoizedState=mh(r),l.childLanes=gh(t,_,r),n.memoizedState=dh,n=c);else if(nr(n),S.data==="$!"){if(_=S.nextSibling&&S.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),n=vh(t,n,r)}else if(Ne||ml(t,n,r,!1),_=(r&t.childLanes)!==0,Ne||_){if(_=Kt,_!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|r))!==0?0:l,l!==0&&l!==O.retryLane)throw O.retryLane=l,er(t,l),We(_,t,l),fg}S.data==="$?"||Xh(),n=vh(t,n,r)}else S.data==="$?"?(n.flags|=128,n.child=t.child,n=F0.bind(null,t),S._reactRetry=n,n=null):(t=O.treeContext,Ue=kn(S.nextSibling),Ze=n,Pt=!0,Mn=null,Kn=!1,t!==null&&(Sn[bn++]=yi,Sn[bn++]=vi,Sn[bn++]=Zr,yi=t.id,vi=t.overflow,Zr=n),n=ph(n,l.children),n.flags|=4096);return n}return c?(ir(),c=l.fallback,S=n.mode,O=t.child,P=O.sibling,l=dr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&31457280,P!==null?c=dr(P,c):(c=ua(c,S,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,S=t.child.memoizedState,S===null?S=mh(r):(O=S.cachePool,O!==null?(P=Ae._currentValue,O=O.parent!==P?{parent:P,pool:P}:O):O=Am(),S={baseLanes:S.baseLanes|r,cachePool:O}),c.memoizedState=S,c.childLanes=gh(t,_,r),n.memoizedState=dh,l):(nr(n),r=t.child,t=r.sibling,r=dr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function ph(t,n){return n=yh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yh(t,n){return Qg(t,n,0,null)}function vh(t,n,r){return ta(n,t.child,null,r),t=ph(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ag(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ah(t.return,n,r)}function _h(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Sg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ke(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,r,n);else if(t.tag===19)Ag(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Bo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),_h(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Bo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}_h(n,!0,r,null,f);break;case"together":_h(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),mr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ml(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=dr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=dr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Eh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Wo(t)))}function x0(t,n,r){switch(n.tag){case 3:zi(n,n.stateNode.containerInfo),sr(n,Ae,t.memoizedState.cache),nl();break;case 27:case 5:Vs(n);break;case 4:zi(n,n.stateNode.containerInfo);break;case 10:sr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(nr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Tg(t,n,r):(nr(n),t=Ti(t,n,r),t!==null?t.sibling:null);nr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ml(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Sg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,pg(t,n,r);case 24:sr(n,Ae,t.memoizedState.cache)}return Ti(t,n,r)}function bg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Eh(t,r)&&(n.flags&128)===0)return Ne=!1,x0(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,Pt&&(n.flags&1048576)!==0&&om(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Mh(l)?(t=aa(l,t),n.tag=1,n=_g(null,n,l,t,r)):(n.tag=0,n=fh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===M){n.tag=11,n=dg(null,n,l,t,r);break t}else if(c===Y){n.tag=14,n=mg(null,n,l,t,r);break t}}throw n=D(l)||l,Error(s(306,n,""))}}return n;case 0:return fh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=aa(l,n.pendingProps),_g(t,n,l,c,r);case 3:t:{if(zi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,wh(t,n),yl(n,f,null,r);var _=n.memoizedState;if(f=_.cache,sr(n,Ae,f),f!==c.cache&&Sh(n,[Ae],r,!0),pl(),f=_.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Eg(t,n,f,r);break t}else if(f!==l){l=An(Error(s(424)),n),il(l),n=Eg(t,n,f,r);break t}else for(Ue=kn(n.stateNode.containerInfo.firstChild),Ze=n,Pt=!0,Mn=null,Kn=!0,r=ym(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nl(),f===l){n=Ti(t,n,r);break t}ke(t,n,f,r)}n=n.child}return n;case 26:return dl(t,n),t===null?(r=Dp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=mu(mn.current).createElement(r),l[De]=n,l[ve]=t,je(l,r,t),ee(l),n.stateNode=l):n.memoizedState=Dp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Vs(n),t===null&&Pt&&(l=n.stateNode=bp(n.type,n.pendingProps,mn.current),Ze=n,Kn=!0,Ue=kn(l.firstChild)),l=n.pendingProps.children,t!==null||Pt?ke(t,n,l,r):n.child=ta(n,null,l,r),dl(t,n),n.child;case 5:return t===null&&Pt&&((c=l=Ue)&&(l=lE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,Ue=kn(l.firstChild),Kn=!1,c=!0):c=!1),c||Jr(n)),Vs(n),c=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,lf(c,f)?l=null:_!==null&&lf(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=Yc(t,n,b0,null,null,r),Vl._currentValue=c),dl(t,n),ke(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=Ue)&&(r=oE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Jr(n)),null;case 13:return Tg(t,n,r);case 4:return zi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ta(n,null,l,r):ke(t,n,l,r),n.child;case 11:return dg(t,n,n.type,n.pendingProps,r);case 7:return ke(t,n,n.pendingProps,r),n.child;case 8:return ke(t,n,n.pendingProps.children,r),n.child;case 12:return ke(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,sr(n,n.type,l.value),ke(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,la(n),c=qe(c),l=l(c),n.flags|=1,ke(t,n,l,r),n.child;case 14:return mg(t,n,n.type,n.pendingProps,r);case 15:return gg(t,n,n.type,n.pendingProps,r);case 19:return Sg(t,n,r);case 22:return pg(t,n,r);case 24:return la(n),l=qe(Ae),t===null?(c=Xc(),c===null&&(c=Kt,f=Gc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},bh(n),sr(n,Ae,c)):((t.lanes&r)!==0&&(wh(t,n),yl(n,null,null,r),pl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sr(n,Ae,l)):(l=f.cache,sr(n,Ae,l),l!==c.cache&&Sh(n,[Ae],r,!0))),ke(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Th=xt(null),sa=null,Ai=null;function sr(t,n,r){Ft(Th,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=Th.current,ae(Th)}function Ah(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Sh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=c;for(var O=0;O<n.length;O++)if(S.context===n[O]){f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),Ah(f.return,r,t),l||(_=null);break t}f=S.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Ah(_,r,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function ml(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=c.type;ln(c.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(c===Li.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}c=c.return}t!==null&&Sh(n,t,r,l),n.flags|=262144}function Wo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function la(t){sa=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return wg(sa,t)}function Jo(t,n){return sa===null&&la(t),wg(t,n)}function wg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var lr=!1;function bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Io(t),sm(t,null,r),n}return Vo(t,l,n,r),Io(t)}function gl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Fi(t,r)}}function Rh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Dh=!1;function pl(){if(Dh){var t=Ka;if(t!==null)throw t}}function yl(t,n,r,l){Dh=!1;var c=t.updateQueue;lr=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var O=S,P=O.next;O.next=null,_===null?f=P:_.next=P,_=O;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=P:S.next=P,Z.lastBaseUpdate=O))}if(f!==null){var nt=c.baseState;_=0,Z=P=O=null,S=f;do{var F=S.lane&-536870913,$=F!==S.lane;if($?(kt&F)===F:(l&F)===F){F!==0&&F===Ya&&(Dh=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=t,At=S;F=n;var ue=r;switch(At.tag){case 1:if(ft=At.payload,typeof ft=="function"){nt=ft.call(ue,nt,F);break t}nt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=At.payload,F=typeof ft=="function"?ft.call(ue,nt,F):ft,F==null)break t;nt=V({},nt,F);break t;case 2:lr=!0}}F=S.callback,F!==null&&(t.flags|=64,$&&(t.flags|=8192),$=c.callbacks,$===null?c.callbacks=[F]:$.push(F))}else $={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(P=Z=$,O=nt):Z=Z.next=$,_|=F;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;$=S,S=$.next,$.next=null,c.lastBaseUpdate=$,c.shared.pending=null}}while(!0);Z===null&&(O=nt),c.baseState=O,c.firstBaseUpdate=P,c.lastBaseUpdate=Z,f===null&&(c.shared.lanes=0),mr|=_,t.lanes=_,t.memoizedState=nt}}function Rg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Dg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Rg(r[t],n)}function vl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,_=r.inst;l=f(),_.destroy=l}r=r.next}while(r!==c)}}catch(S){Yt(n,n.return,S)}}function cr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,c=n;var O=r;try{S()}catch(P){Yt(c,O,P)}}}l=l.next}while(l!==f)}}catch(P){Yt(n,n.return,P)}}function Cg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Dg(n,r)}catch(l){Yt(t,t.return,l)}}}function Og(t,n,r){r.props=aa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function oa(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Yt(t,n,f)}}function on(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function Ng(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function xg(t,n,r){try{var l=t.stateNode;nE(l,t.type,r,n),l[ve]=n}catch(c){Yt(t,t.return,c)}}function Vg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Ch(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=du));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Oh(t,n,r),t=t.sibling;t!==null;)Oh(t,n,r),t=t.sibling}function tu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(tu(t,n,r),t=t.sibling;t!==null;)tu(t,n,r),t=t.sibling}var bi=!1,le=!1,Nh=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,xe=null,Mg=!1;function V0(t,n){if(t=t.containerInfo,af=Eu,t=Zd(t),Vc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,S=-1,O=-1,P=0,Z=0,nt=t,F=null;e:for(;;){for(var $;nt!==r||c!==0&&nt.nodeType!==3||(S=_+c),nt!==f||l!==0&&nt.nodeType!==3||(O=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),($=nt.firstChild)!==null;)F=nt,nt=$;for(;;){if(nt===t)break e;if(F===r&&++P===c&&(S=_),F===f&&++Z===l&&(O=_),($=nt.nextSibling)!==null)break;nt=F,F=nt.parentNode}nt=$}r=S===-1||O===-1?null:{start:S,end:O}}else r=null}r=r||{start:0,end:0}}else r=null;for(sf={focusedElem:t,selectionRange:r},Eu=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ft=aa(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){Yt(r,r.return,At)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)cf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}return ft=Mg,Mg=!1,ft}function Ug(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(t,r),l&4&&vl(5,r);break;case 1:if(Ri(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(S){Yt(r,r.return,S)}else{var c=aa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Yt(r,r.return,S)}}l&64&&Cg(r),l&512&&oa(r,r.return);break;case 3:if(Ri(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Dg(l,t)}catch(S){Yt(r,r.return,S)}}break;case 26:Ri(t,r),l&512&&oa(r,r.return);break;case 27:case 5:Ri(t,r),n===null&&l&4&&Ng(r),l&512&&oa(r,r.return);break;case 12:Ri(t,r);break;case 13:Ri(t,r),l&4&&Lg(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||le;var f=bi,_=le;bi=c,(le=n)&&!_?hr(t,r,(r.subtreeFlags&8772)!==0):Ri(t,r),bi=f,le=_}l&512&&(r.memoizedProps.mode==="manual"?oa(r,r.return):on(r,r.return));break;default:Ri(t,r)}}function kg(t){var n=t.alternate;n!==null&&(t.alternate=null,kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Lr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,un=!1;function wi(t,n,r){for(r=r.child;r!==null;)jg(t,n,r),r=r.sibling}function jg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Bi,r)}catch{}switch(r.tag){case 26:le||on(r,n),wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:le||on(r,n);var l=ge,c=un;for(ge=r.stateNode,wi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Lr(r),ge=l,un=c;break;case 5:le||on(r,n);case 6:c=ge;var f=un;if(ge=null,wi(t,n,r),ge=c,un=f,ge!==null)if(un)try{t=ge,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Yt(r,n,_)}else try{ge.removeChild(r.stateNode)}catch(_){Yt(r,n,_)}break;case 18:ge!==null&&(un?(n=ge,r=r.stateNode,n.nodeType===8?uf(n.parentNode,r):n.nodeType===1&&uf(n,r),kl(n)):uf(ge,r.stateNode));break;case 4:l=ge,c=un,ge=r.stateNode.containerInfo,un=!0,wi(t,n,r),ge=l,un=c;break;case 0:case 11:case 14:case 15:le||cr(2,r,n),le||cr(4,r,n),wi(t,n,r);break;case 1:le||(on(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Og(r,n,l)),wi(t,n,r);break;case 21:wi(t,n,r);break;case 22:le||on(r,n),le=(l=le)||r.memoizedState!==null,wi(t,n,r),le=l;break;default:wi(t,n,r)}}function Lg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(r){Yt(n,n.return,r)}}function I0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ig),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ig),n;default:throw Error(s(435,t.tag))}}function xh(t,n){var r=I0(t);n.forEach(function(l){var c=X0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,_=n,S=_;t:for(;S!==null;){switch(S.tag){case 27:case 5:ge=S.stateNode,un=!1;break t;case 3:ge=S.stateNode.containerInfo,un=!0;break t;case 4:ge=S.stateNode.containerInfo,un=!0;break t}S=S.return}if(ge===null)throw Error(s(160));jg(f,_,c),ge=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)zg(n,t),n=n.sibling}var Un=null;function zg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),Dn(t),l&4&&(cr(3,t,t.return),vl(3,t),cr(5,t,t.return));break;case 1:Rn(n,t),Dn(t),l&512&&(le||r===null||on(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(Rn(n,t),Dn(t),l&512&&(le||r===null||on(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Qi]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,l,r),f[De]=t,ee(f),l=f;break t;case"link":var _=Np("link","href",c).get(l+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break e}}f=c.createElement(l),je(f,l,r),c.head.appendChild(f);break;case"meta":if(_=Np("meta","content",c).get(l+(r.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break e}}f=c.createElement(l),je(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,ee(f),l=f}t.stateNode=l}else xp(c,t.type,t.stateNode);else t.stateNode=Op(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?xp(c,t.type,t.stateNode):Op(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var O=c.firstChild;O;){var P=O.nextSibling,Z=O.nodeName;O[Qi]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&O.rel.toLowerCase()==="stylesheet"||c.removeChild(O),O=P}for(var nt=t.type,F=c.attributes;F.length;)c.removeAttributeNode(F[0]);je(c,nt,f),c[De]=t,c[ve]=f}catch(ft){Yt(t,t.return,ft)}}case 5:if(Rn(n,t),Dn(t),l&512&&(le||r===null||on(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(ft){Yt(t,t.return,ft)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,xg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Nh=!0);break;case 6:if(Rn(n,t),Dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ft){Yt(t,t.return,ft)}}break;case 3:if(yu=null,c=Un,Un=gu(n.containerInfo),Rn(n,t),Un=c,Dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{kl(n.containerInfo)}catch(ft){Yt(t,t.return,ft)}Nh&&(Nh=!1,Bg(t));break;case 4:l=Un,Un=gu(t.stateNode.containerInfo),Rn(n,t),Dn(t),Un=l;break;case 12:Rn(n,t),Dn(t);break;case 13:Rn(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xh(t,l)));break;case 22:if(l&512&&(le||r===null||on(r,r.return)),O=t.memoizedState!==null,P=r!==null&&r.memoizedState!==null,Z=bi,nt=le,bi=Z||O,le=nt||P,Rn(n,t),le=nt,bi=Z,Dn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=O?n._visibility&-2:n._visibility|1,O&&(n=bi||le,r===null||P||n||Ja(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){P=r=n;try{if(c=P.stateNode,O)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{_=P.stateNode,S=P.memoizedProps.style;var $=S!=null&&S.hasOwnProperty("display")?S.display:null;_.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ft){Yt(P,P.return,ft)}}}else if(n.tag===6){if(r===null){P=n;try{P.stateNode.nodeValue=O?"":P.memoizedProps}catch(ft){Yt(P,P.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,xh(t,r))));break;case 19:Rn(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xh(t,l)));break;case 21:break;default:Rn(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Vg(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var c=l.stateNode,f=Ch(t);tu(t,f,c);break;case 5:var _=l.stateNode;l.flags&32&&(yn(_,""),l.flags&=-33);var S=Ch(t);tu(t,S,_);break;case 3:case 4:var O=l.stateNode.containerInfo,P=Ch(t);Oh(t,P,O);break;default:throw Error(s(161))}}}catch(Z){Yt(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Bg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ug(t,n.alternate,n),n=n.sibling}function Ja(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:cr(4,n,n.return),Ja(n);break;case 1:on(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Og(n,n.return,r),Ja(n);break;case 26:case 27:case 5:on(n,n.return),Ja(n);break;case 22:on(n,n.return),n.memoizedState===null&&Ja(n);break;default:Ja(n)}t=t.sibling}}function hr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:hr(c,f,r),vl(4,f);break;case 1:if(hr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Yt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var S=l.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)Rg(O[c],S)}catch(P){Yt(l,l.return,P)}}r&&_&64&&Cg(f),oa(f,f.return);break;case 26:case 27:case 5:hr(c,f,r),r&&l===null&&_&4&&Ng(f),oa(f,f.return);break;case 12:hr(c,f,r);break;case 13:hr(c,f,r),r&&_&4&&Lg(c,f);break;case 22:f.memoizedState===null&&hr(c,f,r),oa(f,f.return);break;default:hr(c,f,r)}n=n.sibling}}function Vh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ol(r))}function Ih(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t))}function fr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pg(t,n,r,l),n=n.sibling}function Pg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:fr(t,n,r,l),c&2048&&vl(9,n);break;case 3:fr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ol(t)));break;case 12:if(c&2048){fr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Yt(n,n.return,O)}}else fr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?fr(t,n,r,l):_l(t,n):f._visibility&4?fr(t,n,r,l):(f._visibility|=4,ts(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Vh(n.alternate,n);break;case 24:fr(t,n,r,l),c&2048&&Ih(n.alternate,n);break;default:fr(t,n,r,l)}}function ts(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,S=r,O=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:ts(f,_,S,O,c),vl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&4?ts(f,_,S,O,c):_l(f,_):(Z._visibility|=4,ts(f,_,S,O,c)),c&&P&2048&&Vh(_.alternate,_);break;case 24:ts(f,_,S,O,c),c&&P&2048&&Ih(_.alternate,_);break;default:ts(f,_,S,O,c)}n=n.sibling}}function _l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:_l(r,l),c&2048&&Vh(l.alternate,l);break;case 24:_l(r,l),c&2048&&Ih(l.alternate,l);break;default:_l(r,l)}n=n.sibling}}var El=8192;function es(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)qg(t),t=t.sibling}function qg(t){switch(t.tag){case 26:es(t),t.flags&El&&t.memoizedState!==null&&TE(Un,t.memoizedState,t.memoizedProps);break;case 5:es(t);break;case 3:case 4:var n=Un;Un=gu(t.stateNode.containerInfo),es(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,es(t),El=n):es(t));break;default:es(t)}}function Hg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,Fg(l,t)}Hg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&cr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,eu(t)):Tl(t);break;default:Tl(t)}}function eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];xe=l,Fg(l,t)}Hg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:cr(8,n,n.return),eu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,eu(n));break;default:eu(n)}t=t.sibling}}function Fg(t,n){for(;xe!==null;){var r=xe;switch(r.tag){case 0:case 11:case 15:cr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,xe=l;else t:for(r=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(kg(l),l===r){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}function M0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,r,l){return new M0(t,n,r,l)}function Mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dr(t,n){var r=t.alternate;return r===null?(r=Cn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Xg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function nu(t,n,r,l,c,f){var _=0;if(l=t,typeof t=="function")Mh(t)&&(_=1);else if(typeof t=="string")_=_E(t,r,Qe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case y:return ua(r.children,c,f,n);case g:_=8,c|=24;break;case T:return t=Cn(12,r,n,c|2),t.elementType=T,t.lanes=f,t;case I:return t=Cn(13,r,n,c),t.elementType=I,t.lanes=f,t;case j:return t=Cn(19,r,n,c),t.elementType=j,t.lanes=f,t;case L:return Qg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case A:_=10;break t;case E:_=9;break t;case M:_=11;break t;case Y:_=14;break t;case K:_=16,l=null;break t}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Cn(_,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ua(t,n,r,l){return t=Cn(7,t,l,n),t.lanes=r,t}function Qg(t,n,r,l){t=Cn(22,t,l,n),t.elementType=L,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)===0){var _=er(f,2);_!==null&&(c._pendingVisibility|=2,We(_,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if((c._pendingVisibility&2)!==0){var _=er(f,2);_!==null&&(c._pendingVisibility&=-3,We(_,f,2))}}};return t.stateNode=c,t}function Uh(t,n,r){return t=Cn(6,t,null,n),t.lanes=r,t}function kh(t,n,r){return n=Cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vp(n)){if(n=wn.current,n!==null&&((kt&4194176)===kt?$n!==null:(kt&62914560)!==kt&&(kt&536870912)===0||n!==$n))throw al=Pc,hm;t.flags|=8192}}function iu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Hi():536870912,t.lanes|=n,is|=n)}function Al(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function U0(t,n,r){var l=n.pendingProps;switch(zc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ae),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(el(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mn!==null&&(Gh(Mn),Mn=null))),ne(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ne(n),Yg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ne(n),Yg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ne(n),n.flags&=-16777217),null;case 27:Aa(n),r=mn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=Qe.current,el(n)?um(n):(t=bp(c,l,r),n.stateNode=t,Di(n))}return ne(n),null;case 5:if(Aa(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=Qe.current,el(n))um(n);else{switch(c=mu(mn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[De]=n,t[ve]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(je(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=mn.current,el(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||vp(t.nodeValue,r)),t||Jr(n)}else t=mu(t).createTextNode(l),t[De]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[De]=n}else nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else Mn!==null&&(Gh(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),iu(n,n.updateQueue),ne(n),null;case 4:return si(),t===null&&ef(n.stateNode.containerInfo),ne(n),null;case 10:return Si(n.type),ne(n),null;case 19:if(ae(Te),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Al(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bo(t),f!==null){for(n.flags|=128,Al(c,!1),t=f.updateQueue,n.updateQueue=t,iu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Xg(r,t),r=r.sibling;return Ft(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>ru&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=Bo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,iu(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ne(n),null}else 2*Je()-c.renderingStartTime>ru&&r!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Te.current,Ft(Te,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return _i(n),Hc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&iu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ae(ea),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ae),ne(n),null;case 25:return null}throw Error(s(156,n.tag))}function k0(t,n){switch(zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ae),si(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Aa(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ae(Te),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return _i(n),Hc(),t!==null&&ae(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ae),null;case 25:return null;default:return null}}function Kg(t,n){switch(zc(n),n.tag){case 3:Si(Ae),si();break;case 26:case 27:case 5:Aa(n);break;case 4:si();break;case 13:_i(n);break;case 19:ae(Te);break;case 10:Si(n.type);break;case 22:case 23:_i(n),Hc(),t!==null&&ae(ea);break;case 24:Si(Ae)}}var j0={getCacheForType:function(t){var n=qe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},L0=typeof WeakMap=="function"?WeakMap:Map,ie=0,Kt=null,Ot=null,kt=0,$t=0,cn=null,Ci=!1,ns=!1,jh=!1,Oi=0,oe=0,mr=0,ca=0,Lh=0,On=0,is=0,Sl=null,Wn=null,zh=!1,Bh=0,ru=1/0,au=null,gr=null,su=!1,ha=null,bl=0,Ph=0,qh=null,wl=0,Hh=null;function hn(){if((ie&2)!==0&&kt!==0)return kt&-kt;if(w.T!==null){var t=Ya;return t!==0?t:Zh()}return ho()}function $g(){On===0&&(On=(kt&536870912)===0||Pt?js():536870912);var t=wn.current;return t!==null&&(t.flags|=32),On}function We(t,n,r){(t===Kt&&$t===2||t.cancelPendingCommit!==null)&&(rs(t,0),Ni(t,kt,On,!1)),ce(t,r),((ie&2)===0||t!==Kt)&&(t===Kt&&((ie&2)===0&&(ca|=r),oe===4&&Ni(t,kt,On,!1)),Jn(t))}function Zg(t,n,r){if((ie&6)!==0)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||qi(t,n),c=l?P0(t,n):Qh(t,n,!0),f=l;do{if(c===0){ns&&!l&&Ni(t,n,0,!1);break}else if(c===6)Ni(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!z0(r)){c=Qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var S=t;c=Sl;var O=S.current.memoizedState.isDehydrated;if(O&&(rs(S,_).flags|=256),_=Qh(S,_,!1),_!==2){if(jh&&!O){S.errorRecoveryDisabledLanes|=f,ca|=f,c=4;break t}f=Wn,Wn=c,f!==null&&Gh(f)}c=_}if(f=!1,c!==2)continue}}if(c===1){rs(t,0),Ni(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Ni(l,n,On,!Ci);break t}break;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Bh+300-Je(),10<f)){if(Ni(l,n,On,!Ci),gn(l,0)!==0)break t;l.timeoutHandle=Tp(Wg.bind(null,l,r,Wn,au,zh,n,On,ca,is,Ci,2,-0,0),f);break t}Wg(l,r,Wn,au,zh,n,On,ca,is,Ci,0,-0,0)}}break}while(!0);Jn(t)}function Gh(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function Wg(t,n,r,l,c,f,_,S,O,P,Z,nt,F){var $=n.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:EE},qg(n),n=AE(),n!==null)){t.cancelPendingCommit=n(ap.bind(null,t,r,l,c,_,S,O,1,nt,F)),Ni(t,f,_,!P);return}ap(t,r,l,c,_,S,O,Z,nt,F)}function z0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(t,n,r,l){n&=~Lh,n&=~ca,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),_=1<<f;l[f]=-1,c&=~_}r!==0&&Gi(t,r,n)}function lu(){return(ie&6)===0?(Rl(0),!1):!0}function Fh(){if(Ot!==null){if($t===0)var t=Ot.return;else t=Ot,Ai=sa=null,Zc(t),Xa=null,sl=0,t=Ot;for(;t!==null;)Kg(t.alternate,t),t=t.return;Ot=null}}function rs(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,rE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Fh(),Kt=t,Ot=r=dr(t.current,null),kt=n,$t=0,cn=null,Ci=!1,ns=qi(t,n),jh=!1,is=On=Lh=ca=mr=oe=0,Wn=Sl=null,zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,xo(),r}function Jg(t,n){Rt=null,w.H=Zn,n===rl?(n=mm(),$t=3):n===hm?(n=mm(),$t=4):$t=n===fg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ot===null&&(oe=1,Zo(t,An(n,t.current)))}function tp(){var t=w.H;return w.H=Zn,t===null?Zn:t}function ep(){var t=w.A;return w.A=j0,t}function Xh(){oe=4,Ci||(kt&4194176)!==kt&&wn.current!==null||(ns=!0),(mr&134217727)===0&&(ca&134217727)===0||Kt===null||Ni(Kt,kt,On,!1)}function Qh(t,n,r){var l=ie;ie|=2;var c=tp(),f=ep();(Kt!==t||kt!==n)&&(au=null,rs(t,n)),n=!1;var _=oe;t:do try{if($t!==0&&Ot!==null){var S=Ot,O=cn;switch($t){case 8:Fh(),_=6;break t;case 3:case 2:case 6:wn.current===null&&(n=!0);var P=$t;if($t=0,cn=null,as(t,S,O,P),r&&ns){_=0;break t}break;default:P=$t,$t=0,cn=null,as(t,S,O,P)}}B0(),_=oe;break}catch(Z){Jg(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Ai=sa=null,ie=l,w.H=c,w.A=f,Ot===null&&(Kt=null,kt=0,xo()),_}function B0(){for(;Ot!==null;)np(Ot)}function P0(t,n){var r=ie;ie|=2;var l=tp(),c=ep();Kt!==t||kt!==n?(au=null,ru=Je()+500,rs(t,n)):ns=qi(t,n);t:do try{if($t!==0&&Ot!==null){n=Ot;var f=cn;e:switch($t){case 1:$t=0,cn=null,as(t,n,f,1);break;case 2:if(fm(f)){$t=0,cn=null,ip(n);break}n=function(){$t===2&&Kt===t&&($t=7),Jn(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:fm(f)?($t=0,cn=null,ip(n)):($t=0,cn=null,as(t,n,f,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var S=Ot;if(!_||Vp(_)){$t=0,cn=null;var O=S.sibling;if(O!==null)Ot=O;else{var P=S.return;P!==null?(Ot=P,ou(P)):Ot=null}break e}}$t=0,cn=null,as(t,n,f,5);break;case 6:$t=0,cn=null,as(t,n,f,6);break;case 8:Fh(),oe=6;break t;default:throw Error(s(462))}}q0();break}catch(Z){Jg(t,Z)}while(!0);return Ai=sa=null,w.H=l,w.A=c,ie=r,Ot!==null?0:(Kt=null,kt=0,xo(),oe)}function q0(){for(;Ot!==null&&!Tc();)np(Ot)}function np(t){var n=bg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?ou(t):Ot=n}function ip(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=vg(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=vg(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:Zc(n);default:Kg(r,n),n=Ot=Xg(n,Oi),n=bg(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?ou(t):Ot=n}function as(t,n,r,l){Ai=sa=null,Zc(n),Xa=null,sl=0;var c=n.return;try{if(N0(t,c,n,r,kt)){oe=1,Zo(t,An(r,t.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;oe=1,Zo(t,An(r,t.current)),Ot=null;return}n.flags&32768?(Pt||l===1?t=!0:ns||(kt&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),rp(n,t)):ou(n)}function ou(t){var n=t;do{if((n.flags&32768)!==0){rp(n,Ci);return}t=n.return;var r=U0(n.alternate,n,Oi);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);oe===0&&(oe=5)}function rp(t,n){do{var r=k0(t.alternate,t);if(r!==null){r.flags&=32767,Ot=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=r}while(t!==null);oe=6,Ot=null}function ap(t,n,r,l,c,f,_,S,O,P){var Z=w.T,nt=ot.p;try{ot.p=2,w.T=null,H0(t,n,r,l,nt,c,f,_,S,O,P)}finally{w.T=Z,ot.p=nt}}function H0(t,n,r,l,c,f,_,S){do ss();while(ha!==null);if((ie&6)!==0)throw Error(s(327));var O=t.finishedWork;if(l=t.finishedLanes,O===null)return null;if(t.finishedWork=null,t.finishedLanes=0,O===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=O.lanes|O.childLanes;if(P|=kc,uo(t,l,P,f,_,S),t===Kt&&(Ot=Kt=null,kt=0),(O.subtreeFlags&10256)===0&&(O.flags&10256)===0||su||(su=!0,Ph=P,qh=r,Q0(li,function(){return ss(),null})),r=(O.flags&15990)!==0,(O.subtreeFlags&15990)!==0||r?(r=w.T,w.T=null,f=ot.p,ot.p=2,_=ie,ie|=4,V0(t,O),zg(O,t),d0(sf,t.containerInfo),Eu=!!af,sf=af=null,t.current=O,Ug(t,O.alternate,O),Is(),ie=_,ot.p=f,w.T=r):t.current=O,su?(su=!1,ha=t,bl=l):sp(t,P),P=t.pendingLanes,P===0&&(gr=null),Us(O.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,O=0;O<n.length;O++)P=n[O],c(P.value,{componentStack:P.stack});return(bl&3)!==0&&ss(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===Hh?wl++:(wl=0,Hh=t):wl=0,Rl(0),null}function sp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ol(n)))}function ss(){if(ha!==null){var t=ha,n=Ph;Ph=0;var r=co(bl),l=w.T,c=ot.p;try{if(ot.p=32>r?32:r,w.T=null,ha===null)var f=!1;else{r=qh,qh=null;var _=ha,S=bl;if(ha=null,bl=0,(ie&6)!==0)throw Error(s(331));var O=ie;if(ie|=4,Gg(_.current),Pg(_,_.current,S,r),ie=O,Rl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Bi,_)}catch{}f=!0}return f}finally{ot.p=c,w.T=l,sp(t,n)}}return!1}function lp(t,n,r){n=An(r,n),n=hh(t.stateNode,n,2),t=ur(t,n,2),t!==null&&(ce(t,2),Jn(t))}function Yt(t,n,r){if(t.tag===3)lp(t,t,r);else for(;n!==null;){if(n.tag===3){lp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gr===null||!gr.has(l))){t=An(r,t),r=cg(2),l=ur(n,r,2),l!==null&&(hg(r,l,n,t),ce(l,2),Jn(l));break}}n=n.return}}function Yh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new L0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(jh=!0,c.add(r),t=G0.bind(null,t,n,r),n.then(t,t))}function G0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(kt&r)===r&&(oe===4||oe===3&&(kt&62914560)===kt&&300>Je()-Bh?(ie&2)===0&&rs(t,0):Lh|=r,is===kt&&(is=0)),Jn(t)}function op(t,n){n===0&&(n=Hi()),t=er(t,n),t!==null&&(ce(t,n),Jn(t))}function F0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),op(t,r)}function X0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),op(t,r)}function Q0(t,n){return Ur(t,n)}var uu=null,ls=null,Kh=!1,cu=!1,$h=!1,fa=0;function Jn(t){t!==ls&&t.next===null&&(ls===null?uu=ls=t:ls=ls.next=t),cu=!0,Kh||(Kh=!0,K0(Y0))}function Rl(t,n){if(!$h&&cu){$h=!0;do for(var r=!1,l=uu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(_&~S),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,hp(l,f))}else f=kt,f=gn(l,l===Kt?f:0),(f&3)===0||qi(l,f)||(r=!0,hp(l,f));l=l.next}while(r);$h=!1}}function Y0(){cu=Kh=!1;var t=0;fa!==0&&(iE()&&(t=fa),fa=0);for(var n=Je(),r=null,l=uu;l!==null;){var c=l.next,f=up(l,n);f===0?(l.next=null,r===null?uu=c:r.next=c,c===null&&(ls=r)):(r=l,(t!==0||(f&3)!==0)&&(cu=!0)),l=c}Rl(t)}function up(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Ye(f),S=1<<_,O=c[_];O===-1?((S&r)===0||(S&l)!==0)&&(c[_]=wa(S,n)):O<=n&&(t.expiredLanes|=S),f&=~S}if(n=Kt,r=kt,r=gn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ba(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||qi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ba(l),co(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Ms;break;default:r=li}return l=cp.bind(null,t),r=Ur(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ba(l),t.callbackPriority=2,t.callbackNode=null,2}function cp(t,n){var r=t.callbackNode;if(ss()&&t.callbackNode!==r)return null;var l=kt;return l=gn(t,t===Kt?l:0),l===0?null:(Zg(t,l,n),up(t,Je()),t.callbackNode!=null&&t.callbackNode===r?cp.bind(null,t):null)}function hp(t,n){if(ss())return null;Zg(t,n,!0)}function K0(t){aE(function(){(ie&6)!==0?Ur(ye,t):t()})}function Zh(){return fa===0&&(fa=js()),fa}function fp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function dp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=fp((c[ve]||null).action),_=l.submitter;_&&(n=(n=_[ve]||null)?fp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var S=new Va("action","action",null,l,c);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var O=_?dp(c,_):new FormData(c);sh(r,{pending:!0,data:O,method:c.method,action:f},null,O)}}else typeof f=="function"&&(S.preventDefault(),O=_?dp(c,_):new FormData(c),sh(r,{pending:!0,data:O,method:c.method,action:f},f,O))},currentTarget:c}]})}}for(var Wh=0;Wh<am.length;Wh++){var Jh=am[Wh],Z0=Jh.toLowerCase(),W0=Jh[0].toUpperCase()+Jh.slice(1);In(Z0,"on"+W0)}In(tm,"onAnimationEnd"),In(em,"onAnimationIteration"),In(nm,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(g0,"onTransitionRun"),In(p0,"onTransitionStart"),In(y0,"onTransitionCancel"),In(im,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function mp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var S=l[_],O=S.instance,P=S.currentTarget;if(S=S.listener,O!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=P;try{f(c)}catch(Z){$o(Z)}c.currentTarget=null,f=O}else for(_=0;_<l.length;_++){if(S=l[_],O=S.instance,P=S.currentTarget,S=S.listener,O!==f&&c.isPropagationStopped())break t;f=S,c.currentTarget=P;try{f(c)}catch(Z){$o(Z)}c.currentTarget=null,f=O}}}}function Vt(t,n){var r=n[jr];r===void 0&&(r=n[jr]=new Set);var l=t+"__bubble";r.has(l)||(gp(n,t,2,!1),r.add(l))}function tf(t,n,r){var l=0;n&&(l|=4),gp(r,t,l,n)}var hu="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[hu]){t[hu]=!0,zs.forEach(function(r){r!=="selectionchange"&&(J0.has(r)||tf(r,!1,t),tf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hu]||(n[hu]=!0,tf("selectionchange",!1,n))}}function gp(t,n,r,l){switch(Lp(n)){case 2:var c=wE;break;case 8:c=RE;break;default:c=gf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function nf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===c||S.nodeType===8&&S.parentNode===c)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===c||O.nodeType===8&&O.parentNode===c))return;_=_.return}for(;S!==null;){if(_=Vn(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=f=_;continue t}S=S.parentNode}}l=l.return}po(function(){var P=f,Z=xa(r),nt=[];t:{var F=rm.get(t);if(F!==void 0){var $=Va,ft=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":$=La;break;case"focusin":ft="focus",$=Ua;break;case"focusout":ft="blur",$=Ua;break;case"beforeblur":case"afterblur":$=Ua;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=bo;break;case tm:case em:case nm:$=ka;break;case im:$=Ro;break;case"scroll":case"scrollend":$=yo;break;case"wheel":$=za;break;case"copy":case"cut":case"paste":$=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Zs;break;case"toggle":case"beforetoggle":$=Co}var At=(n&4)!==0,ue=!At&&(t==="scroll"||t==="scrollend"),q=At?F!==null?F+"Capture":null:F;At=[];for(var z=P,G;z!==null;){var J=z;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||q===null||(J=qr(z,q),J!=null&&At.push(Cl(z,J,G))),ue)break;z=z.return}0<At.length&&(F=new $(F,ft,null,r,Z),nt.push({event:F,listeners:At}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",F&&r!==vn&&(ft=r.relatedTarget||r.fromElement)&&(Vn(ft)||ft[oi]))break t;if(($||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,$?(ft=r.relatedTarget||r.toElement,$=P,ft=ft?Vn(ft):null,ft!==null&&(ue=dt(ft),At=ft.tag,ft!==ue||At!==5&&At!==27&&At!==6)&&(ft=null)):($=null,ft=P),$!==ft)){if(At=En,J="onMouseLeave",q="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(At=Zs,J="onPointerLeave",q="onPointerEnter",z="pointer"),ue=$==null?F:Yi($),G=ft==null?F:Yi(ft),F=new At(J,z+"leave",$,r,Z),F.target=ue,F.relatedTarget=G,J=null,Vn(Z)===P&&(At=new At(q,z+"enter",ft,r,Z),At.target=G,At.relatedTarget=ue,J=At),ue=J,$&&ft)e:{for(At=$,q=ft,z=0,G=At;G;G=os(G))z++;for(G=0,J=q;J;J=os(J))G++;for(;0<z-G;)At=os(At),z--;for(;0<G-z;)q=os(q),G--;for(;z--;){if(At===q||q!==null&&At===q.alternate)break e;At=os(At),q=os(q)}At=null}else At=null;$!==null&&pp(nt,F,$,At,!1),ft!==null&&ue!==null&&pp(nt,ue,ft,At,!0)}}t:{if(F=P?Yi(P):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var ct=Hd;else if(Ee(F))if(Gd)ct=h0;else{ct=u0;var Ct=o0}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&Gs(P.elementType)&&(ct=Hd):ct=c0;if(ct&&(ct=ct(t,P))){pi(nt,ct,r,Z);break t}Ct&&Ct(t,F,P),t==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&Na(F,"number",F.value)}switch(Ct=P?Yi(P):window,t){case"focusin":(Ee(Ct)||Ct.contentEditable==="true")&&(Ba=Ct,Ic=P,tl=null);break;case"focusout":tl=Ic=Ba=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,Wd(nt,r,Z);break;case"selectionchange":if(m0)break;case"keydown":case"keyup":Wd(nt,r,Z)}var gt;if(Qn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Mt?Q(t,r)&&(vt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(vt="onCompositionStart");vt&&(v&&r.locale!=="ko"&&(Mt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Mt&&(gt=Xs()):(Hn=Z,tr="value"in Hn?Hn.value:Hn.textContent,Mt=!0)),Ct=fu(P,vt),0<Ct.length&&(vt=new Ks(vt,t,null,r,Z),nt.push({event:vt,listeners:Ct}),gt?vt.data=gt:(gt=at(r),gt!==null&&(vt.data=gt)))),(gt=m?_e(t,r):Ut(t,r))&&(vt=fu(P,"onBeforeInput"),0<vt.length&&(Ct=new Ks("onBeforeInput","beforeinput",null,r,Z),nt.push({event:Ct,listeners:vt}),Ct.data=gt)),$0(nt,t,P,r,Z)}mp(nt,n)})}function Cl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function fu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qr(t,r),c!=null&&l.unshift(Cl(t,c,f)),c=qr(t,n),c!=null&&l.push(Cl(t,c,f))),t=t.return}return l}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pp(t,n,r,l,c){for(var f=n._reactName,_=[];r!==null&&r!==l;){var S=r,O=S.alternate,P=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||P===null||(O=P,c?(P=qr(r,f),P!=null&&_.unshift(Cl(r,P,O))):c||(P=qr(r,f),P!=null&&_.push(Cl(r,P,O)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var tE=/\r\n?/g,eE=/\u0000|\uFFFD/g;function yp(t){return(typeof t=="string"?t:""+t).replace(tE,`
`).replace(eE,"")}function vp(t,n){return n=yp(n),yp(t)===n}function du(){}function Qt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Zi(t,"class",l);break;case"tabIndex":Zi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(t,r,l);break;case"style":go(t,l,f);break;case"data":if(n!=="object"){Zi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=du);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),$i(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Rc.get(r)||r,$i(t,r,l))}}function rf(t,n,r,l,c,f){switch(r){case"style":go(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):$i(t,r,l)}}}function je(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,f,_,r,null)}}c&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var S=f=_=c=null,O=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Z=r[l];if(Z!=null)switch(l){case"name":c=Z;break;case"type":_=Z;break;case"checked":O=Z;break;case"defaultChecked":P=Z;break;case"value":f=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Qt(t,n,l,Z,r,null)}}Br(t,f,S,O,P,_,c,!1),zr(t);return;case"select":Vt("invalid",t),l=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(S=r[c],S!=null))switch(c){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Qt(t,n,c,S,r,null)}n=f,r=_,t.multiple=!!l,n!=null?Bt(t,!!l,n,!1):r!=null&&Bt(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":c=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Qt(t,n,_,S,r,null)}Ji(t,l,c,f),zr(t);return;case"option":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,O,l,r,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Vt(Dl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,P,l,r,null)}return;default:if(Gs(n)){for(Z in r)r.hasOwnProperty(Z)&&(l=r[Z],l!==void 0&&rf(t,n,Z,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&Qt(t,n,S,l,r,null))}function nE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,S=null,O=null,P=null,Z=null;for($ in r){var nt=r[$];if(r.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=nt;default:l.hasOwnProperty($)||Qt(t,n,$,null,l,nt)}}for(var F in l){var $=l[F];if(nt=r[F],l.hasOwnProperty(F)&&($!=null||nt!=null))switch(F){case"type":f=$;break;case"name":c=$;break;case"checked":P=$;break;case"defaultChecked":Z=$;break;case"value":_=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$!==nt&&Qt(t,n,F,$,l,nt)}}Wi(t,_,S,O,P,Z,f,c);return;case"select":$=_=S=F=null;for(f in r)if(O=r[f],r.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":$=O;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,O)}for(c in l)if(f=l[c],O=r[c],l.hasOwnProperty(c)&&(f!=null||O!=null))switch(c){case"value":F=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==O&&Qt(t,n,c,f,l,O)}n=S,r=_,l=$,F!=null?Bt(t,!!r,F,!1):!!l!=!!r&&(n!=null?Bt(t,!!r,n,!0):Bt(t,!!r,r?[]:"",!1));return;case"textarea":$=F=null;for(S in r)if(c=r[S],r.hasOwnProperty(S)&&c!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Qt(t,n,S,null,l,c)}for(_ in l)if(c=l[_],f=r[_],l.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":F=c;break;case"defaultValue":$=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Qt(t,n,_,c,l,f)}Pr(t,F,$);return;case"option":for(var ft in r)if(F=r[ft],r.hasOwnProperty(ft)&&F!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Qt(t,n,ft,null,l,F)}for(O in l)if(F=l[O],$=r[O],l.hasOwnProperty(O)&&F!==$&&(F!=null||$!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Qt(t,n,O,F,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in r)F=r[At],r.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At)&&Qt(t,n,At,null,l,F);for(P in l)if(F=l[P],$=r[P],l.hasOwnProperty(P)&&F!==$&&(F!=null||$!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Qt(t,n,P,F,l,$)}return;default:if(Gs(n)){for(var ue in r)F=r[ue],r.hasOwnProperty(ue)&&F!==void 0&&!l.hasOwnProperty(ue)&&rf(t,n,ue,void 0,l,F);for(Z in l)F=l[Z],$=r[Z],!l.hasOwnProperty(Z)||F===$||F===void 0&&$===void 0||rf(t,n,Z,F,l,$);return}}for(var q in r)F=r[q],r.hasOwnProperty(q)&&F!=null&&!l.hasOwnProperty(q)&&Qt(t,n,q,null,l,F);for(nt in l)F=l[nt],$=r[nt],!l.hasOwnProperty(nt)||F===$||F==null&&$==null||Qt(t,n,nt,F,l,$)}var af=null,sf=null;function mu(t){return t.nodeType===9?t:t.ownerDocument}function _p(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ep(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var of=null;function iE(){var t=window.event;return t&&t.type==="popstate"?t===of?!1:(of=t,!0):(of=null,!1)}var Tp=typeof setTimeout=="function"?setTimeout:void 0,rE=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(t){return Ap.resolve(null).then(t).catch(sE)}:Tp;function sE(t){setTimeout(function(){throw t})}function uf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),kl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);kl(n)}function cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":cf(r),Lr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function lE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Qi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function oE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Sp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function bp(t,n,r){switch(n=mu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Nn=new Map,wp=new Set;function gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var xi=ot.d;ot.d={f:uE,r:cE,D:hE,C:fE,L:dE,m:mE,X:pE,S:gE,M:yE};function uE(){var t=xi.f(),n=lu();return t||n}function cE(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?Wm(n):xi.r(t)}var us=typeof document>"u"?null:document;function Rp(t,n,r){var l=us;if(l&&typeof n=="string"&&n){var c=se(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),wp.has(c)||(wp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),je(n,"link",t),ee(n),l.head.appendChild(n)))}}function hE(t){xi.D(t),Rp("dns-prefetch",t,null)}function fE(t,n){xi.C(t,n),Rp("preconnect",t,n)}function dE(t,n,r){xi.L(t,n,r);var l=us;if(l&&t&&n){var c='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+se(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+se(r.imageSizes)+'"]')):c+='[href="'+se(t)+'"]';var f=c;switch(n){case"style":f=cs(t);break;case"script":f=hs(t)}Nn.has(f)||(t=V({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ol(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),je(n,"link",t),ee(n),l.head.appendChild(n)))}}function mE(t,n){xi.m(t,n);var r=us;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+se(l)+'"][href="'+se(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hs(t)}if(!Nn.has(f)&&(t=V({rel:"modulepreload",href:t},n),Nn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Nl(f)))return}l=r.createElement("link"),je(l,"link",t),ee(l),r.head.appendChild(l)}}}function gE(t,n,r){xi.S(t,n,r);var l=us;if(l&&t){var c=Ki(l).hoistableStyles,f=cs(t);n=n||"default";var _=c.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ol(f)))S.loading=5;else{t=V({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Nn.get(f))&&hf(t,r);var O=_=l.createElement("link");ee(O),je(O,"link",t),O._p=new Promise(function(P,Z){O.onload=P,O.onerror=Z}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,pu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:S},c.set(f,_)}}}function pE(t,n){xi.X(t,n);var r=us;if(r&&t){var l=Ki(r).hoistableScripts,c=hs(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=V({src:t,async:!0},n),(n=Nn.get(c))&&ff(t,n),f=r.createElement("script"),ee(f),je(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yE(t,n){xi.M(t,n);var r=us;if(r&&t){var l=Ki(r).hoistableScripts,c=hs(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=V({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&ff(t,n),f=r.createElement("script"),ee(f),je(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Dp(t,n,r,l){var c=(c=mn.current)?gu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=cs(r.href),r=Ki(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=cs(r.href);var f=Ki(c).hoistableStyles,_=f.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=c.querySelector(Ol(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Nn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(t,r),f||vE(c,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hs(r),r=Ki(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function cs(t){return'href="'+se(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Cp(t){return V({},t,{"data-precedence":t.precedence,precedence:null})}function vE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",r),ee(n),t.head.appendChild(n))}function hs(t){return'[src="'+se(t)+'"]'}function Nl(t){return"script[async]"+t}function Op(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+se(r.href)+'"]');if(l)return n.instance=l,ee(l),l;var c=V({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ee(l),je(l,"style",c),pu(l,r.precedence,t),n.instance=l;case"stylesheet":c=cs(r.href);var f=t.querySelector(Ol(c));if(f)return n.state.loading|=4,n.instance=f,ee(f),f;l=Cp(r),(c=Nn.get(c))&&hf(l,c),f=(t.ownerDocument||t).createElement("link"),ee(f);var _=f;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),je(f,"link",l),n.state.loading|=4,pu(f,r.precedence,t),n.instance=f;case"script":return f=hs(r.src),(c=t.querySelector(Nl(f)))?(n.instance=c,ee(c),c):(l=r,(c=Nn.get(f))&&(l=V({},r),ff(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ee(c),je(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pu(l,r.precedence,t));return n.instance}function pu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===n)f=S;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yu=null;function Np(t,n,r){if(yu===null){var l=new Map,c=yu=new Map;c.set(r,l)}else c=yu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Qi]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function xp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function _E(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function EE(){}function TE(t,n,r){if(xl===null)throw Error(s(475));var l=xl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=cs(r.href),f=t.querySelector(Ol(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ee(f);return}f=t.ownerDocument||t,r=Cp(r),(c=Nn.get(c))&&hf(r,c),f=f.createElement("link"),ee(f);var _=f;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),je(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=vu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function AE(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&df(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&df(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function vu(){if(this.count--,this.count===0){if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _u=null;function df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_u=new Map,n.forEach(SE,t),_u=null,vu.call(t))}function SE(t,n){if(!(n.state.loading&4)){var r=_u.get(t);if(r)var l=r.get(null);else{r=new Map,_u.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||l,f===l&&r.set(null,c),r.set(_,c),this.count++,l=vu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Vl={$$typeof:A,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function bE(t,n,r,l,c,f,_,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Ip(t,n,r,l,c,f,_,S,O,P,Z,nt){return t=new bE(t,n,r,_,S,O,P,nt),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),t.current=f,f.stateNode=t,n=Gc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},bh(f),t}function Mp(t){return t?(t=Ha,t):Ha}function Up(t,n,r,l,c,f){c=Mp(c),l.context===null?l.context=c:l.pendingContext=c,l=or(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ur(t,l,n),r!==null&&(We(r,t,n),gl(r,t,n))}function kp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function mf(t,n){kp(t,n),(t=t.alternate)&&kp(t,n)}function jp(t){if(t.tag===13){var n=er(t,67108864);n!==null&&We(n,t,67108864),mf(t,67108864)}}var Eu=!0;function wE(t,n,r,l){var c=w.T;w.T=null;var f=ot.p;try{ot.p=2,gf(t,n,r,l)}finally{ot.p=f,w.T=c}}function RE(t,n,r,l){var c=w.T;w.T=null;var f=ot.p;try{ot.p=8,gf(t,n,r,l)}finally{ot.p=f,w.T=c}}function gf(t,n,r,l){if(Eu){var c=pf(l);if(c===null)nf(t,n,l,Tu,r),zp(t,l);else if(CE(c,t,n,r,l))l.stopPropagation();else if(zp(t,l),n&4&&-1<DE.indexOf(t)){for(;c!==null;){var f=ui(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=xn(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-Ye(_);S.entanglements[1]|=O,_&=~O}Jn(f),(ie&6)===0&&(ru=Je()+500,Rl(0))}}break;case 13:S=er(f,2),S!==null&&We(S,f,2),lu(),mf(f,2)}if(f=pf(l),f===null&&nf(t,n,l,Tu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else nf(t,n,l,null,r)}}function pf(t){return t=xa(t),yf(t)}var Tu=null;function yf(t){if(Tu=null,t=Vn(t),t!==null){var n=dt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=zt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tu=t,null}function Lp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ao()){case ye:return 2;case Re:return 8;case li:case so:return 32;case Ms:return 268435456;default:return 32}default:return 32}}var vf=!1,pr=null,yr=null,vr=null,Il=new Map,Ml=new Map,_r=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(t,n){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Ul(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&jp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function CE(t,n,r,l,c){switch(n){case"focusin":return pr=Ul(pr,t,n,r,l,c),!0;case"dragenter":return yr=Ul(yr,t,n,r,l,c),!0;case"mouseover":return vr=Ul(vr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Il.set(f,Ul(Il.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,Ul(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function Bp(t){var n=Vn(t.target);if(n!==null){var r=dt(n);if(r!==null){if(n=r.tag,n===13){if(n=zt(r),n!==null){t.blockedOn=n,Xi(t.priority,function(){if(r.tag===13){var l=hn(),c=er(r,l);c!==null&&We(c,r,l),mf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Au(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=pf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);vn=l,r.target.dispatchEvent(l),vn=null}else return n=ui(r),n!==null&&jp(n),t.blockedOn=r,!1;n.shift()}return!0}function Pp(t,n,r){Au(t)&&r.delete(n)}function OE(){vf=!1,pr!==null&&Au(pr)&&(pr=null),yr!==null&&Au(yr)&&(yr=null),vr!==null&&Au(vr)&&(vr=null),Il.forEach(Pp),Ml.forEach(Pp)}function Su(t,n){t.blockedOn===n&&(t.blockedOn=null,vf||(vf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,OE)))}var bu=null;function qp(t){bu!==t&&(bu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){bu===t&&(bu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(yf(l||r)===null)continue;break}var f=ui(r);f!==null&&(t.splice(n,3),n-=3,sh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function kl(t){function n(O){return Su(O,t)}pr!==null&&Su(pr,t),yr!==null&&Su(yr,t),vr!==null&&Su(vr,t),Il.forEach(n),Ml.forEach(n);for(var r=0;r<_r.length;r++){var l=_r[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_r.length&&(r=_r[0],r.blockedOn===null);)Bp(r),r.blockedOn===null&&_r.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],_=c[ve]||null;if(typeof f=="function")_||qp(r);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[ve]||null)S=_.formAction;else if(yf(c)!==null)continue}else S=_.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),qp(r)}}}function _f(t){this._internalRoot=t}wu.prototype.render=_f.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();Up(r,l,t,n,null,null)},wu.prototype.unmount=_f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ss(),Up(t.current,2,null,t,null,null),lu(),n[oi]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ho();t={blockedOn:null,target:t,priority:n};for(var r=0;r<_r.length&&n!==0&&n<_r[r].priority;r++);_r.splice(r,0,t),r===0&&Bp(t)}};var Hp=e.version;if(Hp!=="19.0.0")throw Error(s(527,Hp,"19.0.0"));ot.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=rt(n),t=t!==null?ht(t):null,t=t===null?null:t.stateNode,t};var NE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Bi=Ru.inject(NE),Pe=Ru}catch{}}return Ll.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=sg,f=lg,_=og,S=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Ip(t,1,!1,null,null,r,l,c,f,_,S,null),t[oi]=n.current,ef(t.nodeType===8?t.parentNode:t),new _f(n)},Ll.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=sg,_=lg,S=og,O=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(O=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Ip(t,1,!0,n,r??null,l,c,f,_,S,O,P),n.context=Mp(null),r=n.current,l=hn(),c=or(l),c.callback=null,ur(r,c,l),n.current.lanes=l,ce(n,l),Jn(n),t[oi]=n.current,ef(t),new wu(n)},Ll.version="19.0.0",Ll}var Jp;function PE(){if(Jp)return Af.exports;Jp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Af.exports=BE(),Af.exports}var qE=PE(),mv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ty=ya.createContext&&ya.createContext(mv),HE=["attr","size","title"];function GE(a,e){if(a==null)return{};var i=FE(a,e),s,o;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(o=0;o<h.length;o++)s=h[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function FE(a,e){if(a==null)return{};var i={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(e.indexOf(s)>=0)continue;i[s]=a[s]}return i}function Lu(){return Lu=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},Lu.apply(this,arguments)}function ey(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function zu(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(i),!0).forEach(function(s){XE(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):ey(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}function XE(a,e,i){return e=QE(e),e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function QE(a){var e=YE(a,"string");return typeof e=="symbol"?e:e+""}function YE(a,e){if(typeof a!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function gv(a){return a&&a.map((e,i)=>ya.createElement(e.tag,zu({key:i},e.attr),gv(e.child)))}function ji(a){return e=>ya.createElement(KE,Lu({attr:zu({},a.attr)},e),gv(a.child))}function KE(a){var e=i=>{var{attr:s,size:o,title:h}=a,d=GE(a,HE),p=o||i.size||"1em",y;return i.className&&(y=i.className),a.className&&(y=(y?y+" ":"")+a.className),ya.createElement("svg",Lu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,d,{className:y,style:zu(zu({color:a.color||i.color},i.style),a.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),h&&ya.createElement("title",null,h),a.children)};return ty!==void 0?ya.createElement(ty.Consumer,null,i=>e(i)):e(mv)}function $E(a){return ji({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"},child:[]}]})(a)}function ZE(a){return ji({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(a)}function WE(a){return ji({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"},child:[]}]})(a)}function kf(a){return ji({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0C139 0 96 43 96 96l0 160c0 53 43 96 96 96s96-43 96-96l0-160c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 89.1 66.2 162.7 152 174.4l0 33.6-48 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l72 0 72 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-48 0 0-33.6c85.8-11.7 152-85.3 152-174.4l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c0 70.7-57.3 128-128 128s-128-57.3-128-128l0-40z"},child:[]}]})(a)}async function nc(){return new Promise((a,e)=>{var i;if((i=chrome==null?void 0:chrome.storage)!=null&&i.sync)chrome.storage.sync.get("userId",s=>{if(chrome.runtime.lastError)e(chrome.runtime.lastError);else if(s.userId)a(s.userId);else{const o=crypto.randomUUID();chrome.storage.sync.set({userId:o},()=>{chrome.runtime.lastError?e(chrome.runtime.lastError):a(o)})}});else{let s=localStorage.getItem("userId");s||(s=crypto.randomUUID(),localStorage.setItem("userId",s)),a(s)}})}const JE=()=>{};var ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},t1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],p=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,p=d?a[o+1]:0,y=o+2<a.length,g=y?a[o+2]:0,T=h>>2,R=(h&3)<<4|p>>4;let E=(p&15)<<2|g>>6,A=g&63;y||(A=64,d||(E=64)),s.push(i[T],i[R],i[E],i[A])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(pv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):t1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const g=o<a.length?i[a.charAt(o)]:64;++o;const R=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||p==null||g==null||R==null)throw new e1;const E=h<<2|p>>4;if(s.push(E),g!==64){const A=p<<4&240|g>>2;if(s.push(A),R!==64){const M=g<<6&192|R;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class e1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n1=function(a){const e=pv(a);return yv.encodeByteArray(e,!0)},Bu=function(a){return n1(a).replace(/\./g,"")},i1=function(a){try{return yv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=()=>r1().__FIREBASE_DEFAULTS__,s1=()=>{if(typeof process>"u"||typeof ny>"u")return;const a=ny.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},l1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&i1(a[1]);return e&&JSON.parse(e)},sd=()=>{try{return JE()||a1()||s1()||l1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},o1=a=>{var e,i;return(i=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},u1=a=>{const e=o1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},vv=()=>{var a;return(a=sd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Bu(JSON.stringify(i)),Bu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){var a;const e=(a=sd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m1(){return!d1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g1(){try{return typeof indexedDB=="object"}catch{return!1}}function p1(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="FirebaseError";class Rs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=y1,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_v.prototype.create)}}class _v{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?v1(h,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,p,s)}}function v1(a,e){return a.replace(_1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _1=/\{\$([^}]+)}/g;function Pu(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(iy(h)&&iy(d)){if(!Pu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function iy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(a){return a&&a._delegate?a._delegate:a}class Ql{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new c1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A1(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:T1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T1(a){return a===ma?void 0:a}function A1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new E1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const b1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},w1=Lt.INFO,R1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},D1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=R1[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ev{constructor(e){this.name=e,this._logLevel=w1,this._logHandler=D1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const C1=(a,e)=>e.some(i=>a instanceof i);let ry,ay;function O1(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N1(){return ay||(ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tv=new WeakMap,jf=new WeakMap,Av=new WeakMap,Rf=new WeakMap,ld=new WeakMap;function x1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ar(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Tv.set(i,a)}).catch(()=>{}),ld.set(e,a),e}function V1(a){if(jf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});jf.set(a,e)}let Lf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return jf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Av.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ar(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function I1(a){Lf=a(Lf)}function M1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Df(this),e,...i);return Av.set(s,e.sort?e.sort():[e]),Ar(s)}:N1().includes(a)?function(...e){return a.apply(Df(this),e),Ar(Tv.get(this))}:function(...e){return Ar(a.apply(Df(this),e))}}function U1(a){return typeof a=="function"?M1(a):(a instanceof IDBTransaction&&V1(a),C1(a,O1())?new Proxy(a,Lf):a)}function Ar(a){if(a instanceof IDBRequest)return x1(a);if(Rf.has(a))return Rf.get(a);const e=U1(a);return e!==a&&(Rf.set(a,e),ld.set(e,a)),e}const Df=a=>ld.get(a);function k1(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),p=Ar(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Ar(d.result),y.oldVersion,y.newVersion,Ar(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const j1=["get","getKey","getAll","getAllKeys","count"],L1=["put","add","delete","clear"],Cf=new Map;function sy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=L1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||j1.includes(i)))return;const h=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),o&&y.done]))[0]};return Cf.set(e,h),h}I1(a=>({...a,get:(e,i,s)=>sy(e,i)||a.get(e,i,s),has:(e,i)=>!!sy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(B1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function B1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zf="@firebase/app",ly="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Ev("@firebase/app"),P1="@firebase/app-compat",q1="@firebase/analytics-compat",H1="@firebase/analytics",G1="@firebase/app-check-compat",F1="@firebase/app-check",X1="@firebase/auth",Q1="@firebase/auth-compat",Y1="@firebase/database",K1="@firebase/data-connect",$1="@firebase/database-compat",Z1="@firebase/functions",W1="@firebase/functions-compat",J1="@firebase/installations",tT="@firebase/installations-compat",eT="@firebase/messaging",nT="@firebase/messaging-compat",iT="@firebase/performance",rT="@firebase/performance-compat",aT="@firebase/remote-config",sT="@firebase/remote-config-compat",lT="@firebase/storage",oT="@firebase/storage-compat",uT="@firebase/firestore",cT="@firebase/vertexai",hT="@firebase/firestore-compat",fT="firebase",dT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",mT={[zf]:"fire-core",[P1]:"fire-core-compat",[H1]:"fire-analytics",[q1]:"fire-analytics-compat",[F1]:"fire-app-check",[G1]:"fire-app-check-compat",[X1]:"fire-auth",[Q1]:"fire-auth-compat",[Y1]:"fire-rtdb",[K1]:"fire-data-connect",[$1]:"fire-rtdb-compat",[Z1]:"fire-fn",[W1]:"fire-fn-compat",[J1]:"fire-iid",[tT]:"fire-iid-compat",[eT]:"fire-fcm",[nT]:"fire-fcm-compat",[iT]:"fire-perf",[rT]:"fire-perf-compat",[aT]:"fire-rc",[sT]:"fire-rc-compat",[lT]:"fire-gcs",[oT]:"fire-gcs-compat",[uT]:"fire-fst",[hT]:"fire-fst-compat",[cT]:"fire-vertex","fire-js":"fire-js",[fT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,gT=new Map,Pf=new Map;function oy(a,e){try{a.container.addComponent(e)}catch(i){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Hu(a){const e=a.name;if(Pf.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,a);for(const i of qu.values())oy(i,a);for(const i of gT.values())oy(i,a);return!0}function pT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function yT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new _v("app","Firebase",vT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=dT;function Sv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Sr.create("bad-app-name",{appName:String(o)});if(i||(i=vv()),!i)throw Sr.create("no-options");const h=qu.get(o);if(h){if(Pu(i,h.options)&&Pu(s,h.config))return h;throw Sr.create("duplicate-app",{appName:o})}const d=new S1(o);for(const y of Pf.values())d.addComponent(y);const p=new _T(i,s,d);return qu.set(o,p),p}function TT(a=Bf){const e=qu.get(a);if(!e&&a===Bf&&vv())return Sv();if(!e)throw Sr.create("no-app",{appName:a});return e}function ys(a,e,i){var s;let o=(s=mT[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${o}" with version "${e}":`];h&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(p.join(" "));return}Hu(new Ql(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebase-heartbeat-database",ST=1,Yl="firebase-heartbeat-store";let Of=null;function bv(){return Of||(Of=k1(AT,ST,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Sr.create("idb-open",{originalErrorMessage:a.message})})),Of}async function bT(a){try{const i=(await bv()).transaction(Yl),s=await i.objectStore(Yl).get(wv(a));return await i.done,s}catch(e){if(e instanceof Rs)Ii.warn(e.message);else{const i=Sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(i.message)}}}async function uy(a,e){try{const s=(await bv()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,wv(a)),await s.done}catch(i){if(i instanceof Rs)Ii.warn(i.message);else{const s=Sr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ii.warn(s.message)}}}function wv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=1024,RT=30;class DT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new OT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=cy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>RT){const d=NT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ii.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=cy(),{heartbeatsToSend:s,unsentEntries:o}=CT(this._heartbeatsCache.heartbeats),h=Bu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ii.warn(i),""}}}function cy(){return new Date().toISOString().substring(0,10)}function CT(a,e=wT){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),hy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),hy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class OT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g1()?p1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hy(a){return Bu(JSON.stringify({version:2,heartbeats:a})).length}function NT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(a){Hu(new Ql("platform-logger",e=>new z1(e),"PRIVATE")),Hu(new Ql("heartbeat",e=>new DT(e),"PRIVATE")),ys(zf,ly,a),ys(zf,ly,"esm2017"),ys("fire-js","")}xT("");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,Rv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,D){function w(){}w.prototype=D.prototype,C.D=D.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(V,U,B){for(var N=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)N[Zt-2]=arguments[Zt];return D.prototype[U].apply(V,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,D,w){w||(w=0);var V=Array(16);if(typeof D=="string")for(var U=0;16>U;++U)V[U]=D.charCodeAt(w++)|D.charCodeAt(w++)<<8|D.charCodeAt(w++)<<16|D.charCodeAt(w++)<<24;else for(U=0;16>U;++U)V[U]=D[w++]|D[w++]<<8|D[w++]<<16|D[w++]<<24;D=C.g[0],w=C.g[1],U=C.g[2];var B=C.g[3],N=D+(B^w&(U^B))+V[0]+3614090360&4294967295;D=w+(N<<7&4294967295|N>>>25),N=B+(U^D&(w^U))+V[1]+3905402710&4294967295,B=D+(N<<12&4294967295|N>>>20),N=U+(w^B&(D^w))+V[2]+606105819&4294967295,U=B+(N<<17&4294967295|N>>>15),N=w+(D^U&(B^D))+V[3]+3250441966&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(B^w&(U^B))+V[4]+4118548399&4294967295,D=w+(N<<7&4294967295|N>>>25),N=B+(U^D&(w^U))+V[5]+1200080426&4294967295,B=D+(N<<12&4294967295|N>>>20),N=U+(w^B&(D^w))+V[6]+2821735955&4294967295,U=B+(N<<17&4294967295|N>>>15),N=w+(D^U&(B^D))+V[7]+4249261313&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(B^w&(U^B))+V[8]+1770035416&4294967295,D=w+(N<<7&4294967295|N>>>25),N=B+(U^D&(w^U))+V[9]+2336552879&4294967295,B=D+(N<<12&4294967295|N>>>20),N=U+(w^B&(D^w))+V[10]+4294925233&4294967295,U=B+(N<<17&4294967295|N>>>15),N=w+(D^U&(B^D))+V[11]+2304563134&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(B^w&(U^B))+V[12]+1804603682&4294967295,D=w+(N<<7&4294967295|N>>>25),N=B+(U^D&(w^U))+V[13]+4254626195&4294967295,B=D+(N<<12&4294967295|N>>>20),N=U+(w^B&(D^w))+V[14]+2792965006&4294967295,U=B+(N<<17&4294967295|N>>>15),N=w+(D^U&(B^D))+V[15]+1236535329&4294967295,w=U+(N<<22&4294967295|N>>>10),N=D+(U^B&(w^U))+V[1]+4129170786&4294967295,D=w+(N<<5&4294967295|N>>>27),N=B+(w^U&(D^w))+V[6]+3225465664&4294967295,B=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(B^D))+V[11]+643717713&4294967295,U=B+(N<<14&4294967295|N>>>18),N=w+(B^D&(U^B))+V[0]+3921069994&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(U^B&(w^U))+V[5]+3593408605&4294967295,D=w+(N<<5&4294967295|N>>>27),N=B+(w^U&(D^w))+V[10]+38016083&4294967295,B=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(B^D))+V[15]+3634488961&4294967295,U=B+(N<<14&4294967295|N>>>18),N=w+(B^D&(U^B))+V[4]+3889429448&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(U^B&(w^U))+V[9]+568446438&4294967295,D=w+(N<<5&4294967295|N>>>27),N=B+(w^U&(D^w))+V[14]+3275163606&4294967295,B=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(B^D))+V[3]+4107603335&4294967295,U=B+(N<<14&4294967295|N>>>18),N=w+(B^D&(U^B))+V[8]+1163531501&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(U^B&(w^U))+V[13]+2850285829&4294967295,D=w+(N<<5&4294967295|N>>>27),N=B+(w^U&(D^w))+V[2]+4243563512&4294967295,B=D+(N<<9&4294967295|N>>>23),N=U+(D^w&(B^D))+V[7]+1735328473&4294967295,U=B+(N<<14&4294967295|N>>>18),N=w+(B^D&(U^B))+V[12]+2368359562&4294967295,w=U+(N<<20&4294967295|N>>>12),N=D+(w^U^B)+V[5]+4294588738&4294967295,D=w+(N<<4&4294967295|N>>>28),N=B+(D^w^U)+V[8]+2272392833&4294967295,B=D+(N<<11&4294967295|N>>>21),N=U+(B^D^w)+V[11]+1839030562&4294967295,U=B+(N<<16&4294967295|N>>>16),N=w+(U^B^D)+V[14]+4259657740&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(w^U^B)+V[1]+2763975236&4294967295,D=w+(N<<4&4294967295|N>>>28),N=B+(D^w^U)+V[4]+1272893353&4294967295,B=D+(N<<11&4294967295|N>>>21),N=U+(B^D^w)+V[7]+4139469664&4294967295,U=B+(N<<16&4294967295|N>>>16),N=w+(U^B^D)+V[10]+3200236656&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(w^U^B)+V[13]+681279174&4294967295,D=w+(N<<4&4294967295|N>>>28),N=B+(D^w^U)+V[0]+3936430074&4294967295,B=D+(N<<11&4294967295|N>>>21),N=U+(B^D^w)+V[3]+3572445317&4294967295,U=B+(N<<16&4294967295|N>>>16),N=w+(U^B^D)+V[6]+76029189&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(w^U^B)+V[9]+3654602809&4294967295,D=w+(N<<4&4294967295|N>>>28),N=B+(D^w^U)+V[12]+3873151461&4294967295,B=D+(N<<11&4294967295|N>>>21),N=U+(B^D^w)+V[15]+530742520&4294967295,U=B+(N<<16&4294967295|N>>>16),N=w+(U^B^D)+V[2]+3299628645&4294967295,w=U+(N<<23&4294967295|N>>>9),N=D+(U^(w|~B))+V[0]+4096336452&4294967295,D=w+(N<<6&4294967295|N>>>26),N=B+(w^(D|~U))+V[7]+1126891415&4294967295,B=D+(N<<10&4294967295|N>>>22),N=U+(D^(B|~w))+V[14]+2878612391&4294967295,U=B+(N<<15&4294967295|N>>>17),N=w+(B^(U|~D))+V[5]+4237533241&4294967295,w=U+(N<<21&4294967295|N>>>11),N=D+(U^(w|~B))+V[12]+1700485571&4294967295,D=w+(N<<6&4294967295|N>>>26),N=B+(w^(D|~U))+V[3]+2399980690&4294967295,B=D+(N<<10&4294967295|N>>>22),N=U+(D^(B|~w))+V[10]+4293915773&4294967295,U=B+(N<<15&4294967295|N>>>17),N=w+(B^(U|~D))+V[1]+2240044497&4294967295,w=U+(N<<21&4294967295|N>>>11),N=D+(U^(w|~B))+V[8]+1873313359&4294967295,D=w+(N<<6&4294967295|N>>>26),N=B+(w^(D|~U))+V[15]+4264355552&4294967295,B=D+(N<<10&4294967295|N>>>22),N=U+(D^(B|~w))+V[6]+2734768916&4294967295,U=B+(N<<15&4294967295|N>>>17),N=w+(B^(U|~D))+V[13]+1309151649&4294967295,w=U+(N<<21&4294967295|N>>>11),N=D+(U^(w|~B))+V[4]+4149444226&4294967295,D=w+(N<<6&4294967295|N>>>26),N=B+(w^(D|~U))+V[11]+3174756917&4294967295,B=D+(N<<10&4294967295|N>>>22),N=U+(D^(B|~w))+V[2]+718787259&4294967295,U=B+(N<<15&4294967295|N>>>17),N=w+(B^(U|~D))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+D&4294967295,C.g[1]=C.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+B&4294967295}s.prototype.u=function(C,D){D===void 0&&(D=C.length);for(var w=D-this.blockSize,V=this.B,U=this.h,B=0;B<D;){if(U==0)for(;B<=w;)o(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<D;)if(V[U++]=C.charCodeAt(B++),U==this.blockSize){o(this,V),U=0;break}}else for(;B<D;)if(V[U++]=C[B++],U==this.blockSize){o(this,V),U=0;break}}this.h=U,this.o+=D},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var D=1;D<C.length-8;++D)C[D]=0;var w=8*this.o;for(D=C.length-8;D<C.length;++D)C[D]=w&255,w/=256;for(this.u(C),C=Array(16),D=w=0;4>D;++D)for(var V=0;32>V;V+=8)C[w++]=this.g[D]>>>V&255;return C};function h(C,D){var w=p;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=D(C)}function d(C,D){this.h=D;for(var w=[],V=!0,U=C.length-1;0<=U;U--){var B=C[U]|0;V&&B==D||(w[U]=B,V=!1)}this.g=w}var p={};function y(C){return-128<=C&&128>C?h(C,function(D){return new d([D|0],0>D?-1:0)}):new d([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return R;if(0>C)return j(g(-C));for(var D=[],w=1,V=0;C>=w;V++)D[V]=C/w|0,w*=4294967296;return new d(D,0)}function T(C,D){if(C.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C.charAt(0)=="-")return j(T(C.substring(1),D));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(D,8)),V=R,U=0;U<C.length;U+=8){var B=Math.min(8,C.length-U),N=parseInt(C.substring(U,U+B),D);8>B?(B=g(Math.pow(D,B)),V=V.j(B).add(g(N))):(V=V.j(w),V=V.add(g(N)))}return V}var R=y(0),E=y(1),A=y(16777216);a=d.prototype,a.m=function(){if(I(this))return-j(this).m();for(var C=0,D=1,w=0;w<this.g.length;w++){var V=this.i(w);C+=(0<=V?V:4294967296+V)*D,D*=4294967296}return C},a.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(I(this))return"-"+j(this).toString(C);for(var D=g(Math.pow(C,6)),w=this,V="";;){var U=W(w,D).g;w=Y(w,U.j(D));var B=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=U,M(w))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},a.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var D=0;D<C.g.length;D++)if(C.g[D]!=0)return!1;return!0}function I(C){return C.h==-1}a.l=function(C){return C=Y(this,C),I(C)?-1:M(C)?0:1};function j(C){for(var D=C.g.length,w=[],V=0;V<D;V++)w[V]=~C.g[V];return new d(w,~C.h).add(E)}a.abs=function(){return I(this)?j(this):this},a.add=function(C){for(var D=Math.max(this.g.length,C.g.length),w=[],V=0,U=0;U<=D;U++){var B=V+(this.i(U)&65535)+(C.i(U)&65535),N=(B>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);V=N>>>16,B&=65535,N&=65535,w[U]=N<<16|B}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Y(C,D){return C.add(j(D))}a.j=function(C){if(M(this)||M(C))return R;if(I(this))return I(C)?j(this).j(j(C)):j(j(this).j(C));if(I(C))return j(this.j(j(C)));if(0>this.l(A)&&0>C.l(A))return g(this.m()*C.m());for(var D=this.g.length+C.g.length,w=[],V=0;V<2*D;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<C.g.length;U++){var B=this.i(V)>>>16,N=this.i(V)&65535,Zt=C.i(U)>>>16,Jt=C.i(U)&65535;w[2*V+2*U]+=N*Jt,K(w,2*V+2*U),w[2*V+2*U+1]+=B*Jt,K(w,2*V+2*U+1),w[2*V+2*U+1]+=N*Zt,K(w,2*V+2*U+1),w[2*V+2*U+2]+=B*Zt,K(w,2*V+2*U+2)}for(V=0;V<D;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=D;V<2*D;V++)w[V]=0;return new d(w,0)};function K(C,D){for(;(C[D]&65535)!=C[D];)C[D+1]+=C[D]>>>16,C[D]&=65535,D++}function L(C,D){this.g=C,this.h=D}function W(C,D){if(M(D))throw Error("division by zero");if(M(C))return new L(R,R);if(I(C))return D=W(j(C),D),new L(j(D.g),j(D.h));if(I(D))return D=W(C,j(D)),new L(j(D.g),D.h);if(30<C.g.length){if(I(C)||I(D))throw Error("slowDivide_ only works with positive integers.");for(var w=E,V=D;0>=V.l(C);)w=X(w),V=X(V);var U=et(w,1),B=et(V,1);for(V=et(V,2),w=et(w,2);!M(V);){var N=B.add(V);0>=N.l(C)&&(U=U.add(w),B=N),V=et(V,1),w=et(w,1)}return D=Y(C,U.j(D)),new L(U,D)}for(U=R;0<=C.l(D);){for(w=Math.max(1,Math.floor(C.m()/D.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=g(w),N=B.j(D);I(N)||0<N.l(C);)w-=V,B=g(w),N=B.j(D);M(B)&&(B=E),U=U.add(B),C=Y(C,N)}return new L(U,C)}a.A=function(C){return W(this,C).h},a.and=function(C){for(var D=Math.max(this.g.length,C.g.length),w=[],V=0;V<D;V++)w[V]=this.i(V)&C.i(V);return new d(w,this.h&C.h)},a.or=function(C){for(var D=Math.max(this.g.length,C.g.length),w=[],V=0;V<D;V++)w[V]=this.i(V)|C.i(V);return new d(w,this.h|C.h)},a.xor=function(C){for(var D=Math.max(this.g.length,C.g.length),w=[],V=0;V<D;V++)w[V]=this.i(V)^C.i(V);return new d(w,this.h^C.h)};function X(C){for(var D=C.g.length+1,w=[],V=0;V<D;V++)w[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(w,C.h)}function et(C,D){var w=D>>5;D%=32;for(var V=C.g.length-w,U=[],B=0;B<V;B++)U[B]=0<D?C.i(B+w)>>>D|C.i(B+w+1)<<32-D:C.i(B+w);return new d(U,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Rv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,br=d}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dv,zl,Cv,Vu,qf,Ov,Nv,xv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var H=u[b];if(!(H in v))break t;v=v[H]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var v=0,b=!1,H={next:function(){if(!b&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,v){return u.call.apply(u.bind,arguments)}function R(u,m,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),u.apply(m,H)}}return function(){return u.apply(m,arguments)}}function E(u,m,v){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,E.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function M(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,H,Q){for(var at=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)at[Mt-2]=arguments[Mt];return m.prototype[H].apply(b,at)}}function I(u){const m=u.length;if(0<m){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function j(u,m){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(y(b)){const H=u.length||0,Q=b.length||0;u.length=H+Q;for(let at=0;at<Q;at++)u[H+at]=b[at]}else u.push(b)}}class Y{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){return/^[\s\xa0]*$/.test(u)}function L(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function W(u){return W[" "](u),u}W[" "]=function(){};var X=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function et(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function C(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let v,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(v in b)u[v]=b[v];for(let Q=0;Q<w.length;Q++)v=w[Q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function U(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function B(u){p.setTimeout(()=>{throw u},0)}function N(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Zt{constructor(){this.h=this.g=null}add(m,v){const b=Jt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Jt=new Y(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,dt=!1,zt=new Zt,k=()=>{const u=p.Promise.resolve(void 0);yt=()=>{u.then(rt)}};var rt=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){B(v)}var m=Jt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return u}();function bt(u,m){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(X){t:{try{W(m.nodeName);var H=!0;break t}catch{}H=!1}H||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}M(bt,lt);var Tt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),xt=0;function ae(u,m,v,b,H){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=H,this.key=++xt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,v,b,H){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var at=mn(u,m,b,H);return-1<at?(m=u[at],v||(m.fa=!1)):(m=new ae(m,this.src,Q,!!b,H),m.fa=v,u.push(m)),m};function ai(u,m){var v=m.type;if(v in u.g){var b=u.g[v],H=Array.prototype.indexOf.call(b,m,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(b,H,1),Q&&(Ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function mn(u,m,v,b){for(var H=0;H<u.length;++H){var Q=u[H];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==b)return H}return-1}var Li="closure_lm_"+(1e6*Math.random()|0),zi={};function si(u,m,v,b,H){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)si(u,m[Q],v,b,H);return null}return v=ao(v),u&&u[te]?u.K(m,v,g(b)?!!b.capture:!1,H):Vs(u,m,v,!1,b,H)}function Vs(u,m,v,b,H,Q){if(!m)throw Error("Invalid event type");var at=g(H)?!!H.capture:!!H,Mt=Is(u);if(Mt||(u[Li]=Mt=new Qe(u)),v=Mt.add(m,v,b,at,Q),v.proxy)return v;if(b=Aa(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)ot||(H=at),H===void 0&&(H=!1),u.addEventListener(m.toString(),b,H);else if(u.attachEvent)u.attachEvent(ba(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Aa(){function u(v){return m.call(u.src,u.listener,v)}const m=Tc;return u}function Sa(u,m,v,b,H){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Sa(u,m[Q],v,b,H);else b=g(b)?!!b.capture:!!b,v=ao(v),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=mn(Q,v,b,H),-1<v&&(Ft(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Is(u))&&(m=u.g[m.toString()],u=-1,m&&(u=mn(m,v,b,H)),(v=-1<u?m[u]:null)&&Ur(v))}function Ur(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])ai(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ba(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Is(m))?(ai(v,u),v.h==0&&(v.src=null,m[Li]=null)):Ft(u)}}}function ba(u){return u in zi?zi[u]:zi[u]="on"+u}function Tc(u,m){if(u.da)u=!0;else{m=new bt(m,this);var v=u.listener,b=u.ha||u.src;u.fa&&Ur(u),u=v.call(b,m)}return u}function Is(u){return u=u[Li],u instanceof Qe?u:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(u){return typeof u=="function"?u:(u[Je]||(u[Je]=function(m){return u.handleEvent(m)}),u[Je])}function ye(){ht.call(this),this.i=new Qe(this),this.M=this,this.F=null}M(ye,ht),ye.prototype[te]=!0,ye.prototype.removeEventListener=function(u,m,v,b){Sa(this,u,m,v,b)};function Re(u,m){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new lt(m,u);else if(m instanceof lt)m.target=m.target||u;else{var H=m;m=new lt(b,u),V(m,H)}if(H=!0,v)for(var Q=v.length-1;0<=Q;Q--){var at=m.g=v[Q];H=li(at,b,!0,m)&&H}if(at=m.g=u,H=li(at,b,!0,m)&&H,H=li(at,b,!1,m)&&H,v)for(Q=0;Q<v.length;Q++)at=m.g=v[Q],H=li(at,b,!1,m)&&H}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],b=0;b<v.length;b++)Ft(v[b]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ye.prototype.L=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function li(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var H=!0,Q=0;Q<m.length;++Q){var at=m[Q];if(at&&!at.da&&at.capture==v){var Mt=at.listener,_e=at.ha||at.src;at.fa&&ai(u.i,at),H=Mt.call(_e,b)!==!1&&H}}return H&&!b.defaultPrevented}function so(u,m,v){if(typeof u=="function")v&&(u=E(u,v));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Ms(u){u.g=so(()=>{u.g=null,u.i&&(u.i=!1,Ms(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ac extends ht{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(u){ht.call(this),this.h=u,this.g={}}M(kr,ht);var Bi=[];function Pe(u){et(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ur(m)},u),u.g={}}kr.prototype.N=function(){kr.aa.N.call(this),Pe(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=p.JSON.stringify,Ln=p.JSON.parse,Ye=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function ks(){}ks.prototype.h=null;function lo(u){return u.h||(u.h=u.i())}function oo(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){lt.call(this,"d")}M(Pi,lt);function xn(){lt.call(this,"c")}M(xn,lt);var gn={},qi=null;function wa(){return qi=qi||new ye}gn.La="serverreachability";function js(u){lt.call(this,gn.La,u)}M(js,lt);function Hi(u){const m=wa();Re(m,new js(m))}gn.STAT_EVENT="statevent";function Ra(u,m){lt.call(this,gn.STAT_EVENT,u),this.stat=m}M(Ra,lt);function ce(u){const m=wa();Re(m,new Ra(m,u))}gn.Ma="timingevent";function uo(u,m){lt.call(this,gn.Ma,u),this.size=m}M(uo,lt);function Gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Fi(){this.g=!0}Fi.prototype.xa=function(){this.g=!1};function co(u,m,v,b,H,Q){u.info(function(){if(u.g)if(Q)for(var at="",Mt=Q.split("&"),_e=0;_e<Mt.length;_e++){var Ut=Mt[_e].split("=");if(1<Ut.length){var Oe=Ut[0];Ut=Ut[1];var Ee=Oe.split("_");at=2<=Ee.length&&Ee[1]=="type"?at+(Oe+"="+Ut+"&"):at+(Oe+"=redacted&")}}else at=null;else at=Q;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+m+`
`+v+`
`+at})}function ho(u,m,v,b,H,Q,at){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+m+`
`+v+`
`+Q+" "+at})}function Xi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+De(u,v)+(b?" "+b:"")})}function Bn(u,m){u.info(function(){return"TIMEOUT: "+m})}Fi.prototype.info=function(){};function De(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var at=1;at<H.length;at++)H[at]=""}}}}return Us(v)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jr;function Da(){}M(Da,ks),Da.prototype.g=function(){return new XMLHttpRequest},Da.prototype.i=function(){return{}},jr=new Da;function Pn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.R=b||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ls}function Ls(){this.i=null,this.g="",this.h=!1}var Qi={},Lr={};function Vn(u,m,v){u.L=1,u.v=Pr(se(m)),u.m=v,u.P=!0,ui(u,null)}function ui(u,m){u.F=Date.now(),ee(u),u.A=se(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),fi(v.i,"t",b),u.C=0,v=u.j.J,u.h=new Ls,u.g=Ro(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ac(E(u.Y,u,u.g),u.O)),m=u.U,v=u.g,b=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(Bi[0]=H.toString()),H=Bi);for(var Q=0;Q<H.length;Q++){var at=si(v,H[Q],b||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?D(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Hi(),co(u.i,u.u,u.A,u.l,u.R,u.m)}Pn.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=En(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=pi?Hi(3):Hi(2)),Ca(this);var v=this.g.Z();this.X=v;e:if(Yi(this)){var b=vo(this.g);u="";var H=b.length,Q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),an(this);var at="";break e}this.h.i=new p.TextDecoder}for(m=0;m<H;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(Q&&m==H-1)});b.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=v==200,ho(this.i,this.u,this.A,this.l,this.R,Ee,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,_e=this.g;if((Mt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Mt)){var Ut=Mt;break e}}Ut=null}if(v=Ut)Xi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,v);else{this.o=!1,this.s=3,ce(12),tn(this),an(this);break t}}if(this.P){v=!0;let Me;for(;!this.J&&this.C<at.length;)if(Me=Ki(this,at),Me==Lr){Ee==4&&(this.s=4,ce(14),v=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Qi){this.s=4,ce(15),Xi(this.i,this.l,at,"[Invalid Chunk]"),v=!1;break}else Xi(this.i,this.l,Me,null),sn(this,Me);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||at.length!=0||this.h.h||(this.s=1,ce(16),v=!1),this.o=this.o&&v,!v)Xi(this.i,this.l,at,"[Invalid Chunked Response]"),tn(this),an(this);else if(0<at.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Yr(Oe),Oe.M=!0,ce(11))}}else Xi(this.i,this.l,at,null),sn(this,at);Ee==4&&tn(this),this.o&&!this.J&&(Ee==4?So(this.j,this):(this.o=!1,ee(this)))}else Cc(this.g),v==400&&0<at.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),tn(this),an(this)}}}catch{}finally{}};function Yi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ki(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Lr:(v=Number(m.substring(v,b)),isNaN(v)?Qi:(b+=1,b+v>m.length?Lr:(m=m.slice(b,b+v),u.C=b+v,m)))}Pn.prototype.cancel=function(){this.J=!0,tn(this)};function ee(u){u.S=Date.now()+u.I,zs(u,u.I)}function zs(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Gi(E(u.ba,u),m)}function Ca(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Pn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bn(this.i,this.A),this.L!=2&&(Hi(),ce(17)),tn(this),this.s=2,an(this)):zs(this,this.S-u)};function an(u){u.j.G==0||u.J||So(u.j,u)}function tn(u){Ca(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sn(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||$i(v.h,u))){if(!u.K&&$i(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)La(v),ka(v);else break t;$s(v),ce(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Gi(E(v.Za,v),6e3));if(1>=fo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gi(v,11)}else if((u.K||v.g==u)&&La(v),!K(m))for(H=v.Da.g.parse(m),m=0;m<H.length;m++){let Ut=H[m];if(v.T=Ut[0],Ut=Ut[1],v.G==2)if(Ut[0]=="c"){v.K=Ut[1],v.ia=Ut[2];const Oe=Ut[3];Oe!=null&&(v.la=Oe,v.j.info("VER="+v.la));const Ee=Ut[4];Ee!=null&&(v.Aa=Ee,v.j.info("SVER="+v.Aa));const pi=Ut[5];pi!=null&&typeof pi=="number"&&0<pi&&(b=1.5*pi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Me=u.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var Q=b.h;Q.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Zi(Q,Q.h),Q.h=null))}if(b.D){const Ws=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Ws&&(b.ya=Ws,Bt(b.I,b.D,Ws))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var at=u;if(b.qa=wo(b,b.J?b.ia:null,b.W),at.K){pn(b.h,at);var Mt=at,_e=b.L;_e&&(Mt.I=_e),Mt.B&&(Ca(Mt),ee(Mt)),b.g=at}else To(b);0<v.i.length&&ja(v)}else Ut[0]!="stop"&&Ut[0]!="close"||gi(v,7);else v.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?gi(v,7):Ys(v):Ut[0]!="noop"&&v.l&&v.l.ta(Ut),v.v=0)}}Hi(4)}catch{}}var Sc=class{constructor(u,m){this.g=u,this.map=m}};function Bs(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ps(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fo(u){return u.h?1:u.g?u.g.size:0}function $i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Zi(u,m){u.g?u.g.add(m):u.h=m}function pn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bs.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ke(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return I(u.i)}function mo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],v=u.length,b=0;b<v;b++)m.push(u[b]);return m}m=[],v=0;for(b in u)m[v++]=u[b];return m}function bc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const b in u)m[v++]=b;return m}}}function zr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=bc(u),b=mo(u),H=b.length,Q=0;Q<H;Q++)m.call(void 0,b[Q],v&&v[Q],u)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),H=null;if(0<=b){var Q=u[v].substring(0,b);H=u[v].substring(b+1)}else Q=u[v];m(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ci(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ci){this.h=u.h,Wi(this,u.j),this.o=u.o,this.g=u.g,Br(this,u.s),this.l=u.l;var m=u.i,v=new qn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Na(this,v),this.m=u.m}else u&&(m=String(u).match(qs))?(this.h=!1,Wi(this,m[1]||"",!0),this.o=Ji(m[2]||""),this.g=Ji(m[3]||"",!0),Br(this,m[4]),this.l=Ji(m[5]||"",!0),Na(this,m[6]||"",!0),this.m=Ji(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}ci.prototype.toString=function(){var u=[],m=this.j;m&&u.push(yn(m,Hs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yn(m,Hs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yn(v,v.charAt(0)=="/"?Gs:go,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yn(v,Dc)),u.join("")};function se(u){return new ci(u)}function Wi(u,m,v){u.j=v?Ji(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Br(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Na(u,m,v){m instanceof qn?(u.i=m,Fs(u.i,u.h)):(v||(m=yn(m,Rc)),u.i=new qn(m,u.h))}function Bt(u,m,v){u.i.set(m,v)}function Pr(u){return Bt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ji(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yn(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,wc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,go=/[#\?:]/g,Gs=/[#\?]/g,Rc=/[#\?@]/g,Dc=/#/g;function qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=qn.prototype,a.add=function(u,m){vn(this),this.i=null,u=di(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function xa(u,m){vn(u),m=di(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hi(u,m){return vn(u),m=di(u,m),u.g.has(m)}a.forEach=function(u,m){vn(this),this.g.forEach(function(v,b){v.forEach(function(H){u.call(m,H,b,this)},this)},this)},a.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){const H=u[b];for(let Q=0;Q<H.length;Q++)v.push(m[b])}return v},a.V=function(u){vn(this);let m=[];if(typeof u=="string")hi(this,u)&&(m=m.concat(this.g.get(di(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},a.set=function(u,m){return vn(this),this.i=null,u=di(this,u),hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function fi(u,m,v){xa(u,m),0<v.length&&(u.i=null,u.g.set(di(u,m),I(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];const Q=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var H=Q;at[b]!==""&&(H+="="+encodeURIComponent(String(at[b]))),u.push(H)}}return this.i=u.join("&")};function di(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fs(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,b){var H=b.toLowerCase();b!=H&&(xa(this,b),fi(this,H,v))},u)),u.j=m}function po(u,m){const v=new Fi;if(p.Image){const b=new Image;b.onload=A(_n,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(_n,v,"TestLoadImage: error",!1,m,b),b.onabort=A(_n,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(_n,v,"TestLoadImage: timeout",!1,m,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function qr(u,m){const v=new Fi,b=new AbortController,H=setTimeout(()=>{b.abort(),_n(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(Q=>{clearTimeout(H),Q.ok?_n(v,"TestPingServer: ok",!0,m):_n(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(H),_n(v,"TestPingServer: error",!1,m)})}function _n(u,m,v,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(v)}catch{}}function Hr(){this.g=new Ye}function Hn(u,m,v){const b=v||"";try{zr(u,function(H,Q){let at=H;g(H)&&(at=Us(H)),m.push(b+Q+"="+encodeURIComponent(at))})}catch(H){throw m.push(b+"type="+encodeURIComponent("_badmap")),H}}function tr(u){this.l=u.Ub||null,this.j=u.eb||!1}M(tr,ks),tr.prototype.g=function(){return new mi(this.l,this.j)},tr.prototype.i=function(u){return function(){return u}}({});function mi(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(mi,ye),a=mi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&Xs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qs(u){let m="";return et(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ce(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Qs(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Bt(u,m,v))}function Ht(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ht,ye);var Va=/^https?$/i,Gr=["POST","PUT"];a=Ht.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jr.g(),this.v=this.o?lo(this.o):lo(jr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){yo(this,Q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)v.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())v.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Gr,m,void 0))||b||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of v)this.g.setRequestHeader(Q,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fr(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){yo(this,Q)}};function yo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ia(u),Xn(u)}function Ia(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Xn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},a.bb=function(){Ma(this)};function Ma(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)so(u.Ea,0,u);else if(Re(u,"readystatechange"),En(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=at===0){var H=String(u.D).match(qs)[1]||null;!H&&p.self&&p.self.location&&(H=p.self.location.protocol.slice(0,-1)),b=!Va.test(H?H.toLowerCase():"")}v=b}if(v)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var Q=2<En(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Ia(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){Fr(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{v.onreadystatechange=b}catch{}}}function Fr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ln(m)}};function vo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Cc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(K(u[b]))continue;var v=U(u[b]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[H]||[];m[H]=Q,Q.push(v)}C(m,function(b){return b.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ua(u){this.Aa=0,this.i=[],this.j=new Fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,u),this.cb=Xr("retryDelaySeedMs",1e4,u),this.Wa=Xr("forwardChannelMaxRetries",2,u),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Bs(u&&u.concurrentRequestLimit),this.Da=new Hr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ua.prototype,a.la=8,a.G=1,a.connect=function(u,m,v,b){ce(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=wo(this,null,this.W),ja(this)};function Ys(u){if(_o(u),u.G==3){var m=u.U++,v=se(u.I);if(Bt(v,"SID",u.K),Bt(v,"RID",m),Bt(v,"TYPE","terminate"),Qr(u,v),m=new Pn(u,u.j,m),m.L=2,m.v=Pr(se(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=Ro(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ee(m)}bo(u)}function ka(u){u.g&&(Yr(u),u.g.cancel(),u.g=null)}function _o(u){ka(u),u.u&&(p.clearTimeout(u.u),u.u=null),La(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function ja(u){if(!Ps(u.h)&&!u.s){u.s=!0;var m=u.Ga;yt||k(),dt||(yt(),dt=!0),zt.add(m,u),u.B=0}}function Oc(u,m){return fo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Gi(E(u.Ga,u,m),Zs(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new Pn(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=D(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Eo(this,H,m),v=se(this.I),Bt(v,"RID",u),Bt(v,"CVER",22),this.D&&Bt(v,"X-HTTP-Session-Id",this.D),Qr(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(Qs(Q)))+"&"+m:this.m&&Ce(v,this.m,Q)),Zi(this.h,H),this.Ua&&Bt(v,"TYPE","init"),this.P?(Bt(v,"$req",m),Bt(v,"SID","null"),H.T=!0,Vn(H,v,null)):Vn(H,v,m),this.G=2}}else this.G==3&&(u?Ks(this,u):this.i.length==0||Ps(this.h)||Ks(this))};function Ks(u,m){var v;m?v=m.l:v=u.U++;const b=se(u.I);Bt(b,"SID",u.K),Bt(b,"RID",v),Bt(b,"AID",u.T),Qr(u,b),u.m&&u.o&&Ce(b,u.m,u.o),v=new Pn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Eo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zi(u.h,v),Vn(v,b,m)}function Qr(u,m){u.H&&et(u.H,function(v,b){Bt(m,b,v)}),u.l&&zr({},function(v,b){Bt(m,b,v)})}function Eo(u,m,v){v=Math.min(u.i.length,v);var b=u.l?E(u.l.Na,u.l,u):null;t:{var H=u.i;let Q=-1;for(;;){const at=["count="+v];Q==-1?0<v?(Q=H[0].g,at.push("ofs="+Q)):Q=0:at.push("ofs="+Q);let Mt=!0;for(let _e=0;_e<v;_e++){let Ut=H[_e].g;const Oe=H[_e].map;if(Ut-=Q,0>Ut)Q=Math.max(0,H[_e].g-100),Mt=!1;else try{Hn(Oe,at,"req"+Ut+"_")}catch{b&&b(Oe)}}if(Mt){b=at.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,b}function To(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;yt||k(),dt||(yt(),dt=!0),zt.add(m,u),u.v=0}}function $s(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Gi(E(u.Fa,u),Zs(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Gi(E(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),ka(this),Ao(this))};function Yr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Ao(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=se(u.qa);Bt(m,"RID","rpc"),Bt(m,"SID",u.K),Bt(m,"AID",u.T),Bt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Bt(m,"TO",u.ja),Bt(m,"TYPE","xmlhttp"),Qr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Pr(se(m)),v.m=null,v.P=!0,ui(v,u)}a.Za=function(){this.C!=null&&(this.C=null,ka(this),$s(this),ce(19))};function La(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function So(u,m){var v=null;if(u.g==m){La(u),Yr(u),u.g=null;var b=2}else if($i(u.h,m))v=m.D,pn(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var H=u.B;b=wa(),Re(b,new uo(b,v)),ja(u)}else To(u);else if(H=m.s,H==3||H==0&&0<m.X||!(b==1&&Oc(u,m)||b==2&&$s(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),H){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Zs(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=E(u.fb,u),b=u.Xa;const H=!b;b=new ci(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Wi(b,"https"),Pr(b),H?po(b.toString(),v):qr(b.toString(),v)}else ce(2);u.G=0,u.l&&u.l.sa(m),bo(u),_o(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function bo(u){if(u.G=0,u.ka=[],u.l){const m=Ke(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function wo(u,m,v){var b=v instanceof ci?se(v):new ci(v);if(b.g!="")m&&(b.g=m+"."+b.g),Br(b,b.s);else{var H=p.location;b=H.protocol,m=m?m+"."+H.hostname:H.hostname,H=+H.port;var Q=new ci(null);b&&Wi(Q,b),m&&(Q.g=m),H&&Br(Q,H),v&&(Q.l=v),b=Q}return v=u.D,m=u.ya,v&&m&&Bt(b,v,m),Bt(b,"VER",u.la),Qr(u,b),b}function Ro(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new tr({eb:v})):new Ht(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Do(){}a=Do.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function za(){}za.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ye.call(this),this.g=new Ua(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!K(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}M($e,ye),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ys(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Us(u),u=v);m.i.push(new Sc(m.Ya++,u)),m.G==3&&ja(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,$e.aa.N.call(this)};function Co(u){Pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}M(Co,Pi);function Oo(){xn.call(this),this.status=1}M(Oo,xn);function Qn(u){this.g=u}M(Qn,Do),Qn.prototype.ua=function(){Re(this.g,"a")},Qn.prototype.ta=function(u){Re(this.g,new Co(u))},Qn.prototype.sa=function(u){Re(this.g,new Oo)},Qn.prototype.ra=function(){Re(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,xv=function(){return new za},Nv=function(){return wa()},Ov=gn,qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Vu=ve,oi.COMPLETE="complete",Cv=oi,oo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,zl=oo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Dv=Ht}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const dy="@firebase/firestore",my="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Ev("@firebase/firestore");function fs(){return va.logLevel}function ut(a,...e){if(va.logLevel<=Lt.DEBUG){const i=e.map(od);va.debug(`Firestore (${Ds}): ${a}`,...i)}}function Mi(a,...e){if(va.logLevel<=Lt.ERROR){const i=e.map(od);va.error(`Firestore (${Ds}): ${a}`,...i)}}function _s(a,...e){if(va.logLevel<=Lt.WARN){const i=e.map(od);va.warn(`Firestore (${Ds}): ${a}`,...i)}}function od(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a="Unexpected state"){const e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+a;throw Mi(e),new Error(e)}function Gt(a,e){a||_t()}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Rs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class IT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class MT{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},p=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new Vv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string"),new Fe(e)}}class UT{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kT{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new UT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jT{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,yT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0);const s=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new gy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new gy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LT(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Dt(a,e){return a<e?-1:a>e?1:0}function Hf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const h=Iv(),d=zT(h.encode(py(a,i)),h.encode(py(e,i)));return d!==0?d:Dt(s,o)}}i+=s>65535?2:1}return Dt(a.length,e.length)}function py(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function zT(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Dt(a[i],e[i]);return Dt(a.length,e.length)}function Es(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=-62135596800,vy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*vy);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new mt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<yy)throw new mt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vy}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new be(0,0))}static max(){return new Et(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(),s===void 0?s=e.length-i:s>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Hf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class Wt extends ti{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new mt(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const BT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ti{construct(e,i,s){return new ze(e,i,s)}static isValidIdentifier(e){return BT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_y}static keyField(){return new ze([_y])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new mt(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new mt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new mt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(h(),o++)}if(h(),d)throw new mt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(Wt.fromString(e))}static fromName(e){return new pt(Wt.fromString(e).popFirst(5))}static empty(){return new pt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function PT(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new Dr(o,pt.empty(),e)}function qT(a){return new Dr(a.readTime,a.key,Kl)}class Dr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Dr(Et.min(),pt.empty(),Kl)}static max(){return new Dr(Et.max(),pt.empty(),Kl)}}function HT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:Dt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(a){if(a.code!==it.FAILED_PRECONDITION||a.message!==GT)throw a;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.reject(i)}static resolve(e){return new tt((i,s)=>{i(e)})}static reject(e){return new tt((i,s)=>{s(e)})}static waitFor(e){return new tt((i,s)=>{let o=0,h=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++h,d&&h===o&&i()},y=>s(y))}),d=!0,h===o&&i()})}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next(o=>o?tt.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new tt((s,o)=>{const h=e.length,d=new Array(h);let p=0;for(let y=0;y<h;y++){const g=y;i(e[g]).next(T=>{d[g]=T,++p,p===h&&s(d)},T=>o(T))}})}static doWhile(e,i){return new tt((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function XT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ic.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=-1;function rc(a){return a==null}function Gu(a){return a===0&&1/a==-1/0}function QT(a){return typeof a=="number"&&Number.isInteger(a)&&!Gu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="";function YT(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Ey(e)),e=KT(a.get(i),e);return Ey(e)}function KT(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Uv:i+="";break;default:i+=h}}return i}function Ey(a){return a+Uv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ir(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function kv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Le.RED,this.left=o??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Le(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Le.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,s,o,h){return this}insert(e,i,s){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new fn([])}unionWith(e){let i=new we(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new jv("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const $T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(a){if(Gt(!!a),typeof a=="string"){let e=0;const i=$T.exec(a);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Or(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="server_timestamp",zv="__type__",Bv="__previous_value__",Pv="__local_write_time__";function cd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[zv])===null||i===void 0?void 0:i.stringValue)===Lv}function ac(a){const e=a.mapValue.fields[Bv];return cd(e)?ac(e):e}function $l(a){const e=Cr(a.mapValue.fields[Pv].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,i,s,o,h,d,p,y,g){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g}}const Fu="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||Fu}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Fu}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="__type__",WT="__max__",Ou={mapValue:{}},Hv="__vector__",Xu="value";function Nr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?cd(a)?4:tA(a)?9007199254740991:JT(a)?10:11:_t()}function ii(a,e){if(a===e)return!0;const i=Nr(a);if(i!==Nr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return $l(a).isEqual($l(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Cr(o.timestampValue),p=Cr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Or(o.bytesValue).isEqual(Or(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),p=fe(h.doubleValue);return d===p?Gu(d)===Gu(p):isNaN(d)&&isNaN(p)}return!1}(a,e);case 9:return Es(a.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Ty(d)!==Ty(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ii(d[y],p[y])))return!1;return!0}(a,e);default:return _t()}}function Wl(a,e){return(a.values||[]).find(i=>ii(i,e))!==void 0}function Ts(a,e){if(a===e)return 0;const i=Nr(a),s=Nr(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const p=fe(h.integerValue||h.doubleValue),y=fe(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(a,e);case 3:return Sy(a.timestampValue,e.timestampValue);case 4:return Sy($l(a),$l(e));case 5:return Hf(a.stringValue,e.stringValue);case 6:return function(h,d){const p=Or(h),y=Or(d);return p.compareTo(y)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),y=d.split("/");for(let g=0;g<p.length&&g<y.length;g++){const T=Dt(p[g],y[g]);if(T!==0)return T}return Dt(p.length,y.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Dt(fe(h.latitude),fe(d.latitude));return p!==0?p:Dt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return by(a.arrayValue,e.arrayValue);case 10:return function(h,d){var p,y,g,T;const R=h.fields||{},E=d.fields||{},A=(p=R[Xu])===null||p===void 0?void 0:p.arrayValue,M=(y=E[Xu])===null||y===void 0?void 0:y.arrayValue,I=Dt(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((T=M==null?void 0:M.values)===null||T===void 0?void 0:T.length)||0);return I!==0?I:by(A,M)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ou.mapValue&&d===Ou.mapValue)return 0;if(h===Ou.mapValue)return 1;if(d===Ou.mapValue)return-1;const p=h.fields||{},y=Object.keys(p),g=d.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let R=0;R<y.length&&R<T.length;++R){const E=Hf(y[R],T[R]);if(E!==0)return E;const A=Ts(p[y[R]],g[T[R]]);if(A!==0)return A}return Dt(y.length,T.length)}(a.mapValue,e.mapValue);default:throw _t()}}function Sy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Dt(a,e);const i=Cr(a),s=Cr(e),o=Dt(i.seconds,s.seconds);return o!==0?o:Dt(i.nanos,s.nanos)}function by(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Ts(i[o],s[o]);if(h)return h}return Dt(i.length,s.length)}function As(a){return Gf(a)}function Gf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Cr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Or(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return pt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Gf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Gf(i.fields[d])}`;return o+"}"}(a.mapValue):_t()}function Iu(a){switch(Nr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ac(a);return e?16+Iu(e):16;case 5:return 2*a.stringValue.length;case 6:return Or(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Iu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Ir(s.fields,(h,d)=>{o+=h.length+Iu(d)}),o}(a.mapValue);default:throw _t()}}function Ff(a){return!!a&&"integerValue"in a}function hd(a){return!!a&&"arrayValue"in a}function wy(a){return!!a&&"nullValue"in a}function Ry(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Mu(a){return!!a&&"mapValue"in a}function JT(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[qv])===null||i===void 0?void 0:i.stringValue)===Hv}function Hl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ir(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Hl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function tA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===WT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Mu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=ze.emptyPath(),s={},o=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=Hl(d):o.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Mu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ir(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new rn(Hl(this.value))}}function Gv(a){const e=[];return Ir(a.fields,(i,s)=>{const o=new ze([i]);if(Mu(s)){const h=Gv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),rn.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i){this.position=e,this.inclusive=i}}function Dy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Ts(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Cy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ii(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,i="asc"){this.field=e,this.dir=i}}function eA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{}class Se extends Fv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new iA(e,i,s):i==="array-contains"?new sA(e,s):i==="in"?new lA(e,s):i==="not-in"?new oA(e,s):i==="array-contains-any"?new uA(e,s):new Se(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new rA(e,s):new aA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ts(i,this.value)):i!==null&&Nr(this.value)===Nr(i)&&this.matchesComparison(Ts(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Fv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return Xv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Xv(a){return a.op==="and"}function Qv(a){return nA(a)&&Xv(a)}function nA(a){for(const e of a.filters)if(e instanceof ri)return!1;return!0}function Xf(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+As(a.value);if(Qv(a))return a.filters.map(e=>Xf(e)).join(",");{const e=a.filters.map(i=>Xf(i)).join(",");return`${a.op}(${e})`}}function Yv(a,e){return a instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(a,e):a instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,p)=>h&&Yv(d,o.filters[p]),!0):!1}(a,e):void _t()}function Kv(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${As(i.value)}`}(a):a instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(Kv).join(" ,")+"}"}(a):"Filter"}class iA extends Se{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class rA extends Se{constructor(e,i){super(e,"in",i),this.keys=$v("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class aA extends Se{constructor(e,i){super(e,"not-in",i),this.keys=$v("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function $v(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class sA extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hd(i)&&Wl(i.arrayValue,this.value)}}class lA extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class oA extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Wl(this.value.arrayValue,i)}}class uA extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i=null,s=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.le=null}}function Oy(a,e=null,i=[],s=[],o=null,h=null,d=null){return new cA(a,e,i,s,o,h,d)}function fd(a){const e=St(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Xf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>As(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>As(s)).join(",")),e.le=i}return e.le}function dd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!eA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Yv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Cy(a.startAt,e.startAt)&&Cy(a.endAt,e.endAt)}function Qf(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i=null,s=[],o=[],h=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hA(a,e,i,s,o,h,d,p){return new sc(a,e,i,s,o,h,d,p)}function md(a){return new sc(a)}function Ny(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function fA(a){return a.collectionGroup!==null}function Gl(a){const e=St(a);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new we(ze.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Yu(h,s))}),i.has(ze.keyField().canonicalString())||e.he.push(new Yu(ze.keyField(),s))}return e.he}function ei(a){const e=St(a);return e.Pe||(e.Pe=dA(e,Gl(a))),e.Pe}function dA(a,e){if(a.limitType==="F")return Oy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Yu(o.field,h)});const i=a.endAt?new Qu(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Qu(a.startAt.position,a.startAt.inclusive):null;return Oy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Yf(a,e,i){return new sc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function lc(a,e){return dd(ei(a),ei(e))&&a.limitType===e.limitType}function Zv(a){return`${fd(ei(a))}|lt:${a.limitType}`}function ds(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Kv(o)).join(", ")}]`),rc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>As(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>As(o)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function oc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):pt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Gl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,p,y){const g=Dy(d,p,y);return d.inclusive?g<=0:g<0}(s.startAt,Gl(s),o)||s.endAt&&!function(d,p,y){const g=Dy(d,p,y);return d.inclusive?g>=0:g>0}(s.endAt,Gl(s),o))}(a,e)}function mA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Wv(a){return(e,i)=>{let s=!1;for(const o of Gl(a)){const h=gA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function gA(a,e,i){const s=a.field.isKeyField()?pt.comparator(e.key,i.key):function(h,d,p){const y=d.data.field(h),g=p.data.field(h);return y!==null&&g!==null?Ts(y,g):_t()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return kv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new re(pt.comparator);function Ui(){return pA}const Jv=new re(pt.comparator);function Bl(...a){let e=Jv;for(const i of a)e=e.insert(i.key,i);return e}function t_(a){let e=Jv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function pa(){return Fl()}function e_(){return Fl()}function Fl(){return new Ea(a=>a.toString(),(a,e)=>a.isEqual(e))}const yA=new re(pt.comparator),vA=new we(pt.comparator);function Nt(...a){let e=vA;for(const i of a)e=e.add(i);return e}const _A=new we(Dt);function EA(){return _A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function n_(a){return{integerValue:""+a}}function TA(a,e){return QT(e)?n_(e):gd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this._=void 0}}function AA(a,e,i){return a instanceof Ku?function(o,h){const d={fields:{[zv]:{stringValue:Lv},[Pv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&cd(h)&&(h=ac(h)),h&&(d.fields[Bv]=h),{mapValue:d}}(i,e):a instanceof Jl?r_(a,e):a instanceof to?a_(a,e):function(o,h){const d=i_(o,h),p=xy(d)+xy(o.Ie);return Ff(d)&&Ff(o.Ie)?n_(p):gd(o.serializer,p)}(a,e)}function SA(a,e,i){return a instanceof Jl?r_(a,e):a instanceof to?a_(a,e):i}function i_(a,e){return a instanceof $u?function(s){return Ff(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Ku extends uc{}class Jl extends uc{constructor(e){super(),this.elements=e}}function r_(a,e){const i=s_(e);for(const s of a.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class to extends uc{constructor(e){super(),this.elements=e}}function a_(a,e){let i=s_(e);for(const s of a.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class $u extends uc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function xy(a){return fe(a.integerValue||a.doubleValue)}function s_(a){return hd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function bA(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof to&&o instanceof to?Es(s.elements,o.elements,ii):s instanceof $u&&o instanceof $u?ii(s.Ie,o.Ie):s instanceof Ku&&o instanceof Ku}(a.transform,e.transform)}class wA{constructor(e,i){this.version=e,this.transformResults=i}}class jn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class cc{}function l_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new pd(a.key,jn.none()):new eo(a.key,a.data,jn.none());{const i=a.data,s=rn.empty();let o=new we(ze.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Mr(a.key,s,new fn(o.toArray()),jn.none())}}function RA(a,e,i){a instanceof eo?function(o,h,d){const p=o.value.clone(),y=Iy(o.fieldTransforms,h,d.transformResults);p.setAll(y),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):a instanceof Mr?function(o,h,d){if(!Uu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Iy(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(o_(o)),y.setAll(p),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Xl(a,e,i,s){return a instanceof eo?function(h,d,p,y){if(!Uu(h.precondition,d))return p;const g=h.value.clone(),T=My(h.fieldTransforms,y,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(a,e,i,s):a instanceof Mr?function(h,d,p,y){if(!Uu(h.precondition,d))return p;const g=My(h.fieldTransforms,y,d),T=d.data;return T.setAll(o_(h)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(a,e,i,s):function(h,d,p){return Uu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(a,e,i)}function DA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=i_(s.transform,o||null);h!=null&&(i===null&&(i=rn.empty()),i.set(s.field,h))}return i||null}function Vy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Es(s,o,(h,d)=>bA(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class eo extends cc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mr extends cc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function o_(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Iy(a,e,i){const s=new Map;Gt(a.length===i.length);for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,p=e.data.field(h.field);s.set(h.field,SA(d,p,i[o]))}return s}function My(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,AA(h,d,e))}return s}class pd extends cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&RA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Xl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Xl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=e_();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const y=l_(d,p);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(i,s)=>Vy(i,s))&&Es(this.baseMutations,e.baseMutations,(i,s)=>Vy(i,s))}}class yd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length);let o=function(){return yA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new yd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,jt;function VA(a){switch(a){case it.OK:return _t();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return _t()}}function u_(a){if(a===void 0)return Mi("GRPC error has no .code"),it.UNKNOWN;switch(a){case pe.OK:return it.OK;case pe.CANCELLED:return it.CANCELLED;case pe.UNKNOWN:return it.UNKNOWN;case pe.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case pe.INTERNAL:return it.INTERNAL;case pe.UNAVAILABLE:return it.UNAVAILABLE;case pe.UNAUTHENTICATED:return it.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case pe.NOT_FOUND:return it.NOT_FOUND;case pe.ALREADY_EXISTS:return it.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return it.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case pe.ABORTED:return it.ABORTED;case pe.OUT_OF_RANGE:return it.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return it.UNIMPLEMENTED;case pe.DATA_LOSS:return it.DATA_LOSS;default:return _t()}}(jt=pe||(pe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new br([4294967295,4294967295],0);function Uy(a){const e=Iv().encode(a),i=new Rv;return i.update(e),new Uint8Array(i.digest())}function ky(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new br([i,s],0),new br([o,h],0)]}class vd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Pl(`Invalid padding: ${i}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=br.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(br.fromNumber(s)));return o.compare(IA)===1&&(o=new br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Uy(e),[s,o]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new vd(h,o,i);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const i=Uy(e),[s,o]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,no.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new hc(Et.min(),o,new re(Dt),Ui(),Nt())}}class no{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new no(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class c_{constructor(e,i){this.targetId=e,this.ge=i}}class h_{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class jy{constructor(){this.pe=0,this.ye=Ly(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),s=Nt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new no(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=Ly()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class MA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ui(),this.$e=Nu(),this.Ue=Nu(),this.Ke=new re(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Qf(h))if(s===0){const d=new pt(h.path);this.ze(i,d,Xe.newNoDocument(d,Et.min()))}else Gt(s===1);else{const d=this.et(i);if(d!==s){const p=this.tt(e),y=p?this.nt(p,e,d):1;if(y!==0){this.Ye(i);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,g)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Or(s).toUint8Array()}catch(y){if(y instanceof jv)return _s("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new vd(d,o,h)}catch(y){return _s(y instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.Ee===0?null:p}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const p=this.Xe(d);if(p){if(h.current&&Qf(p.target)){const y=new pt(p.target.path);this._t(y).has(d)||this.ut(d,y)||this.ze(d,y,Xe.newNoDocument(y,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Nt();this.Ue.forEach((h,d)=>{let p=!0;d.forEachWhile(y=>{const g=this.Xe(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new hc(e,i,this.Ke,this.Qe,s);return this.Qe=Ui(),this.$e=Nu(),this.Ue=Nu(),this.Ke=new re(Dt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new jy,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new we(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new jy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Nu(){return new re(pt.comparator)}function Ly(){return new re(pt.comparator)}const UA={asc:"ASCENDING",desc:"DESCENDING"},kA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jA={and:"AND",or:"OR"};class LA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Kf(a,e){return a.useProto3Json||rc(e)?e:{value:e}}function Zu(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f_(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function zA(a,e){return Zu(a,e.toTimestamp())}function ni(a){return Gt(!!a),Et.fromTimestamp(function(i){const s=Cr(i);return new be(s.seconds,s.nanos)}(a))}function _d(a,e){return $f(a,e).canonicalString()}function $f(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function d_(a){const e=Wt.fromString(a);return Gt(v_(e)),e}function Zf(a,e){return _d(a.databaseId,e.path)}function Nf(a,e){const i=d_(e);if(i.get(1)!==a.databaseId.projectId)throw new mt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new mt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(g_(i))}function m_(a,e){return _d(a.databaseId,e)}function BA(a){const e=d_(a);return e.length===4?Wt.emptyPath():g_(e)}function Wf(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function g_(a){return Gt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function zy(a,e,i){return{name:Zf(a,e),fields:i.value.mapValue.fields}}function PA(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(g,T){return g.useProto3Json?(Gt(T===void 0||typeof T=="string"),Be.fromBase64String(T||"")):(Gt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Be.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(g){const T=g.code===void 0?it.UNKNOWN:u_(g.code);return new mt(T,g.message||"")}(d);i=new h_(s,o,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nf(a,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):Et.min(),p=new rn({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(o,h,d,p),g=s.targetIds||[],T=s.removedTargetIds||[];i=new ku(g,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Nf(a,s.document),h=s.readTime?ni(s.readTime):Et.min(),d=Xe.newNoDocument(o,h),p=s.removedTargetIds||[];i=new ku([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Nf(a,s.document),h=s.removedTargetIds||[];i=new ku([],h,o,null)}else{if(!("filter"in e))return _t();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new xA(o,h),p=s.targetId;i=new c_(p,d)}}return i}function qA(a,e){let i;if(e instanceof eo)i={update:zy(a,e.key,e.value)};else if(e instanceof pd)i={delete:Zf(a,e.key)};else if(e instanceof Mr)i={update:zy(a,e.key,e.data),updateMask:ZA(e.fieldMask)};else{if(!(e instanceof CA))return _t();i={verify:Zf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const p=d.transform;if(p instanceof Ku)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof to)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $u)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw _t()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:zA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t()}(a,e.precondition)),i}function HA(a,e){return a&&a.length>0?(Gt(e!==void 0),a.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(Et.min())&&(d=ni(h)),new wA(d,o.transformResults||[])}(i,e))):[]}function GA(a,e){return{documents:[m_(a,e.path)]}}function FA(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=m_(a,o);const h=function(g){if(g.length!==0)return y_(ri.create(g,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(g){if(g.length!==0)return g.map(T=>function(E){return{field:ms(E.field),direction:YA(E.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Kf(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:i,parent:o}}function XA(a){let e=BA(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(R){const E=p_(R);return E instanceof ri&&Qv(E)?E.getFilters():[E]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(E=>function(M){return new Yu(gs(M.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(E))}(i.orderBy));let p=null;i.limit&&(p=function(R){let E;return E=typeof R=="object"?R.value:R,rc(E)?null:E}(i.limit));let y=null;i.startAt&&(y=function(R){const E=!!R.before,A=R.values||[];return new Qu(A,E)}(i.startAt));let g=null;return i.endAt&&(g=function(R){const E=!R.before,A=R.values||[];return new Qu(A,E)}(i.endAt)),hA(e,o,d,h,p,"F",y,g)}function QA(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function p_(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=gs(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=gs(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gs(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(gs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(s=>p_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(a):_t()}function YA(a){return UA[a]}function KA(a){return kA[a]}function $A(a){return jA[a]}function ms(a){return{fieldPath:a.canonicalString()}}function gs(a){return ze.fromServerFormat(a.fieldPath)}function y_(a){return a instanceof Se?function(i){if(i.op==="=="){if(Ry(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(wy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ry(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(wy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:KA(i.op),value:i.value}}}(a):a instanceof ri?function(i){const s=i.getFilters().map(o=>y_(o));return s.length===1?s[0]:{compositeFilter:{op:$A(i.op),filters:s}}}(a):_t()}function ZA(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function v_(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,i,s,o,h=Et.min(),d=Et.min(),p=Be.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.Tt=e}}function JA(a){const e=XA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.Tn=new eS}addToCollectionParentIndex(e,i){return this.Tn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(Dr.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class eS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},__=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(__,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ss(0)}static Kn(){return new Ss(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LruGarbageCollector",nS=1048576;function qy([a,e],[i,s]){const o=Dt(a,i);return o===0?Dt(e,s):o}class iS{constructor(e){this.Hn=e,this.buffer=new we(qy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();qy(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ut(Py,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?ut(Py,"Ignoring IndexedDB error during garbage collection: ",i):await Cs(i)}await this.er(3e5)})}}class aS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(ic.ae);const s=new iS(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(By)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),By):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,h,d,p,y,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,p=Date.now(),this.removeTargets(e,s,i))).next(R=>(h=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(g=Date.now(),fs()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(y-p)+`ms
	Removed ${R} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R})))}}function sS(a,e){return new aS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.changes=new Ea(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Xl(s.mutation,o,fn.empty(),be.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=pa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Bl();return h.forEach((p,y)=>{d=d.insert(p,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=pa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,s,o){let h=Ui();const d=Fl(),p=function(){return Fl()}();return i.forEach((y,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Mr)?h=h.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),Xl(T.mutation,g,T.mutation.getFieldMask(),be.now())):d.set(g.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((g,T)=>d.set(g,T)),i.forEach((g,T)=>{var R;return p.set(g,new oS(T,(R=d.get(g))!==null&&R!==void 0?R:null))}),p))}recalculateAndSaveOverlays(e,i){const s=Fl();let o=new re((d,p)=>d-p),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(y=>{const g=i.get(y);if(g===null)return;let T=s.get(y)||fn.empty();T=p.applyToLocalView(g,T),s.set(y,T);const R=(o.get(p.batchId)||Nt()).add(y);o=o.insert(p.batchId,R)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,T=y.value,R=e_();T.forEach(E=>{if(!h.has(E)){const A=l_(i.get(E),s.get(E));A!==null&&R.set(E,A),h=h.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,R))}return tt.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):tt.resolve(pa());let p=Kl,y=h;return d.next(g=>tt.forEach(g,(T,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(T)?tt.resolve():this.remoteDocumentCache.getEntry(e,T).next(E=>{y=y.insert(T,E)}))).next(()=>this.populateOverlays(e,g,h)).next(()=>this.computeViews(e,y,g,Nt())).next(T=>({batchId:p,changes:t_(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(p=>tt.forEach(p,y=>{const g=function(R,E){return new sc(E,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((R,E)=>{d=d.insert(R,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((y,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))});let p=Bl();return d.forEach((y,g)=>{const T=h.get(y);T!==void 0&&Xl(T.mutation,g,fn.empty(),be.now()),oc(i,g)&&(p=p.insert(y,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return tt.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:JA(o.bundledQuery),readTime:ni(o.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.overlays=new re(pt.comparator),this.Rr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=pa();return tt.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.Et(e,i,h)}),tt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const o=pa(),h=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===h&&y.largestBatchId>s&&o.set(y.getKey(),y)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new re((g,T)=>g-T);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let T=h.get(g.largestBatchId);T===null&&(T=pa(),h=h.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=pa(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,T)=>p.set(g,T)),!(p.size()>=o)););return tt.resolve(p)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new NA(i,s));let h=this.Rr.get(i);h===void 0&&(h=Nt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.Vr=new we(Ie.mr),this.gr=new we(Ie.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Ie(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Ie(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new pt(new Wt([])),s=new Ie(i,e),o=new Ie(i,e+1),h=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new pt(new Wt([])),s=new Ie(i,e),o=new Ie(i,e+1);let h=Nt();return this.gr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ie{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return pt.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Ie.mr)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new OA(h,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Mr=this.Mr.add(new Ie(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),h=o<0?0:o;return tt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?ud:this.Fr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,o],d=>{const p=this.Or(d.Cr);h.push(p)}),tt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Dt);return i.forEach(o=>{const h=new Ie(o,0),d=new Ie(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],p=>{s=s.add(p.Cr)})}),tt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;pt.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new pt(h),0);let p=new we(Dt);return this.Mr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(y.Cr)),!0)},d),tt.resolve(this.Br(p))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return tt.forEach(i.mutations,o=>{const h=new Ie(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Ie(i,0),o=this.Mr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.kr=e,this.docs=function(){return new re(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Ui();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ui();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||HT(qT(T),s)<=0||(o.has(T.key)||oc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return tt.resolve(h)}getAllFromCollectionGroup(e,i,s,o){_t()}qr(e,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new gS(this)}getSize(e){return tt.resolve(this.size)}}class gS extends lS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),tt.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.persistence=e,this.Qr=new Ea(i=>fd(i),dd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ed,this.targetCount=0,this.Kr=Ss.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),tt.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Ss(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.zn(i),tt.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),tt.waitFor(h).next(()=>o)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),tt.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new ic(0),this.zr=!1,this.zr=!0,this.jr=new fS,this.referenceDelegate=e(this),this.Hr=new pS(this),this.indexManager=new tS,this.remoteDocumentCache=function(o){return new mS(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new WA(i),this.Yr=new cS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new dS(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new yS(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return tt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class yS extends FT{constructor(e){super(),this.currentSequenceNumber=e}}class Td{constructor(e){this.persistence=e,this.ti=new Ed,this.ni=null}static ri(e){return new Td(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),tt.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return tt.or([()=>tt.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Wu{constructor(e,i){this.persistence=e,this.oi=new Ea(s=>YT(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sS(this,i)}static ri(e,i){return new Wu(e,i)}Zr(){}Xr(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return tt.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(h=>h?tt.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(p=>{p||(s++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),tt.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Iu(e.data.value)),i}ar(e,i,s){return tt.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ad(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return m1()?8:XT(f1())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new vS;return this._s(e,i,d).next(p=>{if(h.result=p,this.Xi)return this.us(e,i,d,p.size)})}).next(()=>h.result)}us(e,i,s,o){return s.documentReadCount<this.es?(fs()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(fs()<=Lt.DEBUG&&ut("QueryEngine","Query:",ds(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(fs()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):tt.resolve())}rs(e,i){if(Ny(i))return tt.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Yf(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(y=>{const g=this.cs(i,p);return this.ls(i,g,d,y.readTime)?this.rs(e,Yf(i,null,"F")):this.hs(e,g,i,y)}))})))}ss(e,i,s,o){return Ny(i)||o.isEqual(Et.min())?tt.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,o)?tt.resolve(null):(fs()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ds(i)),this.hs(e,d,i,PT(o,Kl)).next(p=>p))})}cs(e,i){let s=new we(Wv(e));return i.forEach((o,h)=>{oc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,s){return fs()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ds(i)),this.ns.getDocumentsMatchingQuery(e,i,Dr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="LocalStore",ES=3e8;class TS{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new re(Dt),this.Is=new Ea(h=>fd(h),dd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function AS(a,e,i,s){return new TS(a,e,i,s)}async function T_(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],p=[];let y=Nt();for(const g of o){d.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of h){p.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next(g=>({Rs:g,removedBatchIds:d,addedBatchIds:p}))})})}function SS(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(p,y,g,T){const R=g.batch,E=R.keys();let A=tt.resolve();return E.forEach(M=>{A=A.next(()=>T.getEntry(y,M)).next(I=>{const j=g.docVersions.get(M);Gt(j!==null),I.version.compareTo(j)<0&&(R.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),T.addEntry(I)))})}),A.next(()=>p.mutationQueue.removeMutationBatch(y,R))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let y=Nt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function A_(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function bS(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const p=[];e.targetChanges.forEach((T,R)=>{const E=o.get(R);if(!E)return;p.push(i.Hr.removeMatchingKeys(h,T.removedDocuments,R).next(()=>i.Hr.addMatchingKeys(h,T.addedDocuments,R)));let A=E.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?A=A.withResumeToken(Be.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(T.resumeToken,s)),o=o.insert(R,A),function(I,j,Y){return I.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=ES?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(E,A,T)&&p.push(i.Hr.updateTargetData(h,A))});let y=Ui(),g=Nt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),p.push(wS(h,d,e.documentUpdates).next(T=>{y=T.Vs,g=T.fs})),!s.isEqual(Et.min())){const T=i.Hr.getLastRemoteSnapshotVersion(h).next(R=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));p.push(T)}return tt.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,g)).next(()=>y)}).then(h=>(i.Ts=o,h))}function wS(a,e,i){let s=Nt(),o=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Ui();return i.forEach((p,y)=>{const g=h.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ut(Sd,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)}),{Vs:d,fs:o}})}function RS(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ud),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function DS(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(h=>h?(o=h,tt.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Tr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Jf(a,e,i){const s=St(a),o=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Os(d))throw d;ut(Sd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Hy(a,e,i){const s=St(a);let o=Et.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,g,T){const R=St(y),E=R.Is.get(T);return E!==void 0?tt.resolve(R.Ts.get(E)):R.Hr.getTargetData(g,T)}(s,d,ei(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,p.targetId).next(y=>{h=y})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Nt())).next(p=>(CS(s,mA(e),p),{documents:p,gs:h})))}function CS(a,e,i){let s=a.Es.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(e,s)}class Gy{constructor(){this.activeTargetIds=EA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OS{constructor(){this.ho=new Gy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Gy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="ConnectivityMonitor";class Xy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(Fy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ut(Fy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu=null;function td(){return xu===null?xu=function(){return 268435456+Math.round(2147483648*Math.random())}():xu++,"0x"+xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="RestConnection",xS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Fu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,h){const d=td(),p=this.bo(e,i.toUriEncodedString());ut(xf,`Sending RPC '${e}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,o,h),this.vo(e,p,y,s).then(g=>(ut(xf,`Received RPC '${e}' ${d}: `,g),g),g=>{throw _s(xf,`RPC '${e}' ${d} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,i,s,o,h,d){return this.So(e,i,s,o,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ds}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const s=xS[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class MS extends VS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const h=td();return new Promise((d,p)=>{const y=new Dv;y.setWithCredentials(!0),y.listenOnce(Cv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Vu.NO_ERROR:const T=y.getResponseJson();ut(Ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case Vu.TIMEOUT:ut(Ge,`RPC '${e}' ${h} timed out`),p(new mt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const R=y.getStatus();if(ut(Ge,`RPC '${e}' ${h} failed with status:`,R,"response text:",y.getResponseText()),R>0){let E=y.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const M=function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Y)>=0?Y:it.UNKNOWN}(A.status);p(new mt(M,A.message))}else p(new mt(it.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new mt(it.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{ut(Ge,`RPC '${e}' ${h} completed.`)}});const g=JSON.stringify(o);ut(Ge,`RPC '${e}' ${h} sending request:`,o),y.send(i,"POST",g,s,15)})}Wo(e,i,s){const o=td(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=xv(),p=Nv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=h.join("");ut(Ge,`Creating RPC '${e}' stream ${o}: ${T}`,y);const R=d.createWebChannel(T,y);let E=!1,A=!1;const M=new IS({Fo:j=>{A?ut(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(E||(ut(Ge,`Opening RPC '${e}' stream ${o} transport.`),R.open(),E=!0),ut(Ge,`RPC '${e}' stream ${o} sending:`,j),R.send(j))},Mo:()=>R.close()}),I=(j,Y,K)=>{j.listen(Y,L=>{try{K(L)}catch(W){setTimeout(()=>{throw W},0)}})};return I(R,zl.EventType.OPEN,()=>{A||(ut(Ge,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),I(R,zl.EventType.CLOSE,()=>{A||(A=!0,ut(Ge,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),I(R,zl.EventType.ERROR,j=>{A||(A=!0,_s(Ge,`RPC '${e}' stream ${o} transport errored:`,j),M.Uo(new mt(it.UNAVAILABLE,"The operation could not be completed")))}),I(R,zl.EventType.MESSAGE,j=>{var Y;if(!A){const K=j.data[0];Gt(!!K);const L=K,W=(L==null?void 0:L.error)||((Y=L[0])===null||Y===void 0?void 0:Y.error);if(W){ut(Ge,`RPC '${e}' stream ${o} received error:`,W);const X=W.status;let et=function(w){const V=pe[w];if(V!==void 0)return u_(V)}(X),C=W.message;et===void 0&&(et=it.INTERNAL,C="Unknown error status: "+X+" with message "+W.message),A=!0,M.Uo(new mt(et,C)),R.close()}else ut(Ge,`RPC '${e}' stream ${o} received:`,K),M.Ko(K)}}),I(p,Ov.STAT_EVENT,j=>{j.stat===qf.PROXY?ut(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===qf.NOPROXY&&ut(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(a){return new LA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="PersistentStream";class b_{constructor(e,i,s,o,h,d,p,y){this.Ti=e,this.n_=s,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new S_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new mt(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ut(Qy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(ut(Qy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class US extends b_{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=PA(this.serializer,e),s=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ni(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Wf(this.serializer),i.addTarget=function(h,d){let p;const y=d.target;if(p=Qf(y)?{documents:GA(h,y)}:{query:FA(h,y).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=f_(h,d.resumeToken);const g=Kf(h,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=Zu(h,d.snapshotVersion.toTimestamp());const g=Kf(h,d.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=QA(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Wf(this.serializer),i.removeTarget=e,this.I_(i)}}class kS extends b_{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=HA(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Wf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>qA(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class LS extends jS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new mt(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,$f(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new mt(it.UNKNOWN,h.toString())})}Co(e,i,s,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,$f(i,s),o,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(it.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):ut("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class BS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ta(this)&&(ut(_a,"Restarting streams for network reachability change."),await async function(y){const g=St(y);g.W_.add(4),await io(g),g.j_.set("Unknown"),g.W_.delete(4),await dc(g)}(this))})}),this.j_=new zS(s,o)}}async function dc(a){if(Ta(a))for(const e of a.G_)await e(!0)}async function io(a){for(const e of a.G_)await e(!1)}function w_(a,e){const i=St(a);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Dd(i)?Rd(i):Ns(i).c_()&&wd(i,e))}function bd(a,e){const i=St(a),s=Ns(i);i.K_.delete(e),s.c_()&&R_(i,e),i.K_.size===0&&(s.c_()?s.P_():Ta(i)&&i.j_.set("Unknown"))}function wd(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(a).y_(e)}function R_(a,e){a.H_.Ne(e),Ns(a).w_(e)}function Rd(a){a.H_=new MA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.K_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Ns(a).start(),a.j_.B_()}function Dd(a){return Ta(a)&&!Ns(a).u_()&&a.K_.size>0}function Ta(a){return St(a).W_.size===0}function D_(a){a.H_=void 0}async function PS(a){a.j_.set("Online")}async function qS(a){a.K_.forEach((e,i)=>{wd(a,e)})}async function HS(a,e){D_(a),Dd(a)?(a.j_.q_(e),Rd(a)):a.j_.set("Unknown")}async function GS(a,e,i){if(a.j_.set("Online"),e instanceof h_&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const p of h.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.K_.delete(p),o.H_.removeTarget(p))}(a,e)}catch(s){ut(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ju(a,s)}else if(e instanceof ku?a.H_.We(e):e instanceof c_?a.H_.Ze(e):a.H_.je(e),!i.isEqual(Et.min()))try{const s=await A_(a.localStore);i.compareTo(s)>=0&&await function(h,d){const p=h.H_.ot(d);return p.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const T=h.K_.get(g);T&&h.K_.set(g,T.withResumeToken(y.resumeToken,d))}}),p.targetMismatches.forEach((y,g)=>{const T=h.K_.get(y);if(!T)return;h.K_.set(y,T.withResumeToken(Be.EMPTY_BYTE_STRING,T.snapshotVersion)),R_(h,y);const R=new Tr(T.target,y,g,T.sequenceNumber);wd(h,R)}),h.remoteSyncer.applyRemoteEvent(p)}(a,i)}catch(s){ut(_a,"Failed to raise snapshot:",s),await Ju(a,s)}}async function Ju(a,e,i){if(!Os(e))throw e;a.W_.add(1),await io(a),a.j_.set("Offline"),i||(i=()=>A_(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ut(_a,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await dc(a)})}function C_(a,e){return e().catch(i=>Ju(a,i,e))}async function mc(a){const e=St(a),i=xr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:ud;for(;FS(e);)try{const o=await RS(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,XS(e,o)}catch(o){await Ju(e,o)}O_(e)&&N_(e)}function FS(a){return Ta(a)&&a.U_.length<10}function XS(a,e){a.U_.push(e);const i=xr(a);i.c_()&&i.S_&&i.b_(e.mutations)}function O_(a){return Ta(a)&&!xr(a).u_()&&a.U_.length>0}function N_(a){xr(a).start()}async function QS(a){xr(a).C_()}async function YS(a){const e=xr(a);for(const i of a.U_)e.b_(i.mutations)}async function KS(a,e,i){const s=a.U_.shift(),o=yd.from(s,e,i);await C_(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await mc(a)}async function $S(a,e){e&&xr(a).S_&&await async function(s,o){if(function(d){return VA(d)&&d!==it.ABORTED}(o.code)){const h=s.U_.shift();xr(s).h_(),await C_(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await mc(s)}}(a,e),O_(a)&&N_(a)}async function Yy(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),ut(_a,"RemoteStore received new credentials");const s=Ta(i);i.W_.add(3),await io(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await dc(i)}async function ZS(a,e){const i=St(a);e?(i.W_.delete(2),await dc(i)):e||(i.W_.add(2),await io(i),i.j_.set("Unknown"))}function Ns(a){return a.J_||(a.J_=function(i,s,o){const h=St(i);return h.M_(),new US(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:PS.bind(null,a),No:qS.bind(null,a),Lo:HS.bind(null,a),p_:GS.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),Dd(a)?Rd(a):a.j_.set("Unknown")):(await a.J_.stop(),D_(a))})),a.J_}function xr(a){return a.Y_||(a.Y_=function(i,s,o){const h=St(i);return h.M_(),new kS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:QS.bind(null,a),Lo:$S.bind(null,a),D_:YS.bind(null,a),v_:KS.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await mc(a)):(await a.Y_.stop(),a.U_.length>0&&(ut(_a,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,p=new Cd(e,i,d,o,h);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Od(a,e){if(Mi("AsyncQueue",`${e}: ${a}`),Os(a))return new mt(it.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{static emptySet(e){return new vs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Z_=new re(pt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class bs{constructor(e,i,s,o,h,d,p,y,g){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new bs(e,i,vs.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class JS{constructor(){this.queries=$y(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=St(i),h=o.queries;o.queries=$y(),h.forEach((d,p)=>{for(const y of p.ta)y.onError(s)})})(this,new mt(it.ABORTED,"Firestore shutting down"))}}function $y(){return new Ea(a=>Zv(a),lc)}async function x_(a,e){const i=St(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(s=2):(h=new WS,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Od(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Nd(i)}async function V_(a,e){const i=St(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function tb(a,e){const i=St(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ta)p.oa(o)&&(s=!0);d.ea=o}}s&&Nd(i)}function eb(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const h of o.ta)h.onError(i);s.queries.delete(e)}function Nd(a){a.ia.forEach(e=>{e.next()})}var ed,Zy;(Zy=ed||(ed={}))._a="default",Zy.Cache="cache";class I_{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ed.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.key=e}}class U_{constructor(e){this.key=e}}class nb{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=Wv(e),this.wa=new vs(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Ky,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,R)=>{const E=o.get(T),A=oc(this.query,R)?R:null,M=!!E&&this.mutatedKeys.has(E.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;E&&A?E.data.isEqual(A.data)?M!==I&&(s.track({type:3,doc:A}),j=!0):this.va(E,A)||(s.track({type:2,doc:A}),j=!0,(y&&this.ya(A,y)>0||g&&this.ya(A,g)<0)&&(p=!0)):!E&&A?(s.track({type:0,doc:A}),j=!0):E&&!A&&(s.track({type:1,doc:E}),j=!0,(y||g)&&(p=!0)),j&&(A?(d=d.add(A),h=I?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:p,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,R)=>function(A,M){const I=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return I(A)-I(M)}(T.type,R.type)||this.ya(T.doc,R.doc)),this.Ca(s),o=o!=null&&o;const p=i&&!o?this.Fa():[],y=this.pa.size===0&&this.current&&!o?1:0,g=y!==this.ga;return this.ga=y,d.length!==0||g?{snapshot:new bs(this.query,e.wa,h,d,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ky,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new U_(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new M_(s))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return bs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const xd="SyncEngine";class ib{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class rb{constructor(e){this.key=e,this.Ba=!1}}class ab{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ea(p=>Zv(p),lc),this.qa=new Map,this.Qa=new Set,this.$a=new re(pt.comparator),this.Ua=new Map,this.Ka=new Ed,this.Wa={},this.Ga=new Map,this.za=Ss.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sb(a,e,i=!0){const s=P_(a);let o;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await k_(s,e,i,!0),o}async function lb(a,e){const i=P_(a);await k_(i,e,!0,!1)}async function k_(a,e,i,s){const o=await DS(a.localStore,ei(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await ob(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&w_(a.remoteStore,o),p}async function ob(a,e,i,s,o){a.Ha=(R,E,A)=>async function(I,j,Y,K){let L=j.view.ba(Y);L.ls&&(L=await Hy(I.localStore,j.query,!1).then(({documents:C})=>j.view.ba(C,L)));const W=K&&K.targetChanges.get(j.targetId),X=K&&K.targetMismatches.get(j.targetId)!=null,et=j.view.applyChanges(L,I.isPrimaryClient,W,X);return Jy(I,j.targetId,et.Ma),et.snapshot}(a,R,E,A);const h=await Hy(a.localStore,e,!0),d=new nb(e,h.gs),p=d.ba(h.documents),y=no.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),g=d.applyChanges(p,a.isPrimaryClient,y);Jy(a,i,g.Ma);const T=new ib(e,i,d);return a.ka.set(e,T),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),g.snapshot}async function ub(a,e,i){const s=St(a),o=s.ka.get(e),h=s.qa.get(o.targetId);if(h.length>1)return s.qa.set(o.targetId,h.filter(d=>!lc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&bd(s.remoteStore,o.targetId),nd(s,o.targetId)}).catch(Cs)):(nd(s,o.targetId),await Jf(s.localStore,o.targetId,!0))}async function cb(a,e){const i=St(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),bd(i.remoteStore,s.targetId))}async function hb(a,e,i){const s=vb(a);try{const o=await function(d,p){const y=St(d),g=be.now(),T=p.reduce((A,M)=>A.add(M.key),Nt());let R,E;return y.persistence.runTransaction("Locally write mutations","readwrite",A=>{let M=Ui(),I=Nt();return y.ds.getEntries(A,T).next(j=>{M=j,M.forEach((Y,K)=>{K.isValidDocument()||(I=I.add(Y))})}).next(()=>y.localDocuments.getOverlayedDocuments(A,M)).next(j=>{R=j;const Y=[];for(const K of p){const L=DA(K,R.get(K.key).overlayedDocument);L!=null&&Y.push(new Mr(K.key,L,Gv(L.value.mapValue),jn.exists(!0)))}return y.mutationQueue.addMutationBatch(A,g,Y,p)}).next(j=>{E=j;const Y=j.applyToLocalDocumentSet(R,I);return y.documentOverlayCache.saveOverlays(A,j.batchId,Y)})}).then(()=>({batchId:E.batchId,changes:t_(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,p,y){let g=d.Wa[d.currentUser.toKey()];g||(g=new re(Dt)),g=g.insert(p,y),d.Wa[d.currentUser.toKey()]=g}(s,o.batchId,i),await ro(s,o.changes),await mc(s.remoteStore)}catch(o){const h=Od(o,"Failed to persist write");i.reject(h)}}async function j_(a,e){const i=St(a);try{const s=await bS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Gt(d.Ba):o.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await ro(i,s,e)}catch(s){await Cs(s)}}function Wy(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((h,d)=>{const p=d.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const y=St(d);y.onlineState=p;let g=!1;y.queries.forEach((T,R)=>{for(const E of R.ta)E.sa(p)&&(g=!0)}),g&&Nd(y)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fb(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),h=o&&o.key;if(h){let d=new re(pt.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const p=Nt().add(h),y=new hc(Et.min(),new Map,new re(Dt),d,p);await j_(s,y),s.$a=s.$a.remove(h),s.Ua.delete(e),Vd(s)}else await Jf(s.localStore,e,!1).then(()=>nd(s,e,i)).catch(Cs)}async function db(a,e){const i=St(a),s=e.batch.batchId;try{const o=await SS(i.localStore,e);z_(i,s,null),L_(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ro(i,o)}catch(o){await Cs(o)}}async function mb(a,e,i){const s=St(a);try{const o=await function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return y.mutationQueue.lookupMutationBatch(g,p).next(R=>(Gt(R!==null),T=R.keys(),y.mutationQueue.removeMutationBatch(g,R))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>y.localDocuments.getDocuments(g,T))})}(s.localStore,e);z_(s,e,i),L_(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ro(s,o)}catch(o){await Cs(o)}}function L_(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function z_(a,e,i){const s=St(a);let o=s.Wa[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function nd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ka.br(e).forEach(s=>{a.Ka.containsKey(s)||B_(a,s)})}function B_(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(bd(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ua.delete(i),Vd(a))}function Jy(a,e,i){for(const s of i)s instanceof M_?(a.Ka.addReference(s.key,e),gb(a,s)):s instanceof U_?(ut(xd,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,e),a.Ka.containsKey(s.key)||B_(a,s.key)):_t()}function gb(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(ut(xd,"New document in limbo: "+i),a.Qa.add(s),Vd(a))}function Vd(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new pt(Wt.fromString(e)),s=a.za.next();a.Ua.set(s,new rb(i)),a.$a=a.$a.insert(i,s),w_(a.remoteStore,new Tr(ei(md(i.path)),s,"TargetPurposeLimboResolution",ic.ae))}}async function ro(a,e,i){const s=St(a),o=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((p,y)=>{d.push(s.Ha(y,e,i).then(g=>{var T;if((g||i)&&s.isPrimaryClient){const R=g?!g.fromCache:(T=i==null?void 0:i.targetChanges.get(y.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(g){o.push(g);const R=Ad.Yi(y.targetId,g);h.push(R)}}))}),await Promise.all(d),s.La.p_(o),await async function(y,g){const T=St(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>tt.forEach(g,E=>tt.forEach(E.Hi,A=>T.persistence.referenceDelegate.addReference(R,E.targetId,A)).next(()=>tt.forEach(E.Ji,A=>T.persistence.referenceDelegate.removeReference(R,E.targetId,A)))))}catch(R){if(!Os(R))throw R;ut(Sd,"Failed to update sequence numbers: "+R)}for(const R of g){const E=R.targetId;if(!R.fromCache){const A=T.Ts.get(E),M=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(M);T.Ts=T.Ts.insert(E,I)}}}(s.localStore,h))}async function pb(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){ut(xd,"User change. New user:",e.toKey());const s=await T_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(p=>{p.forEach(y=>{y.reject(new mt(it.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ro(i,s.Rs)}}function yb(a,e){const i=St(a),s=i.Ua.get(e);if(s&&s.Ba)return Nt().add(s.key);{let o=Nt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const p=i.ka.get(d);o=o.unionWith(p.view.Sa)}return o}}function P_(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=j_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fb.bind(null,e),e.La.p_=tb.bind(null,e.eventManager),e.La.Ja=eb.bind(null,e.eventManager),e}function vb(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=db.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mb.bind(null,e),e}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return AS(this.persistence,new _S,e.initialUser,this.serializer)}Xa(e){return new E_(Td.ri,this.serializer)}Za(e){return new OS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class _b extends tc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Gt(this.persistence.referenceDelegate instanceof Wu);const s=this.persistence.referenceDelegate.garbageCollector;return new rS(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new E_(s=>Wu.ri(s,i),this.serializer)}}class id{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pb.bind(null,this.syncEngine),await ZS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JS}()}createDatastore(e){const i=fc(e.databaseInfo.databaseId),s=function(h){return new MS(h)}(e.databaseInfo);return function(h,d,p,y){return new LS(h,d,p,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,p){return new BS(s,o,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Wy(this.syncEngine,i,0),function(){return Xy.D()?new Xy:new NS}())}createSyncEngine(e,i){return function(o,h,d,p,y,g,T){const R=new ab(o,h,d,p,y,g);return T&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=St(o);ut(_a,"RemoteStore shutting down."),h.W_.add(5),await io(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}id.provider={build:()=>new id};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class Eb{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{ut(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ut(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Od(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function If(a,e){a.asyncQueue.verifyOperationInProgress(),ut(Vr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await T_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function tv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Tb(a);ut(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Yy(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>Yy(e.remoteStore,o)),a._onlineComponents=e}async function Tb(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(Vr,"Using user provided OfflineComponentProvider");try{await If(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;_s("Error using user provided cache. Falling back to memory cache: "+i),await If(a,new tc)}}else ut(Vr,"Using default OfflineComponentProvider"),await If(a,new _b(void 0));return a._offlineComponents}async function H_(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(Vr,"Using user provided OnlineComponentProvider"),await tv(a,a._uninitializedComponentsProvider._online)):(ut(Vr,"Using default OnlineComponentProvider"),await tv(a,new id))),a._onlineComponents}function Ab(a){return H_(a).then(e=>e.syncEngine)}async function G_(a){const e=await H_(a),i=e.eventManager;return i.onListen=sb.bind(null,e.syncEngine),i.onUnlisten=ub.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=lb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=cb.bind(null,e.syncEngine),i}function Sb(a,e,i={}){const s=new Vi;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,p,y,g){const T=new q_({next:E=>{T.su(),d.enqueueAndForget(()=>V_(h,R));const A=E.docs.has(p);!A&&E.fromCache?g.reject(new mt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&y&&y.source==="server"?g.reject(new mt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),R=new I_(md(p.path),T,{includeMetadataChanges:!0,Ta:!0});return x_(h,R)}(await G_(a),a.asyncQueue,e,i,s)),s.promise}function bb(a,e,i={}){const s=new Vi;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,p,y,g){const T=new q_({next:E=>{T.su(),d.enqueueAndForget(()=>V_(h,R)),E.fromCache&&y.source==="server"?g.reject(new mt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),R=new I_(p,T,{includeMetadataChanges:!0,Ta:!0});return x_(h,R)}(await G_(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(a,e,i){if(!i)throw new mt(it.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function wb(a,e,i,s){if(e===!0&&s===!0)throw new mt(it.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function nv(a){if(!pt.isDocumentKey(a))throw new mt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function iv(a){if(pt.isDocumentKey(a))throw new mt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Id(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t()}function ki(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new mt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Id(a);throw new mt(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="firestore.googleapis.com",rv=!0;class av{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new mt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q_,this.ssl=rv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:rv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=__;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nS)throw new mt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new mt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new mt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new mt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new mt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VT;switch(s.type){case"firstParty":return new kT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=ev.get(i);s&&(ut("ComponentProvider","Removing Datastore"),ev.delete(i),s.terminate())}(this),Promise.resolve()}}function Rb(a,e,i,s={}){var o;const h=(a=ki(a,gc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),p=`${e}:${i}`;h.host!==Q_&&h.host!==p&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:p,ssl:!1,emulatorOptions:s});if(!Pu(y,d)&&(a._setSettings(y),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=Fe.MOCK_USER;else{g=h1(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new mt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Fe(R)}a._authCredentials=new IT(new Vv(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pc(this.firestore,e,this._query)}}class dn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class wr extends pc{constructor(e,i,s){super(e,i,md(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new pt(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Y_(a,e,...i){if(a=Rr(a),X_("collection","path",e),a instanceof gc){const s=Wt.fromString(e,...i);return iv(s),new wr(a,null,s)}{if(!(a instanceof dn||a instanceof wr))throw new mt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return iv(s),new wr(a.firestore,null,s)}}function Md(a,e,...i){if(a=Rr(a),arguments.length===1&&(e=Mv.newId()),X_("doc","path",e),a instanceof gc){const s=Wt.fromString(e,...i);return nv(s),new dn(a,null,new pt(s))}{if(!(a instanceof dn||a instanceof wr))throw new mt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return nv(s),new dn(a.firestore,a instanceof wr?a.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new S_(this,"async_queue_retry"),this.Su=()=>{const s=Vf();s&&ut(sv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Vf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Vf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Vi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Os(e))throw e;ut(sv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(s);throw Mi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Cd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class xs extends gc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function Db(a,e){const i=typeof a=="object"?a:TT(),s=typeof a=="string"?a:Fu,o=pT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=u1("firestore");h&&Rb(o,...h)}return o}function Ud(a){if(a._terminated)throw new mt(it.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Cb(a),a._firestoreClient}function Cb(a){var e,i,s;const o=a._freezeSettings(),h=function(p,y,g,T){return new ZT(p,y,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,F_(T.experimentalLongPollingOptions),T.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new Eb(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(Be.fromBase64String(e))}catch(i){throw new mt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ws(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new mt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new mt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new mt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=/^__.*__$/;class Nb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new eo(e,this.data,i,this.fieldTransforms)}}class K_{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function $_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class zd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new zd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ec(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if($_(this.Lu)&&Ob.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||fc(e)}ju(e,i,s,o=!1){return new zd({Lu:e,methodName:i,zu:s,path:ze.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Z_(a){const e=a._freezeSettings(),i=fc(a._databaseId);return new xb(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Vb(a,e,i,s,o,h={}){const d=a.ju(h.merge||h.mergeFields?2:0,e,i,o);Bd("Data must be an object, but it was:",d,s);const p=W_(s,d);let y,g;if(h.merge)y=new fn(d.fieldMask),g=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const R of h.mergeFields){const E=rd(e,R,i);if(!d.contains(E))throw new mt(it.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);t0(T,E)||T.push(E)}y=new fn(T),g=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,g=d.fieldTransforms;return new Nb(new rn(p),y,g)}class vc extends kd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vc}}function Ib(a,e,i,s){const o=a.ju(1,e,i);Bd("Data must be an object, but it was:",o,s);const h=[],d=rn.empty();Ir(s,(y,g)=>{const T=Pd(e,y,i);g=Rr(g);const R=o.Uu(T);if(g instanceof vc)h.push(T);else{const E=_c(g,R);E!=null&&(h.push(T),d.set(T,E))}});const p=new fn(h);return new K_(d,p,o.fieldTransforms)}function Mb(a,e,i,s,o,h){const d=a.ju(1,e,i),p=[rd(e,s,i)],y=[o];if(h.length%2!=0)throw new mt(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<h.length;E+=2)p.push(rd(e,h[E])),y.push(h[E+1]);const g=[],T=rn.empty();for(let E=p.length-1;E>=0;--E)if(!t0(g,p[E])){const A=p[E];let M=y[E];M=Rr(M);const I=d.Uu(A);if(M instanceof vc)g.push(A);else{const j=_c(M,I);j!=null&&(g.push(A),T.set(A,j))}}const R=new fn(g);return new K_(T,R,d.fieldTransforms)}function _c(a,e){if(J_(a=Rr(a)))return Bd("Unsupported field value:",e,a),W_(a,e);if(a instanceof kd)return function(s,o){if(!$_(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const p of s){let y=_c(p,o.Ku(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=Rr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=be.fromDate(s);return{timestampValue:Zu(o.serializer,h)}}if(s instanceof be){const h=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zu(o.serializer,h)}}if(s instanceof jd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ws)return{bytesValue:f_(o.serializer,s._byteString)};if(s instanceof dn){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:_d(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ld)return function(d,p){return{mapValue:{fields:{[qv]:{stringValue:Hv},[Xu]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return gd(p.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Id(s)}`)}(a,e)}function W_(a,e){const i={};return kv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(a,(s,o)=>{const h=_c(o,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function J_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof be||a instanceof jd||a instanceof ws||a instanceof dn||a instanceof kd||a instanceof Ld)}function Bd(a,e,i){if(!J_(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Id(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function rd(a,e,i){if((e=Rr(e))instanceof yc)return e._internalPath;if(typeof e=="string")return Pd(a,e);throw ec("Field path arguments must be of type string or ",a,!1,void 0,i)}const Ub=new RegExp("[~\\*/\\[\\]]");function Pd(a,e,i){if(e.search(Ub)>=0)throw ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new yc(...e.split("."))._internalPath}catch{throw ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function ec(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new mt(it.INVALID_ARGUMENT,p+a+y)}function t0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(n0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kb extends e0{data(){return super.data()}}function n0(a,e){return typeof e=="string"?Pd(a,e):e instanceof yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new mt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lb{convertValue(e,i="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ir(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Xu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new Ld(h)}convertGeoPoint(e){return new jd(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=ac(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=Cr(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Gt(v_(s));const o=new Zl(s.get(1),s.get(3)),h=new pt(s.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i0 extends e0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(n0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ju extends i0{data(e={}){return super.data(e)}}class Bb{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new ju(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const y=new ju(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const y=new ju(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:Pb(p.type),doc:y,oldIndex:g,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Pb(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(a){a=ki(a,dn);const e=ki(a.firestore,xs);return Sb(Ud(e),a._key).then(i=>Qb(e,a,i))}class r0 extends Lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,i)}}function Hb(a){a=ki(a,pc);const e=ki(a.firestore,xs),i=Ud(e),s=new r0(e);return jb(a._query),bb(i,a._query).then(o=>new Bb(e,s,a,o))}function Gb(a,e,i,...s){a=ki(a,dn);const o=ki(a.firestore,xs),h=Z_(o);let d;return d=typeof(e=Rr(e))=="string"||e instanceof yc?Mb(h,"updateDoc",a._key,e,i,s):Ib(h,"updateDoc",a._key,e),qd(o,[d.toMutation(a._key,jn.exists(!0))])}function Fb(a){return qd(ki(a.firestore,xs),[new pd(a._key,jn.none())])}function Xb(a,e){const i=ki(a.firestore,xs),s=Md(a),o=zb(a.converter,e);return qd(i,[Vb(Z_(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then(()=>s)}function qd(a,e){return function(s,o){const h=new Vi;return s.asyncQueue.enqueueAndForget(async()=>hb(await Ab(s),o,h)),h.promise}(Ud(a),e)}function Qb(a,e,i){const s=i.docs.get(e._key),o=new r0(a);return new i0(a,o,e._key,s,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ds=o})(ET),Hu(new Ql("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new xs(new MT(s.getProvider("auth-internal")),new jT(d,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,T)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),ys(dy,my,e),ys(dy,my,"esm2017")})();var Yb="firebase",Kb="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(Yb,Kb,"app");const $b={apiKey:"AIzaSyB8q0VG33RpBTlCcxm8bwa3rgsilkMowq8",authDomain:"naturaltask-6c6db.firebaseapp.com",projectId:"naturaltask-6c6db",storageBucket:"naturaltask-6c6db.firebasestorage.app",messagingSenderId:"12789069261",appId:"1:12789069261:web:9e63e9b2751b69a4ae4084",measurementId:"G-EF6ECNVKBQ"},Zb=Sv($b),Ec=Db(Zb);async function Wb(a){const e=Y_(Ec,"users",a,"tasks");try{const i=await Hb(e),s=[];return i.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(i){throw console.error("Error fetching user tasks:",i),i}}const Jb="/assets/christmas-stars-DKo1nKIU.png";function t2(a){if(typeof chrome>"u"||typeof chrome.alarms>"u"){console.error("Only accessible in Extension.");return}const i={when:new Date(`${a.date}T${a.time}`).getTime()};switch(a.frequency){case"daily":i.periodInMinutes=1440;break;case"weekly":i.periodInMinutes=10080;break;case"weekdays":const s=[1,2,3,4,5],o=new Date(`${a.date}T${a.time}`);s.forEach(h=>{const d=getNextWeekday(o,h),p=`${a.title}-${h}`;chrome.alarms.create(p,{when:d.getTime(),periodInMinutes:1440*7}),chrome.storage.local.set({[p]:a})}),console.log(`Chrome alarms created for weekdays for task '${a.title}'`);return;case"monthly":i.periodInMinutes=43200;break;case"yearly":i.periodInMinutes=525600;break;case"test":i.when=Date.now()+60*1e3;break;case null:break;default:console.error(`Invalid frequency: ${a.frequency}`);return}chrome.alarms.create(a.title,i),chrome.storage.local.set({[a.title]:a}),console.log(`Chrome alarm '${a.title}' created for ${a.date} at ${a.time}`)}function e2(){return typeof chrome<"u"&&!!chrome.runtime&&!!chrome.runtime.id}function n2({closeWindow:a,initialState:e="idle"}){const i=e2(),s=It.useRef(null),[o,h]=It.useState(e),[d,p]=It.useState(!1),[y,g]=It.useState(0),[T,R]=It.useState(0),E=It.useRef(null);It.useEffect(()=>(o==="voice"?(A(),R(0),E.current=setInterval(()=>{R(L=>L+1)},1e3)):(M(),E.current&&clearInterval(E.current)),()=>{E.current&&clearInterval(E.current)}),[o]),It.useEffect(()=>{if(o=="genwait"){const L=setTimeout(()=>{h("postgen")},1e3);return()=>clearTimeout(L)}},[o]);const A=async()=>{try{const L=await navigator.mediaDevices.getUserMedia({audio:!0}),W=new AudioContext,X=W.createMediaStreamSource(L),et=W.createAnalyser();et.fftSize=256,X.connect(et),p(!0);const C=new Uint8Array(et.frequencyBinCount),D=()=>{if(!d)return;et.getByteFrequencyData(C);const w=C.reduce((U,B)=>U+B,0)/C.length;g(w),document.querySelectorAll(".voice-circle").forEach(U=>{U.style.animationDuration=`${2-w/128}s`}),requestAnimationFrame(D)};D()}catch(L){console.error("Error accessing microphone:",L)}},M=()=>{p(!1)},[I,j]=It.useState({title:"",description:null,date:"",time:"",start_date:null,end_date:null,website:null,frequency:"",recurring_until:null,type:"regular"}),Y=async()=>{if(I.title.length!==0){console.log("Task Title:",I.title);try{const L=await fetch("https://naturaltask.onrender.com/generate-json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:I.title})});if(L.ok){const W=await L.json();console.log("Task created:",W),j({title:W.generated_json.task,description:W.generated_json.description,date:W.generated_json.date,time:W.generated_json.time,start_date:W.generated_json.start_date,end_date:W.generated_json.end_date,website:W.generated_json.website,frequency:W.generated_json.frequency,recurring_until:W.generated_json.recurring_until,type:W.generated_json.type}),h("postgen")}else console.error("Failed to create task:",L.statusText)}catch(L){console.error("Error creating task:",L)}}},K=async()=>{try{var L;await nc().then(X=>{console.log("User ID on this page:",X),L=X});const W=await Xb(Y_(Ec,"users",L,"tasks"),I);console.log("Task saved with ID:",W.id),console.log("docRef :",W),console.log("Task:",I);try{i&&t2(I),console.log("Chrome alarm added for task:",I)}catch(X){console.error("Error adding Chrome alarm for task:",X)}a()}catch(W){console.error("Error saving task to Firestore:",W)}};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"add-task",children:[x.jsx("div",{className:"atc-header",children:x.jsx("button",{className:"btn btn--secondary",onClick:a,children:"X"})}),x.jsxs("div",{className:"atc-container-"+o,children:[(o=="idle"||o=="text")&&x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"atc-example",children:['"',i2[0],'"']}),x.jsx("textarea",{ref:s,className:`atc-text-input ${I.title?"atc-text-input-nonempty":""}`,placeholder:"Type your task...",value:I.title,onChange:L=>{j({...I,title:L.target.value}),L.target.value.length>0?h("text"):h("idle")}}),x.jsxs("div",{className:"atc-btns",children:[x.jsxs("button",{className:"atc-voice-btn btn",disabled:I.title.length==0,onClick:Y,children:[x.jsx("span",{children:"Go"}),x.jsx("img",{src:Jb,alt:"AI Star",width:20,height:20})]}),x.jsx("span",{children:"OR"}),x.jsx("button",{className:"atc-voice-btn btn",onClick:()=>h("voice"),children:x.jsx(kf,{})})]}),o=="idle"&&x.jsxs(x.Fragment,{children:[x.jsx("hr",{}),x.jsx("h4",{children:"OR"}),x.jsx("div",{className:"atc-btns",children:x.jsx("button",{className:"atc-voice-btn btn btn--secondary",children:"Add Manually"})})]})]}),o=="voice"&&x.jsxs("div",{className:"atc-vi-container",children:[x.jsx("div",{className:"atc-vi",children:x.jsxs("div",{className:"atc-vi-mic",children:[x.jsx(kf,{style:{zIndex:100}}),x.jsxs("div",{className:"voice-visualizer",children:[x.jsx("div",{className:"voice-circle circle1"}),x.jsx("div",{className:"voice-circle circle2"}),x.jsx("div",{className:"voice-circle circle3"})]}),x.jsx("div",{className:"recording-timer",children:formatTime(T)})]})}),x.jsx("button",{className:"atc-voice-btn btn btn--secondary",onClick:()=>h("genwait"),children:"Done (Space)"})]}),o=="genwait"&&x.jsxs("div",{className:"atc-genwait-container",children:[x.jsx("h4",{children:"Understanding"}),x.jsx("span",{className:"loader"})]}),o=="postgen"&&x.jsxs("div",{className:"atc-postgen-container",children:[x.jsxs("div",{className:"atc-postgen-header",children:[x.jsx("h4",{children:"Your Task."}),x.jsxs("button",{className:"atc-voice-btn btn",onClick:K,children:[x.jsx("span",{children:"Confirm"}),x.jsx(ZE,{})]}),x.jsx("hr",{})]}),x.jsxs("form",{className:"atc-postgen-fields",children:[x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"title",children:"Title"}),x.jsx("input",{type:"text",id:"title",name:"title",value:I.title,onChange:L=>j({...I,title:L.target.value})})]}),x.jsxs("div",{className:"atc-grid",children:[x.jsxs("div",{className:"atc-row",children:[x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"date",children:"Date"}),x.jsx("input",{type:"date",id:"date",name:"date",value:I.date,onChange:L=>j({...I,date:L.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"time",children:"Time"}),x.jsx("input",{type:"time",id:"time",name:"time",value:I.time,onChange:L=>j({...I,time:L.target.value})})]})]}),x.jsxs("div",{className:"atc-row",children:[x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"start_date",children:"Start Date"}),x.jsx("input",{type:"date",id:"start_date",name:"start_date",value:I.start_date||"",onChange:L=>j({...I,start_date:L.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"end_date",children:"End Date"}),x.jsx("input",{type:"date",id:"end_date",name:"end_date",value:I.end_date||"",onChange:L=>j({...I,end_date:L.target.value})})]})]}),x.jsxs("div",{className:"atc-row",children:[x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"frequency",children:"Frequency"}),x.jsx("input",{type:"text",id:"frequency",name:"frequency",value:I.frequency,onChange:L=>j({...I,frequency:L.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"recurring_until",children:"Recurring Until"}),x.jsx("input",{type:"date",id:"recurring_until",name:"recurring_until",value:I.recurring_until||"",onChange:L=>j({...I,recurring_until:L.target.value})})]})]})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"website",children:"Website"}),x.jsx("input",{type:"text",id:"website",name:"website",value:I.website||"",onChange:L=>j({...I,website:L.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"type",children:"Type"}),x.jsx("input",{type:"text",id:"type",name:"type",value:I.type,onChange:L=>j({...I,type:L.target.value})})]}),x.jsxs("div",{className:"atc-postgen-field",children:[x.jsx("label",{htmlFor:"description",children:"Description"}),x.jsx("textarea",{id:"description",name:"description",value:I.description||"",onChange:L=>j({...I,description:L.target.value})})]})]})]})]})]})})}const i2=["Automata Theory Class at 8:55am on Mondays, 9:55am on Tuesdays and Thursdays, 10:55am on Wednesdays","Leetcode from 10pm-12am every day.","Prepare for OS Examination coming Saturday."];function ps(a){const[e,i]=It.useState("");function s(g){if(g>3&&g<21)return"th";switch(g%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function o(g){if(!g)return"";const T=new Date(g);if(isNaN(T.getTime()))return"Invalid date";const R=T.getDate(),E=s(R),A=T.toLocaleString("en-US",{month:"short"}),M=T.getFullYear(),I=new Date().getFullYear();return M===I?`${R}${E} ${A}`:`${R}${E} ${A} ${M}`}function h(g){let T=g.getHours();const R=g.getMinutes(),E=T>=12?"pm":"am",A=T%12||12;return R>0?`${A}:${R<10?"0"+R:R}${E}`:`${A}${E}`}function d(g){if(!g)return"";let T,R;g.includes("/")?[T,R]=g.split("/"):(T=g,R=null);const E=new Date(T);if(isNaN(E.getTime()))return"Invalid date";const I=Math.floor((E-new Date)/(1e3*60*60*24))<=10,j=I?`${o(T)} | ${h(E)}`:o(T);if(R){const Y=new Date(R);return isNaN(Y.getTime())?"Invalid date":E.toDateString()===Y.toDateString()?I?`${o(T)} | ${h(E)} - ${h(Y)}`:o(T):I?`${j} - ${o(R)} | ${h(Y)}`:`${o(T)} - ${o(R)}`}return j}function p(g){if(!g)return"";const T=g.includes("/")?g.split("/")[0]:g,R=new Date(T);if(isNaN(R.getTime()))return"Invalid date";const A=R-new Date,M=Math.floor(A/(1e3*60)),I=Math.floor(A/(1e3*60*60)),j=Math.floor(A/(1e3*60*60*24)),Y=Math.floor(A/(1e3*60*60*24*30)),K=Math.floor(A/(1e3*60*60*24*365));if(A<0){const L=Math.abs(M),W=Math.abs(I),X=Math.abs(j),et=Math.abs(Y),C=Math.abs(K);return L<60?`${L} minutes ago`:W<24?`${W} hours ago`:X<30?`${X} days ago`:et<12?`${et} months ago`:`${C} years ago`}else return M<1?"Happening now":M<60?`In ${M} minutes`:I<24?`In ${I} hours`:j<30?`In ${j} days`:Y<12?`In ${Y} months`:`In ${K} years`}function y(g){if(!g)return"";const T=g.includes("/")?g.split("/")[0]:g,R=new Date(T);return isNaN(R.getTime())?"Invalid date":h(R)}return It.useEffect(()=>{const g=()=>{i(p(a))};g();const T=setInterval(g,6e4);return()=>clearInterval(T)},[a]),{formattedDateTime:d(a),formattedDate:o(a),relativeTime:e,formatDateTime:d,getDifference:p,getTimeOnly:y}}function Mf(a){return{second:a.getSeconds(),minute:a.getMinutes(),hour:a.getHours(),day:a.getDate(),month:a.getMonth(),weekday:a.getDay(),year:a.getFullYear()}}function ov(a,e){return new Date(a,e+1,0).getDate()}function uv(a,e){return a<=e?e-a:6-a+e+1}class r2{constructor({seconds:e,minutes:i,hours:s,days:o,months:h,weekdays:d}){if(!e||e.size===0)throw new Error("There must be at least one allowed second.");if(!i||i.size===0)throw new Error("There must be at least one allowed minute.");if(!s||s.size===0)throw new Error("There must be at least one allowed hour.");if(!h||h.size===0)throw new Error("There must be at least one allowed month.");if((!d||d.size===0)&&(!o||o.size===0))throw new Error("There must be at least one allowed day or weekday.");this.seconds=Array.from(e).sort((y,g)=>y-g),this.minutes=Array.from(i).sort((y,g)=>y-g),this.hours=Array.from(s).sort((y,g)=>y-g),this.days=Array.from(o).sort((y,g)=>y-g),this.months=Array.from(h).sort((y,g)=>y-g),this.weekdays=Array.from(d).sort((y,g)=>y-g);const p=(y,g,T)=>{if(g.some(R=>typeof R!="number"||R%1!==0||R<T.min||R>T.max))throw new Error(`${y} must only consist of integers which are within the range of ${T.min} and ${T.max}`)};p("seconds",this.seconds,{min:0,max:59}),p("minutes",this.minutes,{min:0,max:59}),p("hours",this.hours,{min:0,max:23}),p("days",this.days,{min:1,max:31}),p("months",this.months,{min:0,max:11}),p("weekdays",this.weekdays,{min:0,max:6}),this.reversed={seconds:this.seconds.map(y=>y).reverse(),minutes:this.minutes.map(y=>y).reverse(),hours:this.hours.map(y=>y).reverse(),days:this.days.map(y=>y).reverse(),months:this.months.map(y=>y).reverse(),weekdays:this.weekdays.map(y=>y).reverse()}}findAllowedHour(e,i){return e==="next"?this.hours.find(s=>s>=i):this.reversed.hours.find(s=>s<=i)}findAllowedMinute(e,i){return e==="next"?this.minutes.find(s=>s>=i):this.reversed.minutes.find(s=>s<=i)}findAllowedSecond(e,i){return e==="next"?this.seconds.find(s=>s>i):this.reversed.seconds.find(s=>s<i)}findAllowedTime(e,i){let s=this.findAllowedHour(e,i.hour);if(s!==void 0)if(s===i.hour){let o=this.findAllowedMinute(e,i.minute);if(o!==void 0)if(o===i.minute){const h=this.findAllowedSecond(e,i.second);if(h!==void 0)return{hour:s,minute:o,second:h};if(o=this.findAllowedMinute(e,e==="next"?i.minute+1:i.minute-1),o!==void 0)return{hour:s,minute:o,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:s,minute:o,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]};if(s=this.findAllowedHour(e,e==="next"?i.hour+1:i.hour-1),s!==void 0)return{hour:s,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:s,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}findAllowedDayInMonth(e,i,s,o){var h,d;if(o<1)throw new Error("startDay must not be smaller than 1.");const p=ov(i,s),y=this.days.length!==31,g=this.weekdays.length!==7;if(!y&&!g)return o>p?e==="next"?void 0:p:o;let T;y&&(T=e==="next"?this.days.find(E=>E>=o):this.reversed.days.find(E=>E<=o),T!==void 0&&T>p&&(T=void 0));let R;if(g){const E=new Date(i,s,o).getDay(),A=e==="next"?(h=this.weekdays.find(M=>M>=E))!==null&&h!==void 0?h:this.weekdays[0]:(d=this.reversed.weekdays.find(M=>M<=E))!==null&&d!==void 0?d:this.reversed.weekdays[0];if(A!==void 0){const M=e==="next"?uv(E,A):uv(A,E);R=e==="next"?o+M:o-M,(R>p||R<1)&&(R=void 0)}}if(T!==void 0&&R!==void 0)return e==="next"?Math.min(T,R):Math.max(T,R);if(T!==void 0)return T;if(R!==void 0)return R}getNextDate(e=new Date){const i=Mf(e);let s=i.year,o=this.months.findIndex(d=>d>=i.month);o===-1&&(o=0,s++);const h=this.months.length*5;for(let d=0;d<h;d++){const p=s+Math.floor((o+d)/this.months.length),y=this.months[(o+d)%this.months.length],g=p===i.year&&y===i.month;let T=this.findAllowedDayInMonth("next",p,y,g?i.day:1),R=g&&T===i.day;if(T!==void 0&&R){const E=this.findAllowedTime("next",i);if(E!==void 0)return new Date(p,y,T,E.hour,E.minute,E.second);T=this.findAllowedDayInMonth("next",p,y,T+1),R=!1}if(T!==void 0&&!R)return new Date(p,y,T,this.hours[0],this.minutes[0],this.seconds[0])}throw new Error("No valid next date was found.")}getNextDates(e,i){const s=[];let o;for(let h=0;h<e;h++)o=this.getNextDate(o??i),s.push(o);return s}*getNextDatesIterator(e,i){let s;for(;;){if(s=this.getNextDate(s??e),i&&i.getTime()<s.getTime())return;yield s}}getPrevDate(e=new Date){const i=Mf(e);let s=i.year,o=this.reversed.months.findIndex(d=>d<=i.month);o===-1&&(o=0,s--);const h=this.reversed.months.length*5;for(let d=0;d<h;d++){const p=s-Math.floor((o+d)/this.reversed.months.length),y=this.reversed.months[(o+d)%this.reversed.months.length],g=p===i.year&&y===i.month;let T=this.findAllowedDayInMonth("prev",p,y,g?i.day:ov(p,y)),R=g&&T===i.day;if(T!==void 0&&R){const E=this.findAllowedTime("prev",i);if(E!==void 0)return new Date(p,y,T,E.hour,E.minute,E.second);T>1&&(T=this.findAllowedDayInMonth("prev",p,y,T-1),R=!1)}if(T!==void 0&&!R)return new Date(p,y,T,this.reversed.hours[0],this.reversed.minutes[0],this.reversed.seconds[0])}throw new Error("No valid previous date was found.")}getPrevDates(e,i){const s=[];let o;for(let h=0;h<e;h++)o=this.getPrevDate(o??i),s.push(o);return s}*getPrevDatesIterator(e,i){let s;for(;;){if(s=this.getPrevDate(s??e),i&&i.getTime()>s.getTime())return;yield s}}matchDate(e){const{second:i,minute:s,hour:o,day:h,month:d,weekday:p}=Mf(e);return this.seconds.indexOf(i)===-1||this.minutes.indexOf(s)===-1||this.hours.indexOf(o)===-1||this.months.indexOf(d)===-1?!1:this.days.length!==31&&this.weekdays.length!==7?this.days.indexOf(h)!==-1||this.weekdays.indexOf(p)!==-1:this.days.indexOf(h)!==-1&&this.weekdays.indexOf(p)!==-1}}const a2={min:0,max:59},s2={min:0,max:59},l2={min:0,max:23},o2={min:1,max:31},u2={min:1,max:12,aliases:{jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"}},a0={min:0,max:7,aliases:{mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6",sun:"7"}},c2={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *","@minutely":"* * * * *"};function ga(a,e){const i=new Set;if(a==="*"){for(let T=e.min;T<=e.max;T=T+1)i.add(T);return i}const s=a.split(",");if(s.length>1){for(const T of s){const R=ga(T,e);for(const E of R)i.add(E)}return i}const o=T=>{var R,E;T=(E=(R=e.aliases)===null||R===void 0?void 0:R[T.toLowerCase()])!==null&&E!==void 0?E:T;const A=Number.parseInt(T,10);if(Number.isNaN(A))throw new Error(`Failed to parse ${a}: ${T} is NaN.`);if(A<e.min||A>e.max)throw new Error(`Failed to parse ${a}: ${T} is outside of constraint range of ${e.min} - ${e.max}.`);return A},h=/^(([0-9a-zA-Z]+)-([0-9a-zA-Z]+)|\*)(\/([0-9]+))?$/.exec(a);if(h===null)return i.add(o(a)),i;let d=h[1]==="*"?e.min:o(h[2]);const p=h[1]==="*"?e.max:o(h[3]);if(e===a0&&d===7&&p!==7&&(d=0),d>p)throw new Error(`Failed to parse ${a}: Invalid range (start: ${d}, end: ${p}).`);const y=h[5];let g=1;if(y!==void 0){if(g=Number.parseInt(y,10),Number.isNaN(g))throw new Error(`Failed to parse step: ${y} is NaN.`);if(g<1)throw new Error(`Failed to parse step: Expected ${y} to be greater than 0.`)}for(let T=d;T<=p;T=T+g)i.add(T);return i}function h2(a){var e;if(typeof a!="string")throw new TypeError("Invalid cron expression: must be of type string.");a=(e=c2[a.toLowerCase()])!==null&&e!==void 0?e:a;const i=a.split(" ").filter(g=>g.length>0);if(i.length<5||i.length>6)throw new Error("Invalid cron expression: expected 5 or 6 elements.");const s=i.length===6?i[0]:"0",o=i.length===6?i[1]:i[0],h=i.length===6?i[2]:i[1],d=i.length===6?i[3]:i[2],p=i.length===6?i[4]:i[3],y=i.length===6?i[5]:i[4];return new r2({seconds:ga(s,a2),minutes:ga(o,s2),hours:ga(h,l2),days:ga(d,o2),months:new Set(Array.from(ga(p,u2)).map(g=>g-1)),weekdays:new Set(Array.from(ga(y,a0)).map(g=>g%7))})}var da={},cv;function f2(){if(cv)return da;cv=1;var a=da&&da.__assign||function(){return a=Object.assign||function(L){for(var W,X=1,et=arguments.length;X<et;X++){W=arguments[X];for(var C in W)Object.prototype.hasOwnProperty.call(W,C)&&(L[C]=W[C])}return L},a.apply(this,arguments)};Object.defineProperty(da,"__esModule",{value:!0}),da.isValidCron=void 0;var e=function(L){return/^\d+$/.test(L)?Number(L):NaN},i=function(L){return L==="*"},s=function(L){return L==="?"},o=function(L,W,X){return L>=W&&L<=X},h=function(L,W,X){var et=L.split("-");switch(et.length){case 1:return i(L)||o(e(L),W,X);case 2:var C=et.map(function(V){return e(V)}),D=C[0],w=C[1];return D<=w&&o(D,W,X)&&o(w,W,X);default:return!1}},d=function(L){return L===void 0||L.search(/[^\d]/)===-1&&e(L)>0},p=function(L,W,X){if(L.search(/[^\d-,\/*]/)!==-1)return!1;var et=L.split(",");return et.every(function(C){var D=C.split("/");if(C.trim().endsWith("/")||D.length>2)return!1;var w=D[0],V=D[1];return h(w,W,X)&&d(V)})},y=function(L){return p(L,0,59)},g=function(L){return p(L,0,59)},T=function(L){return p(L,0,23)},R=function(L,W){return W&&s(L)||p(L,1,31)},E={jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"},A=function(L,W){if(L.search(/\/[a-zA-Z]/)!==-1)return!1;if(W){var X=L.toLowerCase().replace(/[a-z]{3}/g,function(et){return E[et]===void 0?et:E[et]});return p(X,1,12)}return p(L,1,12)},M={sun:"0",mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6"},I=function(L,W,X,et){if(X&&s(L))return!0;if(!X&&s(L)||L.search(/\/[a-zA-Z]/)!==-1)return!1;if(W){var C=L.toLowerCase().replace(/[a-z]{3}/g,function(D){return M[D]===void 0?D:M[D]});return p(C,0,et?7:6)}return p(L,0,et?7:6)},j=function(L,W,X){return!(X&&s(L)&&s(W))},Y=function(L){return L.trim().split(/\s+/)},K={alias:!1,seconds:!1,allowBlankDay:!1,allowSevenAsSunday:!1};return da.isValidCron=function(L,W){W=a(a({},K),W);var X=Y(L);if(X.length>(W.seconds?6:5)||X.length<5)return!1;var et=[];if(X.length===6){var C=X.shift();C&&et.push(y(C))}var D=X[0],w=X[1],V=X[2],U=X[3],B=X[4];return et.push(g(D)),et.push(T(w)),et.push(R(V,W.allowBlankDay)),et.push(A(U,W.alias)),et.push(I(B,W.alias,W.allowBlankDay,W.allowSevenAsSunday)),et.push(j(V,B,W.allowBlankDay)),et.every(Boolean)},da}f2();var Uf={exports:{}},hv;function d2(){return hv||(hv=1,function(a,e){(function(s,o){a.exports=o()})(globalThis,()=>(()=>{var i={949:(d,p,y)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CronParser=void 0;var g=y(515),T=function(){function R(E,A,M){A===void 0&&(A=!0),M===void 0&&(M=!1),this.expression=E,this.dayOfWeekStartIndexZero=A,this.monthStartIndexZero=M}return R.prototype.parse=function(){var E,A,M=(E=this.expression)!==null&&E!==void 0?E:"";if(M.startsWith("@")){var I=this.parseSpecial(this.expression);A=this.extractParts(I)}else A=this.extractParts(this.expression);return this.normalize(A),this.validate(A),A},R.prototype.parseSpecial=function(E){var A={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@midnight":"0 0 * * *","@hourly":"0 * * * *"},M=A[E];if(!M)throw new Error("Unknown special expression.");return M},R.prototype.extractParts=function(E){if(!this.expression)throw new Error("cron expression is empty");for(var A=E.trim().split(/[ ]+/),M=0;M<A.length;M++)if(A[M].includes(",")){var I=A[M].split(",").map(function(Y){return Y.trim()}).filter(function(Y){return Y!==""}).map(function(Y){return isNaN(Number(Y))?Y:Number(Y)}).filter(function(Y){return Y!==null&&Y!==""});I.length===0&&I.push("*"),I.sort(function(Y,K){return Y!==null&&K!==null?Y-K:0}),A[M]=I.map(function(Y){return Y!==null?Y.toString():""}).join(",")}if(A.length<5)throw new Error("Expression has only ".concat(A.length," part").concat(A.length==1?"":"s",". At least 5 parts are required."));if(A.length==5)A.unshift(""),A.push("");else if(A.length==6){var j=/\d{4}$/.test(A[5])||A[4]=="?"||A[2]=="?";j?A.unshift(""):A.push("")}else if(A.length>7)throw new Error("Expression has ".concat(A.length," parts; too many!"));return A},R.prototype.normalize=function(E){var A=this;if(E[3]=E[3].replace("?","*"),E[5]=E[5].replace("?","*"),E[2]=E[2].replace("?","*"),E[0].indexOf("0/")==0&&(E[0]=E[0].replace("0/","*/")),E[1].indexOf("0/")==0&&(E[1]=E[1].replace("0/","*/")),E[2].indexOf("0/")==0&&(E[2]=E[2].replace("0/","*/")),E[3].indexOf("1/")==0&&(E[3]=E[3].replace("1/","*/")),E[4].indexOf("1/")==0&&(E[4]=E[4].replace("1/","*/")),E[6].indexOf("1/")==0&&(E[6]=E[6].replace("1/","*/")),E[5]=E[5].replace(/(^\d)|([^#/\s]\d)/g,function(X){var et=X.replace(/\D/,""),C=et;return A.dayOfWeekStartIndexZero?et=="7"&&(C="0"):C=(parseInt(et)-1).toString(),X.replace(et,C)}),E[5]=="L"&&(E[5]="6"),E[3]=="?"&&(E[3]="*"),E[3].indexOf("W")>-1&&(E[3].indexOf(",")>-1||E[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var M={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var I in M)E[5]=E[5].replace(new RegExp(I,"gi"),M[I].toString());E[4]=E[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(X){var et=X.replace(/\D/,""),C=et;return A.monthStartIndexZero&&(C=(parseInt(et)+1).toString()),X.replace(et,C)});var j={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var Y in j)E[4]=E[4].replace(new RegExp(Y,"gi"),j[Y].toString());E[0]=="0"&&(E[0]=""),!/\*|\-|\,|\//.test(E[2])&&(/\*|\//.test(E[1])||/\*|\//.test(E[0]))&&(E[2]+="-".concat(E[2]));for(var K=0;K<E.length;K++)if(E[K].indexOf(",")!=-1&&(E[K]=E[K].split(",").filter(function(X){return X!==""}).join(",")||"*"),E[K]=="*/1"&&(E[K]="*"),E[K].indexOf("/")>-1&&!/^\*|\-|\,/.test(E[K])){var L=null;switch(K){case 4:L="12";break;case 5:L="6";break;case 6:L="9999";break;default:L=null;break}if(L!==null){var W=E[K].split("/");E[K]="".concat(W[0],"-").concat(L,"/").concat(W[1])}}},R.prototype.validate=function(E){var A="0-9,\\-*/";this.validateOnlyExpectedCharactersFound(E[0],A),this.validateOnlyExpectedCharactersFound(E[1],A),this.validateOnlyExpectedCharactersFound(E[2],A),this.validateOnlyExpectedCharactersFound(E[3],"0-9,\\-*/LW"),this.validateOnlyExpectedCharactersFound(E[4],A),this.validateOnlyExpectedCharactersFound(E[5],"0-9,\\-*/L#"),this.validateOnlyExpectedCharactersFound(E[6],A),this.validateAnyRanges(E)},R.prototype.validateAnyRanges=function(E){g.default.secondRange(E[0]),g.default.minuteRange(E[1]),g.default.hourRange(E[2]),g.default.dayOfMonthRange(E[3]),g.default.monthRange(E[4],this.monthStartIndexZero),g.default.dayOfWeekRange(E[5],this.dayOfWeekStartIndexZero)},R.prototype.validateOnlyExpectedCharactersFound=function(E,A){var M=E.match(new RegExp("[^".concat(A,"]+"),"gi"));if(M&&M.length)throw new Error("Expression contains invalid values: '".concat(M.toString(),"'"))},R}();p.CronParser=T},333:(d,p,y)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ExpressionDescriptor=void 0;var g=y(823),T=y(949),R=function(){function E(A,M){if(this.expression=A,this.options=M,this.expressionParts=new Array(5),!this.options.locale&&E.defaultLocale&&(this.options.locale=E.defaultLocale),!E.locales[this.options.locale]){var I=Object.keys(E.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(I,"'.")),this.options.locale=I}this.i18n=E.locales[this.options.locale],M.use24HourTimeFormat===void 0&&(M.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return E.toString=function(A,M){var I=M===void 0?{}:M,j=I.throwExceptionOnParseError,Y=j===void 0?!0:j,K=I.verbose,L=K===void 0?!1:K,W=I.dayOfWeekStartIndexZero,X=W===void 0?!0:W,et=I.monthStartIndexZero,C=et===void 0?!1:et,D=I.use24HourTimeFormat,w=I.locale,V=w===void 0?null:w,U=I.tzOffset,B=U===void 0?0:U,N={throwExceptionOnParseError:Y,verbose:L,dayOfWeekStartIndexZero:X,monthStartIndexZero:C,use24HourTimeFormat:D,locale:V,tzOffset:B};N.tzOffset&&console.warn("'tzOffset' option has been deprecated and will be removed in a future release.");var Zt=new E(A,N);return Zt.getFullDescription()},E.initialize=function(A,M){M===void 0&&(M="en"),E.specialCharacters=["/","-",",","*"],E.defaultLocale=M,A.load(E.locales)},E.prototype.getFullDescription=function(){var A="";try{var M=new T.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=M.parse();var I=this.getTimeOfDayDescription(),j=this.getDayOfMonthDescription(),Y=this.getMonthDescription(),K=this.getDayOfWeekDescription(),L=this.getYearDescription();A+=I+j+K+Y+L,A=this.transformVerbosity(A,!!this.options.verbose),A=A.charAt(0).toLocaleUpperCase()+A.substr(1)}catch(W){if(!this.options.throwExceptionOnParseError)A=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(W)}return A},E.prototype.getTimeOfDayDescription=function(){var A=this.expressionParts[0],M=this.expressionParts[1],I=this.expressionParts[2],j="";if(!g.StringUtilities.containsAny(M,E.specialCharacters)&&!g.StringUtilities.containsAny(I,E.specialCharacters)&&!g.StringUtilities.containsAny(A,E.specialCharacters))j+=this.i18n.atSpace()+this.formatTime(I,M,A);else if(!A&&M.indexOf("-")>-1&&!(M.indexOf(",")>-1)&&!(M.indexOf("/")>-1)&&!g.StringUtilities.containsAny(I,E.specialCharacters)){var Y=M.split("-");j+=g.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(I,Y[0],""),this.formatTime(I,Y[1],""))}else if(!A&&I.indexOf(",")>-1&&I.indexOf("-")==-1&&I.indexOf("/")==-1&&!g.StringUtilities.containsAny(M,E.specialCharacters)){var K=I.split(",");j+=this.i18n.at();for(var L=0;L<K.length;L++)j+=" ",j+=this.formatTime(K[L],M,""),L<K.length-2&&(j+=","),L==K.length-2&&(j+=this.i18n.spaceAnd())}else{var W=this.getSecondsDescription(),X=this.getMinutesDescription(),et=this.getHoursDescription();if(j+=W,j&&X&&(j+=", "),j+=X,X===et)return j;j&&et&&(j+=", "),j+=et}return j},E.prototype.getSecondsDescription=function(){var A=this,M=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(I){return I},function(I){return g.StringUtilities.format(A.i18n.everyX0Seconds(I),I)},function(I){return A.i18n.secondsX0ThroughX1PastTheMinute()},function(I){return I=="0"?"":parseInt(I)<20?A.i18n.atX0SecondsPastTheMinute(I):A.i18n.atX0SecondsPastTheMinuteGt20()||A.i18n.atX0SecondsPastTheMinute(I)});return M},E.prototype.getMinutesDescription=function(){var A=this,M=this.expressionParts[0],I=this.expressionParts[2],j=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(Y){return Y},function(Y){return g.StringUtilities.format(A.i18n.everyX0Minutes(Y),Y)},function(Y){return A.i18n.minutesX0ThroughX1PastTheHour()},function(Y){try{return Y=="0"&&I.indexOf("/")==-1&&M==""?A.i18n.everyHour():parseInt(Y)<20?A.i18n.atX0MinutesPastTheHour(Y):A.i18n.atX0MinutesPastTheHourGt20()||A.i18n.atX0MinutesPastTheHour(Y)}catch{return A.i18n.atX0MinutesPastTheHour(Y)}});return j},E.prototype.getHoursDescription=function(){var A=this,M=this.expressionParts[2],I=this.getSegmentDescription(M,this.i18n.everyHour(),function(K){return A.formatTime(K,"0","")},function(K){return g.StringUtilities.format(A.i18n.everyX0Hours(K),K)},function(K){return A.i18n.betweenX0AndX1()},function(K){return A.i18n.atX0()});if(I&&M.includes("-")&&this.expressionParts[1]!="0"){var j=Array.from(I.matchAll(/:00/g));if(j.length>1){var Y=j[j.length-1].index;I=I.substring(0,Y)+":59"+I.substring(Y+3)}}return I},E.prototype.getDayOfWeekDescription=function(){var A=this,M=this.i18n.daysOfTheWeek(),I=null;return this.expressionParts[5]=="*"?I="":I=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(j,Y){var K=j;j.indexOf("#")>-1?K=j.substring(0,j.indexOf("#")):j.indexOf("L")>-1&&(K=K.replace("L",""));var L=parseInt(K);if(A.options.tzOffset){var W=A.expressionParts[2],X=parseInt(W)+(A.options.tzOffset?A.options.tzOffset:0);X>=24?L++:X<0&&L--,L>6?L=0:L<0&&(L=6)}var et=A.i18n.daysOfTheWeekInCase?A.i18n.daysOfTheWeekInCase(Y)[L]:M[L];if(j.indexOf("#")>-1){var C=null,D=j.substring(j.indexOf("#")+1),w=j.substring(0,j.indexOf("#"));switch(D){case"1":C=A.i18n.first(w);break;case"2":C=A.i18n.second(w);break;case"3":C=A.i18n.third(w);break;case"4":C=A.i18n.fourth(w);break;case"5":C=A.i18n.fifth(w);break}et=C+" "+et}return et},function(j){return parseInt(j)==1?"":g.StringUtilities.format(A.i18n.commaEveryX0DaysOfTheWeek(j),j)},function(j){var Y=j.substring(0,j.indexOf("-")),K=A.expressionParts[3]!="*";return K?A.i18n.commaAndX0ThroughX1(Y):A.i18n.commaX0ThroughX1(Y)},function(j){var Y=null;if(j.indexOf("#")>-1){var K=j.substring(j.indexOf("#")+1),L=j.substring(0,j.indexOf("#"));Y=A.i18n.commaOnThe(K,L).trim()+A.i18n.spaceX0OfTheMonth()}else if(j.indexOf("L")>-1)Y=A.i18n.commaOnTheLastX0OfTheMonth(j.replace("L",""));else{var W=A.expressionParts[3]!="*";Y=W?A.i18n.commaAndOnX0():A.i18n.commaOnlyOnX0(j)}return Y}),I},E.prototype.getMonthDescription=function(){var A=this,M=this.i18n.monthsOfTheYear(),I=this.getSegmentDescription(this.expressionParts[4],"",function(j,Y){return Y&&A.i18n.monthsOfTheYearInCase?A.i18n.monthsOfTheYearInCase(Y)[parseInt(j)-1]:M[parseInt(j)-1]},function(j){return parseInt(j)==1?"":g.StringUtilities.format(A.i18n.commaEveryX0Months(j),j)},function(j){return A.i18n.commaMonthX0ThroughMonthX1()||A.i18n.commaX0ThroughX1()},function(j){return A.i18n.commaOnlyInMonthX0?A.i18n.commaOnlyInMonthX0():A.i18n.commaOnlyInX0()});return I},E.prototype.getDayOfMonthDescription=function(){var A=this,M=null,I=this.expressionParts[3];switch(I){case"L":M=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":M=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var j=I.match(/(\d{1,2}W)|(W\d{1,2})/);if(j){var Y=parseInt(j[0].replace("W","")),K=Y==1?this.i18n.firstWeekday():g.StringUtilities.format(this.i18n.weekdayNearestDayX0(),Y.toString());M=g.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),K);break}else{var L=I.match(/L-(\d{1,2})/);if(L){var W=L[1];M=g.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(W),W);break}else{if(I=="*"&&this.expressionParts[5]!="*")return"";M=this.getSegmentDescription(I,this.i18n.commaEveryDay(),function(X){return X=="L"?A.i18n.lastDay():A.i18n.dayX0?g.StringUtilities.format(A.i18n.dayX0(),X):X},function(X){return X=="1"?A.i18n.commaEveryDay():A.i18n.commaEveryX0Days(X)},function(X){return A.i18n.commaBetweenDayX0AndX1OfTheMonth(X)},function(X){return A.i18n.commaOnDayX0OfTheMonth(X)})}break}}return M},E.prototype.getYearDescription=function(){var A=this,M=this.getSegmentDescription(this.expressionParts[6],"",function(I){return/^\d+$/.test(I)?new Date(parseInt(I),1).getFullYear().toString():I},function(I){return g.StringUtilities.format(A.i18n.commaEveryX0Years(I),I)},function(I){return A.i18n.commaYearX0ThroughYearX1()||A.i18n.commaX0ThroughX1()},function(I){return A.i18n.commaOnlyInYearX0?A.i18n.commaOnlyInYearX0():A.i18n.commaOnlyInX0()});return M},E.prototype.getSegmentDescription=function(A,M,I,j,Y,K){var L=null,W=A.indexOf("/")>-1,X=A.indexOf("-")>-1,et=A.indexOf(",")>-1;if(!A)L="";else if(A==="*")L=M;else if(!W&&!X&&!et)L=g.StringUtilities.format(K(A),I(A));else if(et){for(var C=A.split(","),D="",w=0;w<C.length;w++)if(w>0&&C.length>2&&(D+=",",w<C.length-1&&(D+=" ")),w>0&&C.length>1&&(w==C.length-1||C.length==2)&&(D+="".concat(this.i18n.spaceAnd()," ")),C[w].indexOf("/")>-1||C[w].indexOf("-")>-1){var V=C[w].indexOf("-")>-1&&C[w].indexOf("/")==-1,U=this.getSegmentDescription(C[w],M,I,j,V?this.i18n.commaX0ThroughX1:Y,K);V&&(U=U.replace(", ","")),D+=U}else W?D+=this.getSegmentDescription(C[w],M,I,j,Y,K):D+=I(C[w]);W?L=D:L=g.StringUtilities.format(K(A),D)}else if(W){var C=A.split("/");if(L=g.StringUtilities.format(j(C[1]),C[1]),C[0].indexOf("-")>-1){var B=this.generateRangeSegmentDescription(C[0],Y,I);B.indexOf(", ")!=0&&(L+=", "),L+=B}else if(C[0].indexOf("*")==-1){var N=g.StringUtilities.format(K(C[0]),I(C[0]));N=N.replace(", ",""),L+=g.StringUtilities.format(this.i18n.commaStartingX0(),N)}}else X&&(L=this.generateRangeSegmentDescription(A,Y,I));return L},E.prototype.generateRangeSegmentDescription=function(A,M,I){var j="",Y=A.split("-"),K=I(Y[0],1),L=I(Y[1],2),W=M(A);return j+=g.StringUtilities.format(W,K,L),j},E.prototype.formatTime=function(A,M,I){var j=0,Y=0;this.options.tzOffset&&(j=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),Y=parseFloat((this.options.tzOffset%1).toFixed(2)),Y!=0&&(Y*=60));var K=parseInt(A)+j,L=parseInt(M)+Y;L>=60?(L-=60,K+=1):L<0&&(L+=60,K-=1),K>=24?K=K-24:K<0&&(K=24+K);var W="",X=!1;this.options.use24HourTimeFormat||(X=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),W=X?"".concat(this.getPeriod(K)," "):" ".concat(this.getPeriod(K)),K>12&&(K-=12),K===0&&(K=12));var et="";return I&&(et=":".concat(("00"+I).substring(I.length))),"".concat(X?W:"").concat(("00"+K.toString()).substring(K.toString().length),":").concat(("00"+L.toString()).substring(L.toString().length)).concat(et).concat(X?"":W)},E.prototype.transformVerbosity=function(A,M){if(!M&&(A=A.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),A=A.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),A=A.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),A=A.replace(/\, ?$/,""),this.i18n.conciseVerbosityReplacements))for(var I=0,j=Object.entries(this.i18n.conciseVerbosityReplacements());I<j.length;I++){var Y=j[I],K=Y[0],L=Y[1];A=A.replace(new RegExp(K,"g"),L)}return A},E.prototype.getPeriod=function(A){return A>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},E.locales={},E}();p.ExpressionDescriptor=R},747:(d,p,y)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.enLocaleLoader=void 0;var g=y(486),T=function(){function R(){}return R.prototype.load=function(E){E.en=new g.en},R}();p.enLocaleLoader=T},486:(d,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.en=void 0;var y=function(){function g(){}return g.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},g.prototype.atX0MinutesPastTheHourGt20=function(){return null},g.prototype.commaMonthX0ThroughMonthX1=function(){return null},g.prototype.commaYearX0ThroughYearX1=function(){return null},g.prototype.use24HourTimeFormatByDefault=function(){return!1},g.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occurred when generating the expression description. Check the cron expression syntax."},g.prototype.everyMinute=function(){return"every minute"},g.prototype.everyHour=function(){return"every hour"},g.prototype.atSpace=function(){return"At "},g.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},g.prototype.at=function(){return"At"},g.prototype.spaceAnd=function(){return" and"},g.prototype.everySecond=function(){return"every second"},g.prototype.everyX0Seconds=function(){return"every %s seconds"},g.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},g.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},g.prototype.everyX0Minutes=function(){return"every %s minutes"},g.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},g.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},g.prototype.everyX0Hours=function(){return"every %s hours"},g.prototype.betweenX0AndX1=function(){return"between %s and %s"},g.prototype.atX0=function(){return"at %s"},g.prototype.commaEveryDay=function(){return", every day"},g.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},g.prototype.commaX0ThroughX1=function(){return", %s through %s"},g.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},g.prototype.first=function(){return"first"},g.prototype.second=function(){return"second"},g.prototype.third=function(){return"third"},g.prototype.fourth=function(){return"fourth"},g.prototype.fifth=function(){return"fifth"},g.prototype.commaOnThe=function(){return", on the "},g.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},g.prototype.lastDay=function(){return"the last day"},g.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},g.prototype.commaOnlyOnX0=function(){return", only on %s"},g.prototype.commaAndOnX0=function(){return", and on %s"},g.prototype.commaEveryX0Months=function(){return", every %s months"},g.prototype.commaOnlyInX0=function(){return", only in %s"},g.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},g.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},g.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},g.prototype.firstWeekday=function(){return"first weekday"},g.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},g.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},g.prototype.commaEveryX0Days=function(){return", every %s days"},g.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},g.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},g.prototype.commaEveryHour=function(){return", every hour"},g.prototype.commaEveryX0Years=function(){return", every %s years"},g.prototype.commaStartingX0=function(){return", starting %s"},g.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},g}();p.en=y},515:(d,p)=>{Object.defineProperty(p,"__esModule",{value:!0});function y(T,R){if(!T)throw new Error(R)}var g=function(){function T(){}return T.secondRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var M=parseInt(E[A],10);y(M>=0&&M<=59,"seconds part must be >= 0 and <= 59")}},T.minuteRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var M=parseInt(E[A],10);y(M>=0&&M<=59,"minutes part must be >= 0 and <= 59")}},T.hourRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var M=parseInt(E[A],10);y(M>=0&&M<=23,"hours part must be >= 0 and <= 23")}},T.dayOfMonthRange=function(R){for(var E=R.split(","),A=0;A<E.length;A++)if(!isNaN(parseInt(E[A],10))){var M=parseInt(E[A],10);y(M>=1&&M<=31,"DOM part must be >= 1 and <= 31")}},T.monthRange=function(R,E){for(var A=R.split(","),M=0;M<A.length;M++)if(!isNaN(parseInt(A[M],10))){var I=parseInt(A[M],10);y(I>=1&&I<=12,E?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},T.dayOfWeekRange=function(R,E){for(var A=R.split(","),M=0;M<A.length;M++)if(!isNaN(parseInt(A[M],10))){var I=parseInt(A[M],10);y(I>=0&&I<=6,E?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},T}();p.default=g},823:(d,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.StringUtilities=void 0;var y=function(){function g(){}return g.format=function(T){for(var R=[],E=1;E<arguments.length;E++)R[E-1]=arguments[E];return T.replace(/%s/g,function(A){return R.shift()})},g.containsAny=function(T,R){return R.some(function(E){return T.indexOf(E)>-1})},g}();p.StringUtilities=y}},s={};function o(d){var p=s[d];if(p!==void 0)return p.exports;var y=s[d]={exports:{}};return i[d](y,y.exports,o),y.exports}var h={};return(()=>{var d=h;Object.defineProperty(d,"__esModule",{value:!0}),d.toString=void 0;var p=o(333),y=o(747);p.ExpressionDescriptor.initialize(new y.enLocaleLoader),d.default=p.ExpressionDescriptor;var g=p.ExpressionDescriptor.toString;d.toString=g})(),h})())}(Uf)),Uf.exports}d2();function m2(a,e,i){return h2(a).getNextDates(i,e).map(o=>o.toISOString())}function g2({task:a,clickOnTask:e}){var y,g;const[i,s]=It.useState(a.graphic),[o,h]=It.useState([]),{relativeTime:d,getTimeOnly:p}=ps(a.dueDate);return It.useEffect(()=>{if(a.resource&&!a.resource.local&&a.resource.url){const T=a.resource.url.split("/"),R=T[0]+"//"+T[2];s(R+"/favicon.ico")}},[a]),It.useEffect(()=>{if(a.recurring_details){const T=m2(a.recurring_details.cron_rules[0],new Date,3);h(T)}else a.one_time_details&&(console.log(a.one_time_details),h(a.one_time_details.scheduled_datetime))},[a]),x.jsxs("div",{id:"task-card",className:"light",onClick:()=>e(a.title),children:[!((y=a==null?void 0:a.resource)!=null&&y.local)&&x.jsx("img",{src:i,alt:"",className:"tc-graphic"}),((g=a==null?void 0:a.resource)==null?void 0:g.local)&&x.jsx("div",{className:"tc-graphic",children:x.jsx(WE,{className:"tc-graphic"})}),x.jsxs("div",{className:"tc-content",children:[x.jsx("p",{children:x.jsx("b",{children:a.title})}),x.jsx("p",{children:a.description&&String(a.description).substring(0,30)+"..."}),x.jsx("b",{children:x.jsx("p",{children:d})})]}),x.jsx("div",{className:"tc-time",children:x.jsx("p",{children:p(o[0])})})]})}function p2({allTasks:a,closeWindow:e,openTask:i}){const[s,o]=It.useState("regular");return x.jsxs("div",{className:"all-tasks",children:[x.jsx("div",{className:"atc-header",children:x.jsx("button",{className:"btn btn--secondary",onClick:e,children:"X"})}),x.jsx("h1",{className:"atc-header-title",children:"All Tasks"}),x.jsxs("div",{className:"atc-header-tabs",children:[x.jsx("p",{className:`atc-header-tab ${s==="regular"?"atc-header-tab-active":""}`,onClick:()=>o("regular"),children:"Recurring"}),x.jsx("p",{className:`atc-header-tab ${s==="one_time"?"atc-header-tab-active":""}`,onClick:()=>o("reminder"),children:"One-Time"}),x.jsx("p",{className:`atc-header-tab ${s==="history"?"atc-header-tab-active":""}`,onClick:()=>o("history"),children:"History"})]}),x.jsx("div",{className:"atc-tasks-container",children:a.map((h,d)=>h.type===s&&x.jsx(g2,{task:h,clickOnTask:p=>{i(p),e()}},d))})]})}function y2(a){return ji({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"},child:[]}]})(a)}function v2(a){return ji({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(a)}function s0(a){return ji({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"},child:[]},{tag:"path",attr:{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52z"},child:[]}]})(a)}function _2({task:a}){var y,g,T,R,E,A,M,I,j,Y,K,L,W,X,et,C,D,w,V,U,B,N,Zt,Jt,st,yt,dt,zt,k,rt;const[e,i]=It.useState(0),s=ps(((T=(g=(y=a.recurring_details)==null?void 0:y.streak)==null?void 0:g.longest_streak)==null?void 0:T.streak_start)||""),o=ps(((A=(E=(R=a.recurring_details)==null?void 0:R.streak)==null?void 0:E.longest_streak)==null?void 0:A.streak_end)||""),h=ps(((j=(I=(M=a.recurring_details)==null?void 0:M.streak)==null?void 0:I.previous_streak)==null?void 0:j.streak_start)||""),d=ps(((L=(K=(Y=a.recurring_details)==null?void 0:Y.streak)==null?void 0:K.previous_streak)==null?void 0:L.streak_end)||""),p=ps(((et=(X=(W=a.recurring_details)==null?void 0:W.streak)==null?void 0:X.current_streak)==null?void 0:et.streak_start)||"");return It.useEffect(()=>{var lt,ot,bt,Tt,te,xt;const ht=(((bt=(ot=(lt=a.recurring_details)==null?void 0:lt.streak)==null?void 0:ot.current_streak)==null?void 0:bt.count)||0)/(((xt=(te=(Tt=a.recurring_details)==null?void 0:Tt.streak)==null?void 0:te.longest_streak)==null?void 0:xt.count)||1);i(ht)},[a]),x.jsxs("div",{className:"tv-streak-card",children:[x.jsxs("div",{className:"tv-streak-info",children:[x.jsx("div",{className:"tv-streak-icon-container",children:x.jsx(s0,{className:"streak-icon"})}),x.jsxs("div",{className:"tv-streak-details",children:[x.jsx("div",{className:"tv-streak-count",children:((w=(D=(C=a.recurring_details)==null?void 0:C.streak)==null?void 0:D.current_streak)==null?void 0:w.count)||0}),x.jsxs("div",{className:"streak-subtitle",children:["Current Streak From",x.jsx("p",{children:p.formattedDateTime||"N/A"})]})]})]}),x.jsx("div",{className:"tv-streak-progress",children:x.jsx("div",{className:"tv-progress-bar",children:x.jsx("div",{className:`tv-progress-fill ${e===1?"tv-streak-longest-effect":""}`,style:{width:`${e*100}%`}})})}),((B=(U=(V=a.recurring_details)==null?void 0:V.streak)==null?void 0:U.longest_streak)==null?void 0:B.count)>0&&x.jsxs("div",{className:"tv-streak-section",children:[x.jsxs("div",{className:"tv-streak-section-top",children:[x.jsx("div",{className:"tv-streak-section-title",children:"Longest Streak"}),x.jsx("div",{className:"tv-streak-section-count",children:((Jt=(Zt=(N=a.recurring_details)==null?void 0:N.streak)==null?void 0:Zt.longest_streak)==null?void 0:Jt.count)||0})]}),x.jsxs("div",{className:"tv-streak-section-date",children:[x.jsx("p",{children:s.formattedDate||"N/A"}),"To",x.jsx("p",{children:o.formattedDate||"N/A"})]})]}),((dt=(yt=(st=a.recurring_details)==null?void 0:st.streak)==null?void 0:yt.previous_streak)==null?void 0:dt.count)>0&&x.jsxs("div",{className:"tv-streak-section",children:[x.jsxs("div",{className:"tv-streak-section-top",children:[x.jsx("div",{className:"tv-streak-section-title",children:"Previous Streak"}),x.jsx("div",{className:"tv-streak-section-count",children:((rt=(k=(zt=a.recurring_details)==null?void 0:zt.streak)==null?void 0:k.previous_streak)==null?void 0:rt.count)||0})]}),x.jsxs("div",{className:"tv-streak-section-date",children:[x.jsx("p",{children:h.formattedDate||"N/A"}),"To",x.jsx("p",{children:d.formattedDate||"N/A"})]})]})]})}function E2(a){if(!a||!a.title||!a.date||!a.time){console.error("Invalid task data. Task must include 'title', 'date', and 'time'.");return}const e=new Date(`${a.date}T${a.time}`).getTime();chrome.alarms.clear(a.title,i=>{i?console.log(`Alarm '${a.title}' cleared successfully.`):console.warn(`Alarm '${a.title}' not found. Proceeding to create a new one.`);const s={when:e};switch(a.frequency){case"daily":s.periodInMinutes=1440;break;case"weekly":s.periodInMinutes=10080;break;case"weekdays":const o=[1,2,3,4,5],h=new Date(`${a.date}T${a.time}`);o.forEach(d=>{const p=getNextWeekday(h,d),y=`${a.title}-${d}`;chrome.alarms.create(y,{when:p.getTime(),periodInMinutes:1440*7}),chrome.storage.local.set({[y]:a})}),console.log(`Chrome alarms created for weekdays for task '${a.title}'`);return;case"monthly":s.periodInMinutes=43200;break;case"yearly":s.periodInMinutes=525600;break;case"test":s.when=Date.now()+60*1e3;break;case null:break;default:console.error(`Invalid frequency: ${a.frequency}`);return}chrome.alarms.create(a.title,s),console.log(`Alarm '${a.title}' scheduled for ${a.date} at ${a.time} with frequency: ${a.frequency||"none"}`),chrome.storage.local.set({[a.title]:a}),console.log(`Task '${a.title}' data restored in local storage.`)})}async function T2(a,e){try{const i=await nc(),s=Md(Ec,"users",i,"tasks",a);await Gb(s,e),console.log("Task successfully updated:",a)}catch(i){console.error("Error updating task:",i)}typeof chrome<"u"&&chrome.storage&&chrome.storage.local&&(console.log("do u want to update?:",e),E2(e))}function l0(a){if(console.log("Deleting alarm for task:",a),!a||!a.title){console.error("Invalid task data. Task must include 'title'.");return}chrome.alarms.clear(a.title,e=>{e?console.log(`Alarm '${a.title}' cleared successfully.`):console.warn(`Alarm '${a.title}' not found.`)}),chrome.storage.local.remove(a.title,()=>{console.log(`Task '${a.title}' removed from local storage.`)})}async function A2(a){try{console.log("Deleting task:",a.id);const e=await nc();console.log("User ID:",e);const i=Md(Ec,"users",e,"tasks",a.id);console.log("any last word?"),await Fb(i),console.log("Task successfully deleted."),(await qb(i)).exists()?console.warn("Task still exists after deletion attempt."):console.log("Task deletion confirmed.")}catch(e){console.error("Error deleting task:",e)}typeof chrome<"u"&&chrome.storage&&chrome.storage.local&&(console.log("Extension is deleting alarm?"),l0(a))}function fv({task:a,onClose:e,isSelectingAlarm:i,setisSelectingAlarm:s}){const[o,h]=It.useState(a),[d,p]=It.useState(!1),y=M=>{const{name:I,value:j}=M.target;h(Y=>({...Y,[I]:j}))},g=M=>{const{value:I}=M.target;h(j=>({...j,time:I}))},T=async M=>{M.preventDefault(),console.log("clicked");const I={...o,title:o.title,description:o.description,website:o.website,date:o.date,time:o.time};console.log("clicked"),await T2(o.id,I),console.log("Updated Task:",I),p(!1)},R=async()=>{console.log("Deleting task: handledeletetask function",a),await A2(a),e()},E=async()=>{console.log("Deleting alarm: handleDeleteAlarm function",a),await l0(a),s(!1),e()},A=()=>{o.website&&window.open(o.website,"_blank")};return x.jsxs("div",{className:"tv",children:[x.jsxs("div",{className:"tv-header",children:[x.jsx("button",{className:"btn btn--secondary",onClick:e,children:"X"}),d?x.jsx("button",{className:"btn tv-edit-btn",onClick:T,children:"Save"}):x.jsxs("div",{children:[x.jsx("button",{className:"btn tv-edit-btn",onClick:()=>p(!0),children:"Edit"}),i?x.jsx("button",{className:"btn tv-delete-btn",onClick:E,children:"Del Alarm"}):x.jsx("button",{className:"btn tv-delete-btn",onClick:R,children:"Delete"})]})]}),x.jsx("div",{className:"tv-content-header",children:x.jsx("h2",{children:o.title})}),x.jsxs("form",{className:"tv-content",onSubmit:T,children:[x.jsx("p",{children:"MAIN"}),x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Title"})}),x.jsx("input",{type:"text",name:"title",value:o.title||"",onChange:y,disabled:!d,className:d?"tv-input-active":""})]}),x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Description"})}),x.jsx("textarea",{name:"description",value:o.description||"",onChange:y,disabled:!d,className:d?"tv-input-active":""})]}),x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Scheduled Date"})}),x.jsx("input",{type:"date",name:"date",value:o.date||"",onChange:y,disabled:!d,className:d?"tv-input-active":""})]}),x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Scheduled Time"})}),x.jsx("input",{type:"time",name:"time",value:o.time||"",onChange:g,disabled:!d,className:d?"tv-input-active":""})]}),x.jsx("p",{children:"CUSTOMIZE"}),x.jsxs("div",{className:"tv-field",children:[x.jsx("div",{className:"tv-field-header",children:x.jsx("span",{children:"Website"})}),x.jsx("div",{className:"tv-nested-container",children:x.jsxs("div",{className:"tv-nested-field",children:[x.jsxs("div",{className:"tv-field-header",children:[x.jsx("span",{className:"tv-field-label",children:"URL"}),o.website&&x.jsx("button",{type:"button",className:"tv-link-button",onClick:A,children:x.jsx(v2,{})})]}),x.jsx("input",{type:"text",name:"website",value:o.website||"",onChange:y,disabled:!d,className:d?"tv-input-active":""})]})})]}),x.jsxs("div",{children:[x.jsx("p",{children:"STREAKS"}),x.jsx(_2,{task:o})]})]})]})}const dv=({alarm:a,clickOnTask:e})=>{const i=()=>{e(a.name)};return x.jsx("div",{id:"task-card",className:"light cursor-pointer p-4 rounded shadow hover:bg-gray-200 transition",onClick:i,children:x.jsx("div",{className:"tc-content",children:x.jsxs("div",{className:"bg-gray-100 p-3 rounded shadow flex flex-col space-y-2",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Task:"})," ",a.name]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Time:"})," ",new Date(a.scheduledTime).toLocaleString()]})]})})})};function S2({task:a,onClick:e}){var o,h,d;const[i,s]=It.useState(0);return It.useEffect(()=>{var y,g,T,R,E,A;const p=(((T=(g=(y=a.recurring_details)==null?void 0:y.streak)==null?void 0:g.current_streak)==null?void 0:T.count)||0)/(((A=(E=(R=a.recurring_details)==null?void 0:R.streak)==null?void 0:E.longest_streak)==null?void 0:A.count)||1);s(p),console.log(p)},[a]),x.jsxs("div",{className:"streak-card",onClick:e,children:[x.jsxs("span",{className:"streak-label",children:[a.title," ",x.jsx(y2,{})]}),x.jsxs("div",{className:"streak-info",children:[x.jsx("div",{className:"streak-icon-container",children:x.jsx(s0,{className:"streak-icon"})}),x.jsxs("div",{className:"streak-details",children:[x.jsx("div",{className:"streak-count",children:((d=(h=(o=a.recurring_details)==null?void 0:o.streak)==null?void 0:h.current_streak)==null?void 0:d.count)||0}),x.jsx("div",{className:"streak-subtitle",children:"Current Streak"})]})]}),x.jsx("div",{className:"streak-progress",children:x.jsx("div",{className:"progress-bar",children:x.jsx("div",{className:`progress-fill ${i===1?"streak-longest-effect":""}`,style:{width:`${i*100}%`}})})})]})}function b2({tasks:a,onClick:e}){const[i,s]=It.useState([]);return It.useEffect(()=>{s(a.filter(o=>o.type==="recurring"))},[a]),x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"task-section-header",children:x.jsx("h4",{className:"subtitle",children:"YOUR STREAK"})}),x.jsx("div",{id:"streak-container",children:x.jsx("div",{className:"streak-box-grid",children:i.map(o=>x.jsx(S2,{task:o,onClick:()=>e(o.title)},o.title))})})]})}function w2(){const[a,e]=It.useState([]),[i,s]=It.useState(null),[o,h]=It.useState(!1),[d,p]=It.useState(!1),[y,g]=It.useState("idle"),[T,R]=It.useState(!1),[E,A]=It.useState([]),[M,I]=It.useState([]);It.useEffect(()=>{if(typeof chrome>"u"||typeof chrome.alarms>"u"){console.error("Only accessible in Extension.");return}chrome.alarms.getAll(X=>{const et=X.map(C=>C.name);chrome.storage.local.get(et,C=>{const D=new Date,w=X.filter(U=>{const B=C[U.name];return!B||!B.date?!1:new Date(B.date).toDateString()===D.toDateString()}),V=X.filter(U=>{const B=C[U.name];if(!B||!B.date)return!1;const N=new Date(B.date);return N>D&&N.toDateString()!==D.toDateString()});A(w),I(V)})})},[]);const j=()=>{g("idle"),p(!0)},Y=()=>{g("voice"),p(!0)},K=X=>{console.log("Opening alarm:",X),chrome.storage&&chrome.storage.local&&(chrome.storage.local.get(X,et=>{const C=et[X];console.log("Task of this alarm:",C),R(!0),s(C)}),console.log("viewing this alarm:",X))},L=X=>{console.log("Opening task:",X),a.forEach(et=>{et.title===X&&(s(et),console.log("selected task:",et))})},W=async()=>{let X=await nc();const et=await Wb(X);console.log("Retrieved tasks:",et),e(et)};return x.jsxs("div",{id:"home",children:[x.jsxs("section",{className:"new-task-buttons",children:[x.jsxs("button",{className:"btn",onClick:j,children:[x.jsx($E,{})," Add"]}),x.jsxs("button",{className:"btn",onClick:Y,children:[x.jsx(kf,{})," Add w/ Voice"]}),x.jsx("button",{className:"btn btn--secondary",onClick:()=>{h(!0),W()},children:"All Tasks"})]}),x.jsxs("section",{children:[x.jsxs("div",{className:"task-section-header",children:[x.jsx("h4",{className:"subtitle",children:"Today's Alarms"}),x.jsxs("p",{children:[E.length," tasks"]})]}),x.jsx("div",{id:"today-alarms",style:{marginBottom:"2px"},children:E.length===0?x.jsx("p",{children:"No alarms for today."}):E.map(X=>x.jsx("div",{style:{marginBottom:"2px"},children:x.jsx(dv,{alarm:X,clickOnTask:K})},X.name))})]}),x.jsxs("section",{children:[x.jsxs("div",{className:"task-section-header",children:[x.jsx("h4",{className:"subtitle",children:"Upcoming Alarms"}),x.jsxs("p",{children:[M.length," tasks"]})]}),x.jsx("div",{id:"upcoming-alarms",children:M.length===0?x.jsx("p",{children:"No upcoming alarms."}):M.map(X=>x.jsx("div",{style:{marginBottom:"2px"},children:x.jsx(dv,{alarm:X,clickOnTask:K})},X.name))})]}),x.jsx(b2,{tasks:a,onClick:L}),d&&x.jsx(n2,{closeWindow:()=>p(!1),initialState:y}),o&&x.jsx(p2,{allTasks:a,closeWindow:()=>h(!1),openTask:L}),i&&x.jsx(fv,{task:i,onClose:()=>s(null),isSelectingAlarm:T,setisSelectingAlarm:R}),i&&x.jsx(fv,{task:i,onClose:()=>s(null),isSelectingAlarm:T,setisSelectingAlarm:R})]})}function R2(a){return ji({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},child:[]}]})(a)}function D2(a){return ji({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.839 17.525c-.006.002-.559.186-1.039.186-.265 0-.372-.055-.406-.079-.168-.117-.48-.336.054-1.4l1-1.994c.593-1.184.681-2.329.245-3.225-.356-.733-1.039-1.236-1.92-1.416-.317-.065-.639-.097-.958-.097-1.849 0-3.094 1.08-3.146 1.126-.179.158-.221.42-.102.626.12.206.367.3.595.222.005-.002.559-.187 1.039-.187.263 0 .369.055.402.078.169.118.482.34-.051 1.402l-1 1.995c-.594 1.185-.681 2.33-.245 3.225.356.733 1.038 1.236 1.921 1.416.314.063.636.097.954.097 1.85 0 3.096-1.08 3.148-1.126.179-.157.221-.42.102-.626-.12-.205-.369-.297-.593-.223z"},child:[]},{tag:"circle",attr:{cx:"13",cy:"6.001",r:"2.5"},child:[]}]})(a)}function C2(){return x.jsxs("div",{id:"header",children:[x.jsx("p",{children:"NaturalTask"}),x.jsxs("div",{id:"header-right",children:[x.jsx("button",{className:"header-button",onClick:()=>{},children:x.jsx(R2,{})}),x.jsx("button",{className:"header-button",onClick:()=>{},children:x.jsx(D2,{})})]})]})}function O2(){const[a,e]=It.useState(0);return x.jsxs(x.Fragment,{children:[x.jsx(C2,{}),x.jsx(w2,{})]})}qE.createRoot(document.getElementById("root")).render(x.jsx(O2,{}));
